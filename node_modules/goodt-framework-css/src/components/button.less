@btn-border-radius: @border-radius;
@btn-color: @color-body;

@btn-height: calc(@unit*5);
@btn-padding: 0 calc(@unit*2.5);
@btn-font-size: @font-size-smaller;
@btn-line-height: @line-height;

@btn-disabled-color: @color-grey;
@btn-disabled-background: @color-disabled;

@btn-small-height: calc(@unit*4);
@btn-small-padding: 0 calc(@unit*2);
@btn-small-font-size: @font-size-xsmaller;

@btn-large-height: calc(@unit*6);
@btn-large-padding: 0 calc(@unit*3);
@btn-large-font-size: @font-size;

@btn-primary-color: @color-white;
@btn-primary-background: @color-primary;
@btn-primary-focus: @color-primary-focus;
@btn-primary-hover-background: @color-primary-hover;

@btn-secondary-color: @color-body;
@btn-secondary-background: @color-white;
@btn-secondary-focus: @color-primary-focus;

@btn-success-color: @color-white;
@btn-success-background: @color-green;
@btn-success-focus: @color-green-focus;
@btn-success-hover-background: @color-green-hover;

@btn-error-color: @color-white;
@btn-error-background: @color-red;
@btn-error-focus: @color-red-focus;
@btn-error-hover-background: @color-red-hover;

@btn-warn-color: @color-white;
@btn-warn-background: @color-yellow;
@btn-warn-focus: @color-yellow-focus;
@btn-warn-hover-background: @color-yellow-hover;

@btn-misc-color: @color-white;
@btn-misc-background: @color-orange;
@btn-misc-focus: @color-orange-focus;
@btn-misc-hover-background: @color-orange-hover;

@btn-outline-border-width: .rem(1) [ @return];
@btn-outline-background: transparent;

@btn-ghost-color: @color-primary;
@btn-ghost-focus: @color-primary-focus;
@btn-ghost-background: transparent;
@btn-ghost-hover-color: @color-primary-hover;

@btn-loading-preloader-border-width: .rem(2) [ @return];

.hook-btn() {
}

.hook-btn-active() {
}

.hook-btn-focus() {
}

.hook-btn-hover() {
}

.hook-btn-disabled() {
}

.hook-btn-with-color(@color, @background, @hover-background, @focus) {
}

.hook-btn-loading() {
}

.hook-btn-primary() {
}

.hook-btn-secondary() {
}

.hook-btn-misc() {
}

.hook-btn-warn() {
}

.hook-btn-error() {
}

.hook-btn-success() {
}

.hook-btn-inline() {
}

.hook-btn-outline() {
}

.hook-btn-ghost() {
}

.hook-btn-icon() {
}

.helper-btn-with-color(@color, @background, @hover-background, @focus) {
    color: @color;
    background-color: @background;

    &.hover,
    &:hover {
        color: @color;
        background-color: @hover-background;
    }

    &.focus,
    &:focus {
        &:not(.disabled):not([disabled]):not(:disabled) {
            color: @color;
            .focus-state(@focus);
        }
    }

    &:disabled,
    &[disabled],
    &.disabled {
        border-color: transparent;
    }

    &:not(.disabled):not([disabled]):not(:disabled) {
        &.btn-outline {
            color: @background;
            background-color: @btn-outline-background;
            border: @btn-outline-border-width solid currentColor;

            &.hover,
            &:hover {
                border-color: @hover-background;
            }
        }
    }
}

@keyframes btn-loading-animation {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.btn {
    position: relative;
    display: inline-flex;
    vertical-align: middle;
    min-height: @btn-height;
    border: @btn-outline-border-width solid transparent;
    color: @btn-color;
    font-weight: normal;
    font-size: @btn-font-size;
    line-height: @btn-line-height;
    text-decoration: none;
    white-space: nowrap;
    user-select: none;
    background-color: transparent;
    text-align: center;
    border-radius: @btn-border-radius;
    transition+: background 0.2s ease-out, color 0.2s ease-out;
    padding: @btn-padding;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    .has-focus-state();

    &.hover,
    &:hover {
        text-decoration: none;
        .hook-btn-hover();
    }

    &.active,
    &:active {
        text-decoration: none;
        .hook-btn-active();
    }

    &.focus,
    &:focus {
        &:not(.disabled):not([disabled]):not(:disabled) {
            .focus-state();
        }

        .hook-btn-focus();
    }

    &:disabled,
    &[disabled],
    &.disabled {
        pointer-events: none;
        color: @btn-disabled-color;
        background: @btn-disabled-background;
        .hook-btn-disabled();
    }

    .hook-btn();
}

.btn-small {
    font-size: @btn-small-font-size;
    padding: @btn-small-padding;
    min-height: @btn-small-height;
}

.btn-large {
    font-size: @btn-large-font-size;
    padding: @btn-large-padding;
    min-height: @btn-large-height;
}

.btn-loading {
    &:after {
        position: absolute;
        left: 50%;
        top: 50%;
        width: 1em;
        height: 1em;
        margin: -0.5em 0 0 -0.5em;
        border: @btn-loading-preloader-border-width solid transparent;
        border-bottom-color: currentColor;
        border-left-color: currentColor;
        animation: btn-loading-animation 0.75s infinite linear;
        box-sizing: border-box;
        content: '';
        .border-round();
    }

    text-indent: -100 * 100%;
    overflow: hidden;

    .label {
        visibility: hidden !important;
    }

    .hook-btn-loading();
}

.btn-primary {
    .helper-btn-with-color(@btn-primary-color, @btn-primary-background, @btn-primary-hover-background, @btn-primary-focus);
    .hook-btn-with-color(@btn-primary-color, @btn-primary-background, @btn-primary-hover-background, @btn-primary-focus);
    .hook-btn-primary();
}

.btn-misc {
    .helper-btn-with-color(@btn-misc-color, @btn-misc-background, @btn-misc-hover-background, @btn-misc-focus);
    .hook-btn-with-color(@btn-misc-color, @btn-misc-background, @btn-misc-hover-background, @btn-misc-focus);
    .hook-btn-misc();
}

.btn-warn {
    .helper-btn-with-color(@btn-warn-color, @btn-warn-background, @btn-warn-hover-background, @btn-warn-focus);
    .hook-btn-with-color(@btn-warn-color, @btn-warn-background, @btn-warn-hover-background, @btn-warn-focus);
    .hook-btn-warn();
}

.btn-error {
    .helper-btn-with-color(@btn-error-color, @btn-error-background, @btn-error-hover-background, @btn-error-focus);
    .hook-btn-with-color(@btn-error-color, @btn-error-background, @btn-error-hover-background, @btn-error-focus);
    .hook-btn-error();
}

.btn-success {
    .helper-btn-with-color(@btn-success-color, @btn-success-background, @btn-success-hover-background, @btn-success-focus);
    .hook-btn-with-color(@btn-success-color, @btn-success-background, @btn-success-hover-background, @btn-success-focus);
    .hook-btn-success();
}

.btn-secondary {
    color: @btn-secondary-color;
    background: @btn-secondary-background;

    &.focus,
    &:focus {
        &:not(.disabled):not([disabled]):not(:disabled) {
            .focus-state(@btn-secondary-focus);
        }
    }

    .shadow(2);
    .hook-btn-secondary();
}

.btn-inline {
    padding: 0;
    color: @color-body;
    min-height: auto;

    &:disabled,
    &[disabled],
    &.disabled {
        background-color: transparent;
    }

    &.focus,
    &:focus {
        &:not(.disabled):not([disabled]):not(:disabled) {
            color: @color-body;
        }
    }

    &.btn-loading {
        &:after {
            border-bottom-color: $color;
            border-left-color: $color;
        }
    }

    .hook-btn-inline();
}

.btn-ghost {
    color: @btn-ghost-color;
    background-color: @btn-ghost-background;

    &.hover,
    &:hover {
        color: @btn-ghost-hover-color;
    }

    &.focus,
    &:focus {
        &:not(.disabled):not([disabled]):not(:disabled) {
            color: @btn-ghost-color;
            .focus-state(@btn-ghost-focus);
        }
    }

    &:disabled,
    &[disabled],
    &.disabled {
        background-color: transparent;
    }

    &.btn-loading {
        &:after {
            border-bottom-color: $color;
            border-left-color: $color;
        }
    }

    .hook-btn-ghost();
}

.btn-icon {
    width: @btn-height;
    height: @btn-height;
    padding: 0;

    .icon {
        display: flex;
        width: 100%;
        height: 100%;

        &:first-child,
        &:last-child {
            margin: 0;
        }
    }

    &.btn-small {
        width: @btn-small-height;
        height: @btn-small-height;
    }

    &.btn-large {
        width: @btn-large-height;
        height: @btn-large-height;
    }

    .hook-btn-icon();
}

.btn-group {
    display: inline-flex;

    .btn {
        &:first-child {
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }

        &:last-child {
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }

        &:not(:first-child):not(:last-child) {
            border-radius: 0;
        }
    }
}

.btn-wrap {
    margin-left: auto;
    margin-right: auto;
    white-space: normal;
    padding-top: var(--spacer3);
    padding-bottom: var(--spacer3);
}
