<template>
    <ui-panel-container>
        <ui-select class="p" v-model="props.field" :options="fieldOptions" @change="propChanged('field')">
            {{ descriptor.props.field.label }}
        </ui-select>
        <ui-switch class="p" v-model="props.disabled" @change="propChanged('disabled')">
            {{ descriptor.props.disabled.label }}
        </ui-switch>
        <ui-switch v-model="props.readonly" @change="propChanged('readonly')">
            {{ descriptor.props.readonly.label }}
        </ui-switch>
    </ui-panel-container>
</template>
<script>
import { Panel } from '@goodt-wcore/core';

export default {
    extends: Panel,
    data: () => ({
        $meta: { name: 'FormElemSettings', icon: 'form-textbox' }
    }),
    computed: {
        fieldOptions() {
            const { elementInstance } = this;
            const fieldNames = elementInstance?.fieldNames ?? [];
            return fieldNames.map((value) => ({ label: value, value }));
        }
    }
};
</script>
