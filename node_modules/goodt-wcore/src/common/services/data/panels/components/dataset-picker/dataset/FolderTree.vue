<template>
    <div>
        <div class="preloader mar-l1" v-if="isLoading"></div>
        <ui-folder-node
            v-for="node in nodes"
            v-bind="{ node, selectedId, selectNode, getNodes }"
            :key="node.id"></ui-folder-node>
    </div>
</template>
<script>
import UiFolderNode from './FolderNode.vue';

export default {
    components: { UiFolderNode },
    props: {
        selectedId: {
            type: [Number, String],
            default: 0
        },
        selectNode: {
            type: Function,
            default: (id) => {}
        },
        getNodes: {
            type: Function,
            default: () => []
        }
    },
    data() {
        return { nodes: [], isLoading: false };
    },
    async created() {
        this.isLoading = true;
        this.nodes = await this.getNodes();
        this.isLoading = false;
    }
};
</script>
