<template>
    <div class="form-control form-control-icon-both w-100">
        <div class="icon">
            <i class="mdi mdi-magnify mdi-18px"></i>
        </div>
        <input
            class="input w-100"
            :placeholder="placeholder"
            :value="value"
            @change="onChange"
            @keydown.esc="onClear" />
        <div class="icon cursor-pointer" @click="onClear" v-if="value.length">
            <i class="mdi mdi-close mdi-18px"></i>
        </div>
    </div>
</template>
<script>
export default {
    props: {
        value: {
            type: String,
            default: ''
        },
        placeholder: { type: String, default: '' }
    },
    methods: {
        onChange({ target: { value } }) {
            this.$emit('input', value.trim());
        },
        onClear() {
            this.$emit('input', '');
        }
    }
};
</script>
