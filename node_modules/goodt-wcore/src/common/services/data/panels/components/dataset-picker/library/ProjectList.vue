<template>
    <div>
        <div class="preloader mar-l1" v-if="isLoading"></div>
        <ui-project-folder-node
            v-for="folder in folders"
            v-bind="{
                selectedEntityId,
                node: folder,
                getNodes: getFolders,
                getEntities,
                selectEntity
            }"
            :key="folder.id"></ui-project-folder-node>
    </div>
</template>
<script>
import UiProjectFolderNode from './ProjectFolderNode.vue';

export default {
    components: { UiProjectFolderNode },
    props: {
        selectedEntityId: {
            type: [Number, String],
            default: 0
        },
        selectEntity: {
            type: Function,
            default: (id) => {}
        },
        getEntities: {
            type: Function,
            default: () => []
        },
        getFolders: {
            type: Function,
            default: () => []
        },
        getProjects: {
            type: Function,
            default: () => []
        }
    },
    data() {
        return { folders: [], isLoading: false };
    },
    async created() {
        this.isLoading = true;
        this.folders = await this.getFolders();
        this.isLoading = false;
    }
};
</script>
