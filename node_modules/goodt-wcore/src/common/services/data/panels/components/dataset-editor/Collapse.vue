<template>
    <ui-collapse class="collapse tile" v-bind="{ visible: open }">
        <template #heading="{ isOpen, toggle }">
            <div
                class="collapse__header pad-l1 u-select-none cursor-pointer"
                :class="{ 'color-primary ': isOpen }"
                @click="toggle">
                <slot name="icon">icon</slot>
                <div>
                    <slot name="title">title</slot>
                </div>
                <div>
                    <slot name="tools"></slot>
                    <slot name="toggle">
                        <ui-preloader v-if="loading"></ui-preloader>
                        <ui-icon v-else :name="isOpen ? 'chevron-down' : 'chevron-right'" />
                    </slot>
                </div>
            </div>
        </template>
        <hr />
        <div class="pad-l1">
            <ui-preloader v-if="loading"></ui-preloader>
            <slot v-else></slot>
        </div>
    </ui-collapse>
</template>
<script>
import { Collapse as UiCollapse } from 'goodteditor-ui';
import { UiIcon, UiPreloader } from '@goodt-wcore/components';

export default {
    components: { UiPreloader, UiCollapse, UiIcon },
    props: {
        open: {
            type: Boolean,
            default: false
        },
        loading: {
            type: Boolean,
            default: false
        },
        disabled: {

        }
    }
};
</script>
<style lang="pcss" scoped>
.collapse {
    &__header {
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 0.5rem;
        align-items: center;
    }
}
</style>
