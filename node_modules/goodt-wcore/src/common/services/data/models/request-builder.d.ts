import { CoreError } from '@goodt-wcore/errors';
import { IDatasetRequest, IDatasetRequestProps } from '../types.d.ts';
import { QueryModel } from './query-model';

/**
 * @typedef {object} IDatasetRequestOptions
 * @property {import('./client').IDatasetQuery} query
 * @property {string} dataProviderId
 * @property {number} offset
 */
export class RequestBuilder {
    /** @type {IDatasetRequestProps} */
    _options: IDatasetRequestProps;

    /** @type {QueryModel} */
    _queryModel: QueryModel;

    /**
     * @param {IDatasetRequestProps} options
     */
    constructor(options: IDatasetRequestProps);

    /**
     * @param {IDatasetRequestProps} options
     */
    set options(options: IDatasetRequestProps);

    /**
     * @returns {QueryModel}
     */
    public readonly queryModel: QueryModel;

    /**
     * @throws {CoreError}
     * @returns {IDatasetRequest}
     */
    build(): IDatasetRequest;
}
