import { RecordPropsDefinition } from 'vue/types/vue';

export const DescriptorTypes: Readonly<{
    InputString: String;
    TextareaString: String;
    FileString: String;
    TimeString: String;
    SelectString: String;
    CheckboxBoolean: Boolean;
    SwitchBoolean: Boolean;
}>;

type Primitive<T> = T extends StringConstructor
    ? string
    : T extends NumberConstructor
    ? number
    : T extends BooleanConstructor
    ? boolean
    : T extends ArrayConstructor
    ? Array<number | string | object>
    : T extends ObjectConstructor
    ? Record<string, any>
    : T;

export type TInstanceDescriptorProps<T> = {
    [P in keyof T['props']]?: Primitive<T['props'][P]['type']>;
}

export interface IDescriptorProps<T> {
    props: TInstanceDescriptorProps<T>;
}

declare global {
    export interface DescriptorProps extends IDescriptorProps {}
    export function defineDescriptor(descriptor: ElemDescriptor): ElemDescriptor
}
