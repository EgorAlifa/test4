<template>
    <div>
        <div class="row row-hgap-3">
            <div class="col col-vmid text-truncate">
                <div :class="`form-label-${labelSize}`" class="label">
                    <!--
                    @slot label slot
                    -->
                    <slot v-bind="{ Label, getLabel }">
                        <component :is="Label"></component>
                    </slot>
                </div>
            </div>
            <div v-if="hasHint" class="col col-auto col-vmid">
                <div :class="`text-${labelSize}`">
                    <ui-tooltip>
                        <template #target="{ binds, events }">
                            <div class="hint" v-bind="binds" v-on="events">
                                <i class="mdi mdi-help-circle-outline"></i>
                            </div>
                        </template>
                        <div class="whitespace-pre-line">
                            <!--
                            @slot hint slot
                            -->
                            <slot name="hint" v-bind="{ Hint, getHint }">
                                <component :is="Hint"></component>
                            </slot>
                        </div>
                    </ui-tooltip>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
import { Tooltip as UiTooltip } from 'goodteditor-ui';
import { LabelMixin } from './utils';

export default {
    components: {
        UiTooltip
    },
    mixins: [LabelMixin],
    props: {
        labelSize: {
            type: String,
            default: 'xsmall',
            validation(val) {
                return ['xsmall', 'small'].includes(val);
            }
        }
    },
    implicitCssModule: true
};
</script>
<style module lang="pcss">
.label {
    composes: form-label text-truncate from global;
}

.hint {
    composes: icon cursor-help w-fitc h-fitc from global;
}
</style>
