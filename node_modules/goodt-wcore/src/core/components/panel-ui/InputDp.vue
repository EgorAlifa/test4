<template>
    <div>
        <control-layout v-bind="{ prop, colSize }">
            <template #label="{ getLabel }">
                <!--
                @slot label slot
                -->
                <slot v-bind="{ getLabel }" />
            </template>
            <template #hint="{ getHint }">
                <!--
                @slot hint slot
                -->
                <slot name="hint" v-bind="{ getHint }" />
            </template>
            <template #control>
                <input-date-picker
                    class="w-12-12"
                    :class="controlCl"
                    size="small"
                    v-bind="attrs"
                    v-on="listenersDp"
                />
            </template>
        </control-layout>
    </div>
</template>
<script>
import { InputDatePicker } from 'goodteditor-ui';
import { ControlMixin } from './utils';

/**
 * For more <b>props</b> @see https://goodt-ui.netlify.app/#!/InputDatePicker
 */
export default {
    components: { InputDatePicker },
    mixins: [ControlMixin],
    computed: {
        listenersDp() {
            const { clear, ...rest } = this.listeners;
            return { ...rest, clear: this.onClear };
        }
    },
    methods: {
        onClear(value) {
            /**
             * Change event
             * @property {any} value
             */
            this.$emit('change', '');
        }
    }
};
</script>
