<template>
    <div class="ui-sidebar h-100" :class="cssClass">
        <!--
        @slot content slot
        @example Lorem ipsum dolor sit amet consectetur adipisicing elit. Consectetur, voluptas.
        -->
        <slot></slot>
    </div>
</template>
<script>
const Size = {
    AUTO: { name: 'auto', class: [] },
    NORMAL: { name: 'normal', class: ['is-size-normal'] },
    SMALL: { name: 'small', class: ['is-size-small'] }
};

export default {
    props: {
        /**
         * @default auto
         * @values auto,small,normal
         */
        size: {
            type: String,
            default: Size.AUTO.name,
            validator: (val) =>
                Object.values(Size)
                    .map(({ name }) => name)
                    .includes(val)
        },
        chromeless: {
            type: Boolean,
            default: false
        }
    },
    computed: {
        cssClass() {
            const { size, chromeless } = this;
            const sizeDef = Object.values(Size).find(({ name }) => name === size);
            const classes = [...sizeDef.class];
            if (!chromeless) {
                classes.push(...['bg-white', 'shadow', 'shadow-3']);
            }
            return classes;
        }
    }
};
</script>

<style scoped>
.ui-sidebar {
    &.is-size-normal {
        width: 340px;
    }
    &.is-size-small {
        width: 280px;
    }
}
</style>
