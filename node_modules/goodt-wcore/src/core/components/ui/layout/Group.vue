<template>
    <div class="group" :class="cssClass">
        <!--
        @slot content slot
        -->
        <slot></slot>
    </div>
</template>
<script>
const Type = {
    HORIZONTAL: { name: 'horizontal', class: [] },
    VERTICAL: { name: 'vertical', class: ['is-vertical'] }
};
const Gap = {
    NONE: { name: 'none', class: [] },
    NORMAL: { name: 'normal', class: ['has-gap'] },
    SMALL: { name: 'small', class: ['has-gap-small'] }
};
const Justify = {
    START: { name: 'start', class: ['flex-h-start'] },
    CENTER: { name: 'center', class: ['flex-h-center'] },
    BETWEEN: { name: 'between', class: ['flex-h-space-between'] },
    END: { name: 'end', class: ['flex-h-end'] },
    STRETCH: { name: 'stretch', class: [] }
};
const Align = {
    START: { name: 'start', class: ['flex-v-start'] },
    CENTER: { name: 'center', class: ['flex-v-center'] },
    BETWEEN: { name: 'between', class: ['flex-v-space-between'] },
    END: { name: 'end', class: ['flex-v-end'] },
    STRETCH: { name: 'stretch', class: [] }
};

export default {
    props: {
        /**
         * @default horizontal
         * @values horizontal,vertical
         */
        type: {
            type: String,
            default: Type.HORIZONTAL.name,
            validator: (val) =>
                Object.values(Type)
                    .map(({ name }) => name)
                    .includes(val)
        },
        /**
         * @default normal
         * @values none,small,normal
         */
        gap: {
            type: String,
            default: Gap.NORMAL.name,
            validator: (val) =>
                Object.values(Gap)
                    .map(({ name }) => name)
                    .includes(val)
        },
        /**
         * @default start
         * @values start,center,end,between,stretch
         */
        justify: {
            type: String,
            default: Justify.START.name,
            validator: (val) =>
                Object.values(Justify)
                    .map(({ name }) => name)
                    .includes(val)
        },
        /**
         * @default center
         * @values start,center,end,between,stretch
         */
        align: {
            type: String,
            default: Align.CENTER.name,
            validator: (val) =>
                Object.values(Align)
                    .map(({ name }) => name)
                    .includes(val)
        }
    },
    computed: {
        cssClass() {
            const { type, gap, justify, align } = this;
            const typeDef = Object.values(Type).find(({ name }) => name === type);
            const gapSizeDef = Object.values(Gap).find(({ name }) => name === gap);
            const justifyDef = Object.values(type === Type.HORIZONTAL.name ? Justify : Align).find(
                ({ name }) => name === justify
            );
            const alignDef = Object.values(type === Type.HORIZONTAL.name ? Align : Justify).find(
                ({ name }) => name === align
            );

            return [...typeDef.class, ...gapSizeDef.class, ...justifyDef.class, ...alignDef.class];
        }
    }
};
</script>
<style scoped>
.group {
    display: inline-flex;
    flex-direction: row;

    &.has-gap {
        gap: var(--spacer5);
    }

    &.has-gap-small {
        gap: var(--spacer3);
    }

    &.is-vertical {
        flex-direction: column;
    }
}

.flex-v-start {
    align-items: start;
}

.flex-v-center {
    align-items: center;
}

.flex-v-end {
    align-items: end;
}
</style>
