<template>
    <div class="d-inline-flex" :class="cssClassWrapper" @click="onClick">
        <i class="mdi" :class="cssClass"></i>
    </div>
</template>
<script>
const Size = {
    SMALL: { name: 'small', class: [], classWrapper: [] },
    NORMAL: { name: 'normal', class: ['mdi-18px'], classWrapper: [] },
    LARGE: { name: 'large', class: ['mdi-24px'], classWrapper: [] },
    XLARGE: { name: 'xlarge', class: ['mdi-36px'], classWrapper: ['icon-2'] },
    XXLARGE: { name: 'xxlarge', class: ['mdi-48px'], classWrapper: ['icon-3'] }
};

export default {
    props: {
        /**
         * @example account
         */
        name: {
            type: String,
            default: ''
        },
        /**
         * @default normal
         * @values small,normal,large,xlarge,xxlarge
         */
        size: {
            type: String,
            default: Size.NORMAL.name,
            validator: (val) =>
                Object.values(Size)
                    .map(({ name }) => name)
                    .includes(val)
        },
        disabled: {
            type: Boolean,
            default: false
        },
        clickable: {
            type: Boolean,
            default: false
        },
        box: {
            type: Boolean,
            default: true
        }
    },
    computed: {
        cssClass() {
            const { size, name, disabled } = this;
            const sizeDef = Object.values(Size).find((def) => def.name === size);
            const classes = [...sizeDef.class, `mdi-${name}`];
            if (disabled) {
                classes.push('color-grey-light');
            }
            return classes;
        },
        cssClassWrapper() {
            const { size, disabled, clickable, box } = this;
            const sizeDef = Object.values(Size).find((def) => def.name === size);
            const classes = [...sizeDef.classWrapper];
            if (box) {
                classes.push('icon');
            }
            if (disabled) {
                classes.push('events-none');
            }
            if (clickable || this.$listeners.click) {
                classes.push('cursor-pointer');
            }
            return classes;
        }
    },
    methods: {
        onClick(e) {
            this.$emit('click', e);
        }
    }
};
</script>
