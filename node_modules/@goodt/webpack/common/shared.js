const WcorePackages = require('goodt-wcore/package.shared');

module.exports.getShared = ({ isHost = false, shareWcorePackages }) => ({
  ...(shareWcorePackages && Object.fromEntries(
      WcorePackages.map((pkg) => [pkg, {
        eager: isHost,
        singleton: true,
        requiredVersion: false,
        version: false
      }])
    )
  ),
  ...require('@goodt/common-deps').sharedDependencies.reduce((acc, depName) => ({
    ...acc,
    [depName]: {
      eager: isHost,
      singleton: true,
      requiredVersion: false,
      version: false
    }
  }), {})
})
