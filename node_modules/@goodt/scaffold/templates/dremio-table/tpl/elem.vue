<script>
import Table, { ColumnRenders } from '@goodt-widgets-insight/dremio-table';
[[#pagination]]
import DemoPagination from './components/Pagination.vue';
[[/pagination]]
import DemoTableRow from './components/TableRow.vue';
import renders from './renders';
import { descriptor, /* Vars */ } from './descriptor';
import { ElemInstanceTypeDescriptor } from './types';
import Panels, { PaginationPanelAsync } from '[[{panelPath}]]';


export default {
    extends: Table,
    props: {
        /**
         * @public
         */
        columnRenders: {
            default() {
                return {...ColumnRenders, ...renders() };
            }
        },
        [[#pagination]]
        /**
         * @public
         */
        paginationRender: {
            default() {
                return DemoPagination;
            }
        },
        [[/pagination]]
        /**
         * @public
         */
        rowRender: {
            default() {
                return DemoTableRow;
            }
        }
    },
    data: () => ({
        /* Vetur HACK */
        ...ElemInstanceTypeDescriptor
    }),
    methods: {
        /**
         * @public
         * @return {import('vue').AsyncComponent[]}
         */
        getPanels() {
            const panels = this.super(Table).getPanels.call(this);
            return [
                ...panels,
                ...Panels
            ];
        },
        [[#pagination]]
        /**
         * @public
         * @return {import('vue').AsyncComponent}
         */
        getPaginationPanel() {
            return PaginationPanelAsync;
        },
        [[/pagination]]
    }
};
</script>
