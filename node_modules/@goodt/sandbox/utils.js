const { join } = require('path');
const { readdirSync } = require('fs');

module.exports.getConfigFiles = (dir) => {
    try {
        return readdirSync(dir).filter((file) => /widgets(\..+)?\.json$/.test(file));
    } catch(error) {
        console.log(error);
        return [];
    }
}

const BASE_DIR =  process.env.PWD ?? process.env.INIT_CWD;
module.exports.BASE_DIR = BASE_DIR;
module.exports.publicDir = join(BASE_DIR, 'sandbox', 'config');
