<template>
    <div class="ui-badge badge" :class="cssClass">
        <!-- @slot Content slot -->
        <slot></slot>
        <!-- 
        @slot Custom 'remove' content (icon, button etc)
        @binding {function} remove  remove function 
        -->
        <slot name="remove" v-if="removable" :remove="onRemove">
            <i class="mdi mdi-close text-small mar-left-2 cursor-pointer" @click="onRemove"></i>
        </slot>
    </div>
</template>
<style lang="less" scoped>
.ui-badge {
    white-space: normal;
    overflow-wrap: break-word;
    word-break: break-word;
}
</style>
<script>
export default {
    props: {
        /**
         * Size of the badge
         * @values '', xsmall, small, large
         */
        size: {
            type: String,
            default: '',
            validator(val) {
                return ['', 'xsmall', 'small', 'large'].indexOf(val) >= 0;
            },
        },
        /**
         * Theme of the badge
         * @values '', primary, success, warn, error, misc
         */
        theme: {
            type: String,
            default: '',
            validator(val) {
                return ['', 'primary', 'success', 'warn', 'error', 'misc'].indexOf(val) >= 0;
            },
        },
        /**
         * Whether the badge has a remove <slot>
         */
        removable: {
            type: Boolean,
            default: false,
        },
    },
    computed: {
        cssClass() {
            let o = {};
            if (this.size) {
                o[`text-${this.size}`] = true;
            }
            if (this.theme) {
                o[`badge-${this.theme}`] = true;
            }
            return o;
        },
    },
    methods: {
        onRemove() {
            /**
             * Remove event, emitted when close method is invoked
             */
            this.$emit('remove');
        },
    },
};
</script>
