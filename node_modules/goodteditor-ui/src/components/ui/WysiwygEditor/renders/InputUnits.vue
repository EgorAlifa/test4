<template>
    <div :title="title" class="input-units-tool">
        <input-units
            v-bind="{ value, units, size: 'small', disabled: !isEnabled, appendToBody: false }"
            @change="onChange" />
    </div>
</template>

<script>
import InputUnits from '../../InputUnits.vue';
import { useRender, RenderMixinTypes } from './mixins';

export default {
    components: { InputUnits },
    mixins: [useRender()],
    computed: {
        value() {
            return this.tool.getValue();
        },
        units() {
            return this.tool?.units ?? [];
        }
    },
    methods: {
        ...RenderMixinTypes,
        onChange(value) {
            this.tool.exec(value);
            this.emitExecuted();
        }
    }
};
</script>

<style scoped>
.input-units-tool {
    width: 4rem;
}
</style>
