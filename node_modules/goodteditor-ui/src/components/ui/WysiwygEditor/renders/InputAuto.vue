<template>
    <div :title="title" class="autocomplete-tool">
        <input-autocomplete
            v-bind="{
                value,
                options: tool.options,
                disabled: !isEnabled,
                size: 'small',
                appendToBody: false
            }"
            @input="onInput" />
    </div>
</template>

<script>
import InputAutocomplete from '../../InputAutocomplete.vue';
import { useRender, RenderMixinTypes } from './mixins';

export default {
    components: { InputAutocomplete },
    mixins: [useRender()],
    computed: {
        value() {
            return this.tool.getValue() ?? '';
        }
    },
    methods: {
        ...RenderMixinTypes,
        onInput(value) {
            this.tool.exec(value);
            this.emitExecuted();
        }
    }
};
</script>

<style scoped>
.autocomplete-tool {
    width: 10rem;
}
</style>
