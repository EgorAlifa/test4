export const __webpack_id__=5695;export const __webpack_ids__=[5695];export const __webpack_modules__={73018:(t,e,o)=>{o.d(e,{XI:()=>m});var l=o(90277),i=o(42845),s=o(49885);function n(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function a(t,e,o,l,i,s){var a;let d=0,r=!0,c=e.firstChild;const h=t.firstChild;if(null!==h)for(let p=0,u=0;p<h.childCount;p+=1){const{colspan:t,colwidth:o}=h.child(p).attrs;for(let a=0;a<t;a+=1,u+=1){const t=i===u?s:o&&o[a],h=t?`${t}px`:"";if(d+=t||l,t||(r=!1),c){if(c.style.width!==h){const[e,o]=n(l,t);c.style.setProperty(e,o)}c=c.nextSibling}else{const o=document.createElement("col"),[i,s]=n(l,t);o.style.setProperty(i,s),e.appendChild(o)}}}while(c){const t=c.nextSibling;null===(a=c.parentNode)||void 0===a||a.removeChild(c),c=t}r?(o.style.width=`${d}px`,o.style.minWidth=""):(o.style.width="",o.style.minWidth=`${d}px`)}class d{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),a(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type===this.node.type&&(this.node=t,a(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return"attributes"===t.type&&(t.target===this.table||this.colgroup.contains(t.target))}}function r(t,e,o,l){let i=0,s=!0;const a=[],d=t.firstChild;if(!d)return{};for(let p=0,u=0;p<d.childCount;p+=1){const{colspan:t,colwidth:r}=d.child(p).attrs;for(let d=0;d<t;d+=1,u+=1){const t=o===u?l:r&&r[d];i+=t||e,t||(s=!1);const[c,h]=n(e,t);a.push(["col",{style:`${c}: ${h}`}])}}const r=s?`${i}px`:"",c=s?"":`${i}px`,h=["colgroup",{},...a];return{colgroup:h,tableWidth:r,tableMinWidth:c}}function c(t,e){return e?t.createChecked(null,e):t.createAndFill()}function h(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(o=>{const l=t.nodes[o];l.spec.tableRole&&(e[l.spec.tableRole]=l)}),t.cached.tableNodeTypes=e,e}function p(t,e,o,l,i){const s=h(t),n=[],a=[];for(let r=0;r<o;r+=1){const t=c(s.cell,i);if(t&&a.push(t),l){const t=c(s.header_cell,i);t&&n.push(t)}}const d=[];for(let r=0;r<e;r+=1)d.push(s.row.createChecked(null,l&&0===r?n:a));return s.table.createChecked(null,d)}function u(t){return t instanceof s.rn}const b=({editor:t})=>{const{selection:e}=t.state;if(!u(e))return!1;let o=0;const i=(0,l.eL)(e.ranges[0].$from,t=>"table"===t.type.name);null===i||void 0===i||i.node.descendants(t=>{if("table"===t.type.name)return!1;["tableCell","tableHeader"].includes(t.type.name)&&(o+=1)});const s=o===e.ranges.length;return!!s&&(t.commands.deleteTable(),!0)},m=l.bP.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:d,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:o,tableWidth:i,tableMinWidth:s}=r(t,this.options.cellMinWidth),n=["table",(0,l.KV)(this.options.HTMLAttributes,e,{style:i?`width: ${i}`:`min-width: ${s}`}),o,["tbody",0]];return n},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:o=!0}={})=>({tr:l,dispatch:s,editor:n})=>{const a=p(n.schema,t,e,o);if(s){const t=l.selection.from+1;l.replaceSelectionWith(a).scrollIntoView().setSelection(i.U3.near(l.doc.resolve(t)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>(0,s.RC)(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>(0,s.GU)(t,e),deleteColumn:()=>({state:t,dispatch:e})=>(0,s.gR)(t,e),addRowBefore:()=>({state:t,dispatch:e})=>(0,s.JD)(t,e),addRowAfter:()=>({state:t,dispatch:e})=>(0,s.gC)(t,e),deleteRow:()=>({state:t,dispatch:e})=>(0,s.aR)(t,e),deleteTable:()=>({state:t,dispatch:e})=>(0,s.kG)(t,e),mergeCells:()=>({state:t,dispatch:e})=>(0,s.w7)(t,e),splitCell:()=>({state:t,dispatch:e})=>(0,s.L0)(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>(0,s.iS)("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>(0,s.iS)("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>(0,s._G)(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>!!(0,s.w7)(t,e)||(0,s.L0)(t,e),setCellAttribute:(t,e)=>({state:o,dispatch:l})=>(0,s.i4)(t,e)(o,l),goToNextCell:()=>({state:t,dispatch:e})=>(0,s.D8)(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>(0,s.D8)(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&(0,s.rP)(t),!0),setCellSelection:t=>({tr:e,dispatch:o})=>{if(o){const o=s.rn.create(e.doc,t.anchorCell,t.headCell);e.setSelection(o)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:b,"Mod-Backspace":b,Delete:b,"Mod-Delete":b}},addProseMirrorPlugins(){const t=this.options.resizable&&this.editor.isEditable;return[...t?[(0,s.AL)({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],(0,s.LF)({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:(0,l.gk)((0,l.iI)(t,"tableRole",e))}}})}};