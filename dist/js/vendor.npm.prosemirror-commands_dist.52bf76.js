export const __webpack_id__=974;export const __webpack_ids__=[974];export const __webpack_modules__={46762:(e,t,n)=>{n.d(t,{$f:()=>R,G2:()=>y,I$:()=>S,Im:()=>O,Qv:()=>s,Sd:()=>k,Z1:()=>V,_G:()=>p,_e:()=>u,bh:()=>w,eB:()=>f,eT:()=>b,ec:()=>F,hy:()=>T,ic:()=>i,iz:()=>z,pC:()=>$,yY:()=>x,y_:()=>j});var o=n(38262),r=n(42225),l=n(42845);const i=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function c(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const s=(e,t,n)=>{let i=c(e,n);if(!i)return!1;let s=h(i);if(!s){let n=i.blockRange(),r=n&&(0,o.jP)(n);return null!=r&&(t&&t(e.tr.lift(n,r).scrollIntoView()),!0)}let f=s.nodeBefore;if(M(e,s,t,-1))return!0;if(0==i.parent.content.size&&(d(f,"end")||l.nh.isSelectable(f)))for(let c=i.depth;;c--){let n=(0,o.$L)(e.doc,i.before(c),i.after(c),r.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(t){let o=e.tr.step(n);o.setSelection(d(f,"end")?l.LN.findFrom(o.doc.resolve(o.mapping.map(s.pos,-1)),-1):l.nh.create(o.doc,s.pos-f.nodeSize)),t(o.scrollIntoView())}return!0}if(1==c||i.node(c-1).childCount>1)break}return!(!f.isAtom||s.depth!=i.depth-1)&&(t&&t(e.tr.delete(s.pos-f.nodeSize,s.pos).scrollIntoView()),!0)},f=(e,t,n)=>{let o=c(e,n);if(!o)return!1;let r=h(o);return!!r&&a(e,r,t)},p=(e,t,n)=>{let o=m(e,n);if(!o)return!1;let r=g(o);return!!r&&a(e,r,t)};function a(e,t,n){let i=t.nodeBefore,c=i,s=t.pos-1;for(;!c.isTextblock;s--){if(c.type.spec.isolating)return!1;let e=c.lastChild;if(!e)return!1;c=e}let f=t.nodeAfter,p=f,a=t.pos+1;for(;!p.isTextblock;a++){if(p.type.spec.isolating)return!1;let e=p.firstChild;if(!e)return!1;p=e}let d=(0,o.$L)(e.doc,s,a,r.Ji.empty);if(!d||d.from!=s||d instanceof o.Ln&&d.slice.size>=a-s)return!1;if(n){let t=e.tr.step(d);t.setSelection(l.U3.create(t.doc,s)),n(t.scrollIntoView())}return!0}function d(e,t,n=!1){for(let o=e;o;o="start"==t?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&1!=o.childCount)return!1}return!1}const u=(e,t,n)=>{let{$head:o,empty:r}=e.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=h(o)}let c=i&&i.nodeBefore;return!(!c||!l.nh.isSelectable(c))&&(t&&t(e.tr.setSelection(l.nh.create(e.doc,i.pos-c.nodeSize)).scrollIntoView()),!0)};function h(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function m(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const b=(e,t,n)=>{let i=m(e,n);if(!i)return!1;let c=g(i);if(!c)return!1;let s=c.nodeAfter;if(M(e,c,t,1))return!0;if(0==i.parent.content.size&&(d(s,"start")||l.nh.isSelectable(s))){let n=(0,o.$L)(e.doc,i.before(),i.after(),r.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(t){let o=e.tr.step(n);o.setSelection(d(s,"start")?l.LN.findFrom(o.doc.resolve(o.mapping.map(c.pos)),1):l.nh.create(o.doc,o.mapping.map(c.pos))),t(o.scrollIntoView())}return!0}}return!(!s.isAtom||c.depth!=i.depth-1)&&(t&&t(e.tr.delete(c.pos,c.pos+s.nodeSize).scrollIntoView()),!0)},k=(e,t,n)=>{let{$head:o,empty:r}=e.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=g(o)}let c=i&&i.nodeAfter;return!(!c||!l.nh.isSelectable(c))&&(t&&t(e.tr.setSelection(l.nh.create(e.doc,i.pos)).scrollIntoView()),!0)};function g(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const y=(e,t)=>{let n,r=e.selection,i=r instanceof l.nh;if(i){if(r.node.isTextblock||!(0,o.n9)(e.doc,r.from))return!1;n=r.from}else if(n=(0,o.N0)(e.doc,r.from,-1),null==n)return!1;if(t){let o=e.tr.join(n);i&&o.setSelection(l.nh.create(o.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},w=(e,t)=>{let n,r=e.selection;if(r instanceof l.nh){if(r.node.isTextblock||!(0,o.n9)(e.doc,r.to))return!1;n=r.to}else if(n=(0,o.N0)(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},x=(e,t)=>{let{$from:n,$to:r}=e.selection,l=n.blockRange(r),i=l&&(0,o.jP)(l);return null!=i&&(t&&t(e.tr.lift(l,i).scrollIntoView()),!0)},$=(e,t)=>{let{$head:n,$anchor:o}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function I(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const S=(e,t)=>{let{$head:n,$anchor:o}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),i=n.indexAfter(-1),c=I(r.contentMatchAt(i));if(!c||!r.canReplaceWith(i,i,c))return!1;if(t){let o=n.after(),r=e.tr.replaceWith(o,o,c.createAndFill());r.setSelection(l.LN.near(r.doc.resolve(o),1)),t(r.scrollIntoView())}return!0},V=(e,t)=>{let n=e.selection,{$from:o,$to:r}=n;if(n instanceof l.i5||o.parent.inlineContent||r.parent.inlineContent)return!1;let i=I(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,c=e.tr.insert(n,i.createAndFill());c.setSelection(l.U3.create(c.doc,n+1)),t(c.scrollIntoView())}return!0},z=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if((0,o.zy)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),l=r&&(0,o.jP)(r);return null!=l&&(t&&t(e.tr.lift(r,l).scrollIntoView()),!0)};function A(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof l.nh&&t.selection.node.isBlock)return!(!r.parentOffset||!(0,o.zy)(t.doc,r.pos))&&(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let c,s,f=[],p=!1,a=!1;for(let o=r.depth;;o--){let t=r.node(o);if(t.isBlock){p=r.end(o)==r.pos+(r.depth-o),a=r.start(o)==r.pos-(r.depth-o),s=I(r.node(o-1).contentMatchAt(r.indexAfter(o-1)));let t=e&&e(i.parent,p,r);f.unshift(t||(p&&s?{type:s}:null)),c=o;break}if(1==o)return!1;f.unshift(null)}let d=t.tr;(t.selection instanceof l.U3||t.selection instanceof l.i5)&&d.deleteSelection();let u=d.mapping.map(r.pos),h=(0,o.zy)(d.doc,u,f.length,f);if(h||(f[0]=s?{type:s}:null,h=(0,o.zy)(d.doc,u,f.length,f)),!h)return!1;if(d.split(u,f.length,f),!p&&a&&r.node(c).type!=s){let e=d.mapping.map(r.before(c)),t=d.doc.resolve(e);s&&r.node(c-1).canReplaceWith(t.index(),t.index()+1,s)&&d.setNodeMarkup(d.mapping.map(r.before(c)),s)}return n&&n(d.scrollIntoView()),!0}}const C=A(),T=(e,t)=>{let n,{$from:o,to:r}=e.selection,i=o.sharedDepth(r);return 0!=i&&(n=o.before(i),t&&t(e.tr.setSelection(l.nh.create(e.doc,n))),!0)},B=(e,t)=>(t&&t(e.tr.setSelection(new l.i5(e.doc))),!0);function _(e,t,n){let r=t.nodeBefore,l=t.nodeAfter,i=t.index();return!!(r&&l&&r.type.compatibleContent(l.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!l.isTextblock&&!(0,o.n9)(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))}function M(e,t,n,i){let c,s,f=t.nodeBefore,p=t.nodeAfter,a=f.type.spec.isolating||p.type.spec.isolating;if(!a&&_(e,t,n))return!0;let u=!a&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(c=(s=f.contentMatchAt(f.childCount)).findWrapping(p.type))&&s.matchType(c[0]||p.type).validEnd){if(n){let l=t.pos+p.nodeSize,i=r.FK.empty;for(let e=c.length-1;e>=0;e--)i=r.FK.from(c[e].create(null,i));i=r.FK.from(f.copy(i));let s=e.tr.step(new o.Wg(t.pos-1,l,t.pos,l,new r.Ji(i,1,0),c.length,!0)),a=s.doc.resolve(l+2*c.length);a.nodeAfter&&a.nodeAfter.type==f.type&&(0,o.n9)(s.doc,a.pos)&&s.join(a.pos),n(s.scrollIntoView())}return!0}let h=p.type.spec.isolating||i>0&&a?null:l.LN.findFrom(t,1),m=h&&h.$from.blockRange(h.$to),b=m&&(0,o.jP)(m);if(null!=b&&b>=t.depth)return n&&n(e.tr.lift(m,b).scrollIntoView()),!0;if(u&&d(p,"start",!0)&&d(f,"end")){let l=f,i=[];for(;;){if(i.push(l),l.isTextblock)break;l=l.lastChild}let c=p,s=1;for(;!c.isTextblock;c=c.firstChild)s++;if(l.canReplace(l.childCount,l.childCount,c.content)){if(n){let l=r.FK.empty;for(let e=i.length-1;e>=0;e--)l=r.FK.from(i[e].copy(l));let c=e.tr.step(new o.Wg(t.pos-i.length,t.pos+p.nodeSize,t.pos+s,t.pos+p.nodeSize-s,new r.Ji(l,i.length,0),0,!0));n(c.scrollIntoView())}return!0}}return!1}function v(e){return function(t,n){let o=t.selection,r=e<0?o.$from:o.$to,i=r.depth;while(r.node(i).isInline){if(!i)return!1;i--}return!!r.node(i).isTextblock&&(n&&n(t.tr.setSelection(l.U3.create(t.doc,e<0?r.start(i):r.end(i)))),!0)}}const R=v(-1),F=v(1);function O(e,t=null){return function(n,r){let{$from:l,$to:i}=n.selection,c=l.blockRange(i),s=c&&(0,o.oM)(c,e,t);return!!s&&(r&&r(n.tr.wrap(c,s).scrollIntoView()),!0)}}function j(e,t=null){return function(n,o){let r=!1;for(let l=0;l<n.selection.ranges.length&&!r;l++){let{$from:{pos:o},$to:{pos:i}}=n.selection.ranges[l];n.doc.nodesBetween(o,i,(o,l)=>{if(r)return!1;if(o.isTextblock&&!o.hasMarkup(e,t))if(o.type==e)r=!0;else{let t=n.doc.resolve(l),o=t.index();r=t.parent.canReplaceWith(o,o+1,e)}})}if(!r)return!1;if(o){let r=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:i}}=n.selection.ranges[o];r.setBlockType(l,i,e,t)}o(r.scrollIntoView())}return!0}}function D(...e){return function(t,n,o){for(let r=0;r<e.length;r++)if(e[r](t,n,o))return!0;return!1}}let L=D(i,s,u),N=D(i,b,k);const P={Enter:D($,V,z,C),"Mod-Enter":S,Backspace:L,"Mod-Backspace":L,"Shift-Backspace":L,Delete:N,"Mod-Delete":N,"Mod-a":B},W={"Ctrl-h":P["Backspace"],"Alt-Backspace":P["Mod-Backspace"],"Ctrl-d":P["Delete"],"Ctrl-Alt-Backspace":P["Mod-Delete"],"Alt-Delete":P["Mod-Delete"],"Alt-d":P["Mod-Delete"],"Ctrl-a":R,"Ctrl-e":F};for(let J in P)W[J]=P[J];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform()}};