export const __webpack_id__=7445;export const __webpack_ids__=[7445];export const __webpack_modules__={1707:(e,t,n)=>{var o=n(74302);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var i=n(99548).A;i("1fe12441",o,!0,{sourceMap:!1,shadowMode:!1})},26961:(e,t,n)=>{n.d(t,{O:()=>o});const o={breadcrumb_left:"breadcrumb.left",breadcrumb_top:"breadcrumb.top",breadcrumb_bottom:"breadcrumb.bottom",breadcrumb_right:"breadcrumb.right","breadcrumb_font-size":"breadcrumb.fontSize",breadcrumb_color:"breadcrumb.color","breadcrumb_font-family":"breadcrumb.fontFamily","breadcrumb_font-weight":"breadcrumb.fontWeight"}},33612:(e,t,n)=>{n.d(t,{M:()=>c});var o=n(20903),i=n(77500),r=n(46996),l=n(35704),s=n(39849);const a={position:"fixed",transitionProperty:"font-size",transitionDuration:"1ms",transitionDelay:"0ms",color:"transparent",touchAction:"none",zIndex:"-999999",left:"-100vw",top:"-100vh",transform:"translate(-100%, -100%)"},c={data:()=>({unit2PxMixin:{units2Px:{},unitsElements:{},watchers:[]}}),beforeDestroy(){const{unitsElements:e}=this.unit2PxMixin;Object.keys(e).forEach(t=>{e[t].remove()})},watch:{"unit2PxMixin.units2Px":{deep:!0,handler(e,t){if((0,r.A)(e,t))return;const{watchers:n}=this.unit2PxMixin;n.forEach(e=>e())}}},methods:{addUnit2PxWatcher(e){const{watchers:t}=this.unit2PxMixin;t.push(e)},calculateUnit2Px(e){const{units2Px:t}=this.unit2PxMixin,n=this.createUnits2PxElement(e),o=parseFloat(getComputedStyle(n).getPropertyValue("font-size"))||0;return this.$set(t,e,o),o},createUnits2PxElement(e){const{unitsElements:t}=this.unit2PxMixin;if(e in t)return t[e];const n=document.createElement("div");return Object.keys(a).forEach(e=>{n.style[e]=a[e]}),n.style.fontSize=`1${e}`,n.innerHTML=`${e}`,this.$el.append(n),t[e]=n,t[e].ontransitionend=()=>{this.calculateUnit2Px(e)},t[e]},takeUnit2Px({size:e="",unit:t,value:n},o=this.unit2PxMixin.units2Px){const i=`${e}`.match(/--[-_0-9a-zA-Z%]+/)?.[0],r=null!=i?getComputedStyle(this.$el).getPropertyValue(i):null,l=t??`${r??e}`.match(/[a-zA-Z%]+$/)?.[0]??"px",s=n??Number(`${r??e}`.replace(l,""))??0;return(o[l]??this.calculateUnit2Px(l))*s},convertSeriesFields2Px(e){const t=(0,o.A)(e);return s.TF.forEach(e=>{void 0!==(0,i.A)(t,e)&&(0,l.A)(t,e,this.takeUnit2Px({size:(0,i.A)(t,e)}))}),t}}}},39849:(e,t,n)=>{n.d(t,{FP:()=>g,KT:()=>L,Kx:()=>B,OB:()=>d,PL:()=>y,QC:()=>s,S1:()=>v,TF:()=>z,V6:()=>C,Z:()=>_,_s:()=>w,dm:()=>l,eW:()=>F,fW:()=>r,i0:()=>m,il:()=>V,kV:()=>A,kd:()=>N,l1:()=>P,mD:()=>u,mU:()=>b,oP:()=>h,pO:()=>a,qO:()=>D,s$:()=>p,sr:()=>M,tz:()=>k,u6:()=>x,vt:()=>c,y:()=>$});var o=n(37364),i=n(43620);const r=()=>({isManualMode:!1,left:"10%",top:"20%",right:"2%",bottom:"22%"}),l=()=>({isManualMode:!1,left:"50%",top:"50%",right:"50%",bottom:"50%"}),s=()=>({isShown:!1,delimiter:". ",left:"15px",top:"15px",right:"auto",bottom:"auto",fontSize:"1rem",color:"#2C3E5D",fontWeight:"inherit",fontFamily:"inherit"}),a=({comparedValue:e="",type:t="",color:n=""}={})=>({comparedValue:e,type:t,color:n}),c=({datasetIndex:e=0,color:t="#2C333A",fontFamily:n="",fontSize:o=14,conditions:i=[],position:r="bottom",format:l="",metric:s="",verticalAlign:a="middle",enablePlusValues:c=!0,fontWeight:u="400",width:p="0%",textOffset:d=20}={})=>({datasetIndex:e,color:t,conditions:i,fontFamily:n,fontSize:o,position:r,format:l,metric:s,verticalAlign:a,enablePlusValues:c,fontWeight:u,width:p,textOffset:d}),u=()=>({typeAxis:"x",showAxisName:!1,silent:!0,triggerEvent:!1,id:0,type:"value",format:"value",boundaryGap:[0,0],hasGap:!0,isFullPercentageScale:!0,calcMinMax:!0,manualMinMax:!1,min:0,max:null,isRoundedDynamicMinValue:!0,isRoundedDynamicMaxValue:!0,isNotAboveZeroDynamicMinValue:!1,dynamicMinValue:25,dynamicMaxValue:25,dynamicMaxValuePrecision:0,minValue:0,maxValue:100,enableMax:!1,name:"",show:!0,position:"left",axisSplitNum:null,inverse:!1,scale:!1,offset:0,nameTextStyle:{color:"#2C333A",fontFamily:""},nameLocation:"middle",nameGap:20,nameRotate:0,valueFontSize:12,interval:0,axisLabel:{show:!0,margin:8,interval:0,fontFamily:"sans-serif",color:"#2C333A",backgroundColor:"transparent",rotate:30,format:"0",extendedFormat:null,separator:"1",formatter:null,isNumberFormatActive:!1,breakLongValues:!0,longValuesLength:0,rich:{},type:"text",imageMetric:"",imageHeight:24},additionalAxisLabel:c(),axisLine:{show:!1,lineStyle:{color:"rgba(0, 0, 0, 0.4)",width:2}},axisTick:{show:!1},axisPointer:{show:!1},splitLine:{show:!0,lineStyle:{color:"#DCDFE4",type:"dashed"}},shouldHighlightSelectedLabels:!0,isShownNullLabels:!1}),p={show:!1,type:"scroll",position:"top",bottom:null,top:0,left:"center",padding:[5,45,5,5],itemWidth:25,itemHeight:14,icon:"",itemStyle:{borderWidth:0,borderType:"solid",borderColor:"orange"},textStyle:{fontSize:12,fontFamily:"sans-serif",color:"#2C3E5D"}},d={show:!1,position:"top",left:"left",text:"",textStyle:{fontSize:"1.2rem",fontFamily:"sans-serif",fontWeight:400,color:"rgba(0, 0, 0, 1)"},backgroundColor:"transparent"},m={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:1,color:"transparent"},{offset:1,color:"transparent"}]},f=()=>({show:!1,rotate:0,offset:[0,0],color:"rgba(51, 51, 51, 1)",backgroundColor:"transparent",fontFamily:"Roboto",fontSize:12,position:"top",formatter:null,isAddlLabelShown:!1,isZeroValueShown:!1,align:"center"}),b=()=>({value:"",valueConditions:[],offset:0,height:16,padding:[0,0,0,0],color:"rgba(255, 255, 255, 1)",fontFamily:"Roboto",fontSize:12,fontWeight:"400"}),h=()=>({additional:{metric:null,format:"",position:"bottom",gap:0,colorConditions:[],height:16,padding:[8,8,8,8],color:"rgba(255, 255, 255, 1)",fontFamily:"Roboto",fontSize:12,fontWeight:"400",backgroundColor:"rgba(0, 0, 0, 0.3)",align:"center",borderRadius:[0,0,0,0]}}),x="stackSeries",g={main:{name:"",format:"string",sort:"none"},minor:{name:"",format:"string",sort:"ascending"}},y=()=>({show:!1,type:"line",value:0,status:"show",snap:!0,handle:{show:!0,size:0},lineStyle:{color:"#BD014A",width:1},label:{backgroundColor:"#777"},triggerTooltip:!1,triggerOn:"none"}),v={show:!0,trigger:"item",format:"0",separator:"0",prefix:"",postfix:"",showCategory:!1,showNullishValues:!0,isAbsoluteValue:!1,reverseMetrics:!1,appendToBody:!0,isNestedFromMetric:!1,excludes:[]},O={metricName:"",showDataSet:!0,nullValues:!1,voidValues:!1,isCumulativeTotal:!1,isCumulativeDifference:!1,dimensions:null,name:"",marker:"",customType:"line",type:"line",smooth:!0,seriesLayoutBy:"column",excess:{color:"black",firstColor:"#50f547",secondColor:"#ddff45",firstOffSet:"0",secondOffSet:"1",gradPos:"0 0 0 1",gradient:!1},lack:{color:"black",firstColor:"#50f547",secondColor:"#ddff45",firstOffSet:"0",secondOffSet:"1",gradPos:"0 0 0 1",gradient:!1},nameExcess:"Избыток",nameLack:"Недостаток",excessLackLabel:f(),xAxisIndex:0,yAxisIndex:0,originIdx:null,z:10,barWidth:"50",barMinWidth:1,barMaxWidth:20,barMinHeight:16,colorStep:10,color:"#EB2316",customColors:[],metricFormat:"0",metricSeparator:"1",metricPrefix:"",metricPostfix:"",isAbsoluteValue:!1,isAutoRound:!1,colorForBar:"#6EB9FF",barFirstColor:"#50f547",barSecondColor:"#ddff45",barFirstOffSet:"0",barSecondOffSet:"1",barPos:"0 0 0 1",gradientForBar:!1,fillLine:!1,customFillLine:!1,customFillLines:[],origin:"start",smartFill:!1,fillColor:"#DCDFE4",gradient:!1,firstColor:"red",secondColor:"red",offSetFirstColor:"0",offSetSecondColor:"1",colorPos:"0 0 0 1",colorForLine:"#359EFF",lineStyle:{type:"solid",width:2},areaStyle:null,isRoundedBarBorder:!0,roundedBarBorder:{leftTop:2,rightTop:2,rightBottom:0,leftBottom:0},itemStyle:{color:"red",shadowColor:"rgba(0, 0, 0, 0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,borderColor:"rgba(0, 0, 0, 0)",barBorderRadius:[5,5,5,5],borderWidth:"2px"},shouldSyncShadowColor:!1,shouldSyncColor:!0,shouldDotsSyncColor:!0,stack:"",stackLines:!1,label:f(),tooltip:{formatter:null},styleConditions:{enable:!1,conditions:[]},multiMetricMode:{enable:!1,metricNames:[],metricDatasets:[],metricSorts:[]},animation:!0,animationEasing:"cubicOut",animationEasingUpdate:"cubicOut",animationDuration:1e3,animationDurationUpdate:1e3,animationDelay:0,animationDelayUpdate:0,symbol:"emptyCircle",showSymbol:!0,fillSymbol:!0,symbolSize:8,symbolColor:"#359EFF",symbolBdrWidth:"2px",symbolBdrColor:"#359EFF",connectNulls:!0,data:[],uid:"",isUsedBarMinHeightConditions:!1,labelLayout:{use:!1,x:0,y:0,align:"right",verticalAlign:"top"},barMinHeightConditions:[]},S=[{primaryColor:"#F18D13",secondaryColor:"#FFE2BD"},{primaryColor:"#82B536",secondaryColor:"#D3F1A7"},{primaryColor:"#9F8FEF",secondaryColor:"#DFD8FD"},{primaryColor:"#E2B203",secondaryColor:"#F8E6A0"},{primaryColor:"#E774BB",secondaryColor:"#FDD0EC"},{primaryColor:"#4BCE97",secondaryColor:"#BAF3DB"},{primaryColor:"#60C6D2",secondaryColor:"#C1F0F5"},{primaryColor:"#F87462",secondaryColor:"#FFD2CC"},{primaryColor:"#0788FF",secondaryColor:"#CAE5FF"},{primaryColor:"#6EB9FF",secondaryColor:"#CAE5FF"}],_=e=>{if(0===e)return{...O,customType:"bar",type:"bar",color:"#6EB9FF"};const t=(e-1)%S.length,{primaryColor:n,secondaryColor:i}=S[t];return(0,o.A)({},{...O,color:n,colorForLine:n,symbolColor:n,symbolBdrColor:n,fillColor:i},{itemStyle:{borderColor:n}})},k={type:"bar",name:"",xAxisIndex:0,yAxisIndex:0,originIdx:null,z:10,seriesLayoutBy:"column",stack:x,metricFormat:"0",barMinHeight:16,tooltip:{formatter:null},animation:!0,animationEasing:"cubicOut",animationEasingUpdate:"cubicOut",animationDuration:1e3,animationDurationUpdate:1e3,animationDelay:0,animationDelayUpdate:0,showSymbol:!0,data:[]},C={metricName:"",showDataSet:!0,nullValues:!1,voidValues:!1,isCumulativeTotal:!1,isCumulativeDifference:!1,dimensions:null,name:"",marker:"",customType:"line",type:"line",smooth:!0,seriesLayoutBy:"column",excess:{color:"black",firstColor:"#50f547",secondColor:"#ddff45",firstOffSet:"0",secondOffSet:"1",gradPos:"0 0 0 1",gradient:!1},lack:{color:"black",firstColor:"#50f547",secondColor:"#ddff45",firstOffSet:"0",secondOffSet:"1",gradPos:"0 0 0 1",gradient:!1},nameExcess:"Избыток",nameLack:"Недостаток",excessLackLabel:f(),xAxisIndex:0,yAxisIndex:0,originIdx:null,z:10,barWidth:"50",barMinWidth:1,barMaxWidth:20,barMinHeight:16,colorStep:10,color:"#359EFF",customColors:[],metricFormat:"0",metricSeparator:"1",metricPrefix:"",metricPostfix:"",isAbsoluteValue:!1,isAutoRound:!1,colorForBar:"#6EB9FF",barFirstColor:"#50f547",barSecondColor:"#ddff45",barFirstOffSet:"0",barSecondOffSet:"1",barPos:"0 0 0 1",gradientForBar:!1,fillLine:!1,customFillLine:!1,customFillLines:[],origin:"start",smartFill:!1,fillColor:"#DCDFE4",gradient:!1,firstColor:"red",secondColor:"red",offSetFirstColor:"0",offSetSecondColor:"1",colorPos:"0 0 0 1",colorForLine:"#359EFF",lineStyle:{type:"solid",width:2},areaStyle:null,isRoundedBarBorder:!0,roundedBarBorder:{leftTop:2,rightTop:2,rightBottom:0,leftBottom:0},itemStyle:{color:"red",shadowColor:"rgba(0, 0, 0, 0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,borderColor:"rgba(0, 0, 0, 0)",barBorderRadius:[5,5,5,5],borderWidth:2},shouldSyncShadowColor:!1,shouldSyncColor:!0,shouldDotsSyncColor:!0,stack:"",stackLines:!1,label:f(),tooltip:{formatter:null},styleConditions:{enable:!1,conditions:[]},multiMetricMode:{enable:!1,metricNames:[],metricDatasets:[],metricSorts:[]},animation:!0,animationEasing:"cubicOut",animationEasingUpdate:"cubicOut",animationDuration:1e3,animationDurationUpdate:1e3,animationDelay:0,animationDelayUpdate:0,symbol:"emptyCircle",showSymbol:!0,fillSymbol:!0,symbolSize:8,symbolColor:"#359EFF",symbolBdrWidth:"2px",symbolBdrColor:"#359EFF",connectNulls:!0,data:[],uid:"",isUsedBarMinHeightConditions:!1,labelLayout:{use:!1,x:0,y:0,align:"right",verticalAlign:"top"},barMinHeightConditions:[]},A={enable:!1,type:i.IF.DIMENSION,metrics:["all"],number:10,dir:"top",btn:{show:!0,topIconPath:"M12,7.09L14.45,8.58L13.8,5.77L16,3.89L13.11,3.64L12,1L10.87,3.64L8,3.89L10.18,5.77L9.5,8.58L12,7.09M4,13.09L6.45,14.58L5.8,11.77L8,9.89L5.11,9.64L4,7L2.87,9.64L0,9.89L2.18,11.77L1.5,14.58L4,13.09M20,10.09L22.45,11.58L21.8,8.77L24,6.89L21.11,6.64L20,4L18.87,6.64L16,6.89L18.18,8.77L17.5,11.58L20,10.09M15,23H9V10H15V23M7,23H1V17H7V23M23,23H17V13H23V23Z",defaultIconPath:"M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z",title:"top"},rest:{show:!0,title:"Остальные",reduce:{enable:!1,percent:25}},metricsStyle:C},L={show:!0,itemSize:16,prevTitle:"prev",iconStyle:{color:"#2C3E5D"}},$=["dimensionOptions","axis","barGap","metricsStyle","backgroundColor","mainTitle","legend","tooltip","axisPointer","topOptions","toolbox","dataZoom","dataZoomInside","legendManualSize","grid","breadcrumb","shouldSkipLevelWithOneValue","customTooltip","neutralMetrics","deviations"],F={show:!1,moveHandleSize:0,backgroundColor:"#091E420F",fillerColor:"#091E4224",borderColor:"#091E420F",handleSize:"100%",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleStyle:{color:"rgba(167, 183, 204, 1)",borderColor:"rgba(0, 0, 0, 1)",borderWidth:0},textStyle:{color:"rgba(51, 51, 51, 1)",fontFamily:"Roboto",fontSize:12},dataBackground:{lineStyle:{color:"#6EB9FF",opacity:1,width:.5},areaStyle:{color:"#6EB9FF",opacity:1}},showDetail:!0,xAxisIndex:null,yAxisIndex:null,isPercent:!1,startValue:0,endValue:5,inverseDirection:!1,startPercentValue:0,endPercentValue:100,minPercentValue:0,maxPercentValue:100,orient:"horizontal",zoomLock:!1,left:"center",top:"bottom",right:"auto",bottom:"-5%",isUsedBaseMinMaxValue:!0},M={type:"inside",zoomOnMouseWheel:!1,moveOnMouseMove:!1,moveOnMouseWheel:!1},w=[{...u(),type:"category",boundaryGap:!0,position:"bottom",splitLine:{show:!0,lineStyle:{type:"solid",color:"rgba(0, 0, 0, 0.3)"}},splitNumber:5},(0,o.A)(u(),{typeAxis:"y",name:"Значения Метрик",nameGap:25,nameRotate:90,splitNumber:4,calcMinMax:!1,axisLabel:{rotate:0}})],V=500,P=16,B="additional",N="condition",D=1e-13,z=["lineStyle.width","symbolSize","itemStyle.borderWidth","barMinHeight","barWidth","barMinWidth","barMaxWidth"]},43620:(e,t,n)=>{n.d(t,{FB:()=>l,FK:()=>x,HA:()=>S,IF:()=>P,Jb:()=>w,Ju:()=>m,Ot:()=>o,Pp:()=>v,QB:()=>r,Rn:()=>g,UP:()=>C,UQ:()=>h,VD:()=>c,XD:()=>y,Z5:()=>_,Zl:()=>s,bX:()=>f,dG:()=>d,dI:()=>M,de:()=>a,g8:()=>B,kB:()=>i,kL:()=>L,kt:()=>$,mF:()=>b,pi:()=>A,qU:()=>p,s4:()=>V,s9:()=>D,uh:()=>u,wG:()=>k,yI:()=>N,zC:()=>O,zt:()=>F});const o=[{label:"Сверху",value:"top"},{label:"Посередине",value:"middle"},{label:"Снизу",value:"bottom"}],i=[{label:"Строка",value:"string"},{label:"ДД.ММ.ГГГГ",value:"DD.MM.YYYY"},{label:"ДД.ММ",value:"DD.MM"},{label:"ДД",value:"DD"}],r=[{label:"Без сортировки",value:"none"},{label:"По возрастанию",value:"ascending"},{label:"По убыванию",value:"descending"}],l=[{label:"Точка",value:"emptyCircle"},{label:"Точка с заливкой",value:"circle"},{label:"Квадрат",value:"rect"},{label:"Ромб",value:"diamond"},{label:"Треугольник",value:"triangle"}],s=[{label:"По убыванию",value:"top"},{label:"По возрастанию",value:"bottom"}],a=[{label:"Сплошная",value:"solid"},{label:"Пунктир",value:"dashed"},{label:"Точки",value:"dotted"}],c=[{label:"Сверху",value:"top"},{label:"Снизу",value:"bottom"}],u=[{value:"item",label:"Метрику"},{value:"axis",label:"Ось"}],p=[{value:"0",label:"1000"},{value:"1",label:"1000,1"},{value:"2",label:"1000,12"},{value:"3",label:"1000,123"},{value:"0%",label:"12%"},{value:"1%",label:"12,3%"},{value:"2%",label:"12,34%"},{value:"3%",label:"12,345%"}],d=[{value:"0",label:"10000"},{value:"1",label:"10 000"},{value:"2",label:"10.000"},{value:"3",label:"10,000"}],m=[{value:"0 1 0 0",label:"↑"},{value:"1 0 0 0",label:"←"},{value:"0 0 1 0",label:"→"},{value:"0 0 0 1",label:"↓"},{value:"1 1 0 0",label:"↖"},{value:"0 1 1 0",label:"↗"},{value:"0 0 1 1",label:"↘"},{value:"1 0 0 1",label:"↙"}],f=[{value:"start",label:"Снизу"},{value:"middle",label:"В центре"},{value:"end",label:"Сверху"}],b=[{value:"x",label:"X"},{value:"y",label:"Y"}],h=[{value:"category",label:"Категория"},{value:"value",label:"Значение"}],x=[{value:"value",label:"Value"},{value:"percent",label:"Percent"}],g=[{value:"text",label:"Текст"},{value:"image",label:"Изображение"},{value:"text&image",label:"Текст и изображение"},{value:"text&label",label:"Текст и доп.подпись"}],y=[{value:"bar",label:"Bar chart"},{value:"line",label:"Line chart"},{value:"plan",label:"Compared plan"},{value:"fact",label:"Compared fact"},{value:"stacked",label:"Stacked bar"},{value:"stacked line",label:"Stacked line"}],v=[{value:"top",label:"Сверху"},{value:"left",label:"Слева"},{value:"right",label:"Справа"},{value:"bottom",label:"Снизу"},{value:"inside",label:"Внутри"},{value:"insideLeft",label:"Слева внутри"},{value:"insideRight",label:"Справа внутри"},{value:"insideTop",label:"Сверху внутри"},{value:"insideBottom",label:"Снизу внутри"},{value:"insideTopLeft",label:"Сверху слева внутри"},{value:"insideBottomLeft",label:"Снизу слева внутри"},{value:"insideTopRight",label:"Сверху справа внутри"},{value:"insideBottomRight",label:"Снизу справа внутри"}],O=[{value:"start",label:"Под линией"},{value:"end",label:"Над линией"}],S=[{value:"linear",label:"Linear"},{value:"cubicIn",label:"CubicIn"},{value:"cubicOut",label:"CubicOut"},{value:"cubicInOut",label:"CubicInOut"},{value:"elasticIn",label:"ElasticIn"},{value:"elasticOut",label:"ElasticOut"},{value:"elasticInOut",label:"ElasticInOut"},{value:"bounceIn",label:"BounceIn"},{value:"bounceOut",label:"BounceOut"},{value:"backIn",label:"BackIn"},{value:"backOut",label:"BackOut"},{value:"backInOut",label:"BackInOut"}],_=[{value:"horizontal",label:"Горизонтальное"},{value:"vertical",label:"Вертикальное"}],k=[{label:"Авто",value:"auto"},{label:"Сверху",value:"top"},{label:"Посередине",value:"middle"},{label:"Снизу",value:"bottom"}],C=[{label:"Авто",value:"auto"},{label:"Слева",value:"left"},{label:"Посередине",value:"center"},{label:"Справа",value:"right"}],A=[{label:"Сверху",value:"top"},{label:"Снизу",value:"bottom"}],L=[{label:"По центру",value:"center"},{label:"Слева",value:"left"},{label:"Справа",value:"right"}],$=[{label:"Слева",value:"left"},{label:"Сверху",value:"top"},{label:"Справа",value:"right"},{label:"Снизу",value:"bottom"}],F=[{label:"Без сортировки",value:""},{label:"По возрастанию",value:"ascending"},{label:"По убыванию",value:"descending"}],M=[{label:"Стандартный",value:""},{label:"Круг",value:"circle"},{label:"Прямоугольник",value:"rect"},{label:"Скругленный прямоугольник",value:"roundRect"},{label:"Треугольник",value:"triangle"},{label:"Ромб",value:"diamond"},{label:"Шарик",value:"pin"},{label:"Стрелка",value:"arrow"},{label:"Без иконки",value:"none"}],w=[{label:"Слева",value:!1},{label:"Справа",value:!0}],V=[{label:"Без шаблона",value:null},{label:"Все линии",value:"line"},{label:"Все бары",value:"bar"}],P={DIMENSION:"dimension",METRIC:"metric"},B=[{label:"Измерение",value:P.DIMENSION},{label:"Метрика",value:P.METRIC}],N=["px","rem","em","%"],D=["px","rem","em","vh","vw","%"]},49233:(e,t,n)=>{n.d(t,{A:()=>D});var o=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.showDataSet,callback:function(t){e.$set(e.currentOptions,"showDataSet",t)},expression:"currentOptions.showDataSet"}},[e._v("Отображать метрику")]),t("ui-select",{attrs:{options:e.chartTypes,disabled:null!=e.seriesType},on:{change:e.changeSeriesType},model:{value:e.currentOptions.customType,callback:function(t){e.$set(e.currentOptions,"customType",t)},expression:"currentOptions.customType"}},[e._v(" Тип отображения ")]),t("ui-select",{attrs:{options:e.datasetOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.originIdx,callback:function(t){e.$set(e.currentOptions,"originIdx",t)},expression:"currentOptions.originIdx"}},[e._v(" Источник данных ")]),t("ui-select",{attrs:{options:e.metricNamesOptions},on:{change:e.onMetricNameChange},model:{value:e.currentOptions.metricName,callback:function(t){e.$set(e.currentOptions,"metricName",t)},expression:"currentOptions.metricName"}},[e._v(" Отображаемая метрика ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Список метрик",slot:"metrics"}]},scopedSlots:e._u([{key:"metrics",fn:function(){return[t("p",{staticClass:"text-small"},[e._v("Расположите элементы в порядке уровней drill-down")]),t("ui-container",[t("draggable",e._b({on:{change:e.collectSettings},model:{value:e.multiMetricMap,callback:function(t){e.multiMetricMap=t},expression:"multiMetricMap"}},"draggable",e.dragOptions,!1),e._l(e.currentOptions.multiMetricMode.metricNames,function(n,o){return t("div",{key:o,staticClass:"p"},[t("div",{staticClass:"row row-collapse flex-nowrap"},[t("div",{staticClass:"col col-auto col-vmid"},[t("div",{staticClass:"icon cursor-move drag-handle"},[t("i",{staticClass:"mdi mdi-drag mdi-18px"})])]),t("div",{staticClass:"col"},[t("ui-collapse",{attrs:{label:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.currentOptions.multiMetricMode.metricNames[o])+" ")]},proxy:!0},{key:"default",fn:function(){return[t("ui-container",[t("ui-select",{attrs:{options:e.datasetOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.multiMetricMode.metricDatasets[o],callback:function(t){e.$set(e.currentOptions.multiMetricMode.metricDatasets,o,t)},expression:"currentOptions.multiMetricMode.metricDatasets[idx]"}},[e._v(" Источник данных ")]),t("ui-select",{attrs:{options:e.datasetMetricNamesOptions[e.currentOptions.multiMetricMode.metricDatasets[o]]},on:{change:e.collectSettings},model:{value:e.currentOptions.multiMetricMode.metricNames[o],callback:function(t){e.$set(e.currentOptions.multiMetricMode.metricNames,o,t)},expression:"currentOptions.multiMetricMode.metricNames[idx]"}},[e._v(" Метрика ")]),t("ui-select",{attrs:{options:e.SortOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.multiMetricMode.metricSorts[o],callback:function(t){e.$set(e.currentOptions.multiMetricMode.metricSorts,o,t)},expression:"currentOptions.multiMetricMode.metricSorts[idx]"}},[e._v(" Сортировка ")])],1)]},proxy:!0}],null,!0)})],1),t("div",{staticClass:"col col-auto col-vmid"},[t("div",{staticClass:"icon",on:{click:function(t){return e.deleteMetricName(o)}}},[t("i",{staticClass:"mdi mdi-close mdi-18px"})])])])])}),0),t("ui-button",{on:{click:e.addMetricName}},[e._v("Добавить метрику")])],1)]},proxy:!0}])})]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" При использовании сложного измерения позволяет отображать на каждом уровне проваливания конкретную метрику ")]},proxy:!0}]),model:{value:e.currentOptions.multiMetricMode.enable,callback:function(t){e.$set(e.currentOptions.multiMetricMode,"enable",t)},expression:"currentOptions.multiMetricMode.enable"}},[e._v(" Режим мульти-метрики ")])],1),t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.marker,callback:function(t){e.$set(e.currentOptions,"marker","string"===typeof t?t.trim():t)},expression:"currentOptions.marker"}},[e._v("Маркер метрики")]),t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.name,callback:function(t){e.$set(e.currentOptions,"name","string"===typeof t?t.trim():t)},expression:"currentOptions.name"}},[e._v("Наименование метрики")]),t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("Скрывает графики, величина которых равна нулю")]},proxy:!0}]),model:{value:e.currentOptions.nullValues,callback:function(t){e.$set(e.currentOptions,"nullValues",t)},expression:"currentOptions.nullValues"}},[e._v(" Убрать нулевые значения ")]),t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("При включении настройки, пустые значения не будут отображаться на диаграмме.")]},proxy:!0}]),model:{value:e.currentOptions.voidValues,callback:function(t){e.$set(e.currentOptions,"voidValues",t)},expression:"currentOptions.voidValues"}},[e._v(" Убрать пустые значения ")]),t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("При выключении настройки, пустые значения будут обрывать диаграмму.")]},proxy:!0}]),model:{value:e.currentOptions.connectNulls,callback:function(t){e.$set(e.currentOptions,"connectNulls",t)},expression:"currentOptions.connectNulls"}},[e._v(" Соединять пропуская пустые ")]),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.isAbsoluteValue,callback:function(t){e.$set(e.currentOptions,"isAbsoluteValue",t)},expression:"currentOptions.isAbsoluteValue"}},[e._v(" Выводить абсолютное значение ")]),t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" Активирует округление метрики по следующему алгоритму, где х - значение метрики: "),t("br"),e._v(" а) если x>=1, то округление до целого значения; "),t("br"),e._v(" б) если 0.1<=x<1, то отображение с 1 знаком после запятой; "),t("br"),e._v(" в) если 0.01<=x<0.1, то отображение с 2 знаками после запятой; "),t("br"),e._v(" г) если x<0.01, то отображение с 3 знаками после запятой. ")]},proxy:!0}]),model:{value:e.currentOptions.isAutoRound,callback:function(t){e.$set(e.currentOptions,"isAutoRound",t)},expression:"currentOptions.isAutoRound"}},[e._v(" Авто-округление ")]),t("ui-select",{attrs:{disabled:e.currentOptions.isAutoRound,options:e.formatOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.metricFormat,callback:function(t){e.$set(e.currentOptions,"metricFormat",t)},expression:"currentOptions.metricFormat"}},[e._v(" Формат метрики ")]),t("ui-select",{attrs:{disabled:e.currentOptions.isAutoRound,options:e.separatorOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.metricSeparator,callback:function(t){e.$set(e.currentOptions,"metricSeparator",t)},expression:"currentOptions.metricSeparator"}},[e._v(" Формат разделителя разрядов ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.metricPrefix,callback:function(t){e.$set(e.currentOptions,"metricPrefix",t)},expression:"currentOptions.metricPrefix"}},[e._v("Префикс")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.metricPostfix,callback:function(t){e.$set(e.currentOptions,"metricPostfix",t)},expression:"currentOptions.metricPostfix"}},[e._v("Постфикс")])]},proxy:!0}])}),["line","bar"].includes(e.currentOptions.type)?[t("ui-switch",{attrs:{disabled:e.currentOptions.isCumulativeDifference},on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" Прибавляет к текущему значению графика его предыдущее значение. Корректное отображение происходит при отключенной сортировке ")]},proxy:!0}],null,!1,3395458544),model:{value:e.currentOptions.isCumulativeTotal,callback:function(t){e.$set(e.currentOptions,"isCumulativeTotal",t)},expression:"currentOptions.isCumulativeTotal"}},[e._v(" Накопительный итог ")]),t("ui-switch",{attrs:{disabled:e.currentOptions.isCumulativeTotal},on:{change:e.collectSettings},model:{value:e.currentOptions.isCumulativeDifference,callback:function(t){e.$set(e.currentOptions,"isCumulativeDifference",t)},expression:"currentOptions.isCumulativeDifference"}},[e._v(" Разница ")])]:e._e(),"stacked line"===e.currentOptions.customType?[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.stackLines,callback:function(t){e.$set(e.currentOptions,"stackLines",t)},expression:"currentOptions.stackLines"}},[e._v("Складывать линии")])]:e._e(),"plan"===e.currentOptions.customType?[t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.nameExcess,callback:function(t){e.$set(e.currentOptions,"nameExcess",t)},expression:"currentOptions.nameExcess"}},[e._v(" Наименование избытка ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Градиент избытка",slot:"gradient"}]},scopedSlots:e._u([{key:"gradient",fn:function(){return[t("ui-container",[t("ui-input-cp",{on:{change:function(t){return e.collectComparedColors("excess")}},model:{value:e.currentOptions.excess.firstColor,callback:function(t){e.$set(e.currentOptions.excess,"firstColor",t)},expression:"currentOptions.excess.firstColor"}},[e._v(" Первый цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:function(t){return e.collectComparedColors("excess")}},model:{value:e.currentOptions.excess.firstOffSet,callback:function(t){e.$set(e.currentOptions.excess,"firstOffSet",t)},expression:"currentOptions.excess.firstOffSet"}},[e._v(" Смещение цвета ")]),t("ui-input-cp",{on:{change:function(t){return e.collectComparedColors("excess")}},model:{value:e.currentOptions.excess.secondColor,callback:function(t){e.$set(e.currentOptions.excess,"secondColor",t)},expression:"currentOptions.excess.secondColor"}},[e._v(" Второй цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:function(t){return e.collectComparedColors("excess")}},model:{value:e.currentOptions.excess.secondOffSet,callback:function(t){e.$set(e.currentOptions.excess,"secondOffSet",t)},expression:"currentOptions.excess.secondOffSet"}},[e._v(" Смещение цвета ")]),t("ui-select",{attrs:{options:e.gradientPosOptions},on:{change:function(t){return e.collectComparedColors("excess")}},model:{value:e.currentOptions.excess.gradPos,callback:function(t){e.$set(e.currentOptions.excess,"gradPos",t)},expression:"currentOptions.excess.gradPos"}},[e._v(" Направление градиента ")])],1)]},proxy:!0}],null,!1,2128006354)})]},proxy:!0}],null,!1,1247710362)},[t("ui-checkbox",{on:{change:function(t){return e.collectComparedColors("excess")}},model:{value:e.currentOptions.excess.gradient,callback:function(t){e.$set(e.currentOptions.excess,"gradient",t)},expression:"currentOptions.excess.gradient"}},[e._v(" Градиент избытка ")])],1),e.currentOptions.excess.gradient?e._e():t("ui-input-cp",{on:{change:function(t){return e.collectComparedColors("excess")}},model:{value:e.currentOptions.excess.color,callback:function(t){e.$set(e.currentOptions.excess,"color",t)},expression:"currentOptions.excess.color"}},[e._v(" Цвет избытка ")]),t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.nameLack,callback:function(t){e.$set(e.currentOptions,"nameLack",t)},expression:"currentOptions.nameLack"}},[e._v(" Наименование недостатка ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Градиент недостатка",slot:"default"}]}},[t("ui-container",[t("ui-input-cp",{on:{change:function(t){return e.collectComparedColors("lack")}},model:{value:e.currentOptions.lack.firstColor,callback:function(t){e.$set(e.currentOptions.lack,"firstColor",t)},expression:"currentOptions.lack.firstColor"}},[e._v(" Первый цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:function(t){return e.collectComparedColors("lack")}},model:{value:e.currentOptions.lack.firstOffSet,callback:function(t){e.$set(e.currentOptions.lack,"firstOffSet",t)},expression:"currentOptions.lack.firstOffSet"}},[e._v(" Смещение цвета ")]),t("ui-input-cp",{on:{change:function(t){return e.collectComparedColors("lack")}},model:{value:e.currentOptions.lack.secondColor,callback:function(t){e.$set(e.currentOptions.lack,"secondColor",t)},expression:"currentOptions.lack.secondColor"}},[e._v(" Второй цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:function(t){return e.collectComparedColors("lack")}},model:{value:e.currentOptions.lack.secondOffSet,callback:function(t){e.$set(e.currentOptions.lack,"secondOffSet",t)},expression:"currentOptions.lack.secondOffSet"}},[e._v(" Смещение цвета ")]),t("ui-select",{attrs:{options:e.gradientPosOptions},on:{change:function(t){return e.collectComparedColors("lack")}},model:{value:e.currentOptions.lack.gradPos,callback:function(t){e.$set(e.currentOptions.lack,"gradPos",t)},expression:"currentOptions.lack.gradPos"}},[e._v(" Направление градиента ")])],1)],1)]},proxy:!0}],null,!1,2097076855)},[t("ui-checkbox",{on:{change:function(t){return e.collectComparedColors("lack")}},model:{value:e.currentOptions.lack.gradient,callback:function(t){e.$set(e.currentOptions.lack,"gradient",t)},expression:"currentOptions.lack.gradient"}},[e._v(" Градиент недостатка ")])],1),e.currentOptions.lack.gradient?e._e():t("ui-input-cp",{on:{change:function(t){return e.collectComparedColors("lack")}},model:{value:e.currentOptions.lack.color,callback:function(t){e.$set(e.currentOptions.lack,"color",t)},expression:"currentOptions.lack.color"}},[e._v(" Цвет недостатка ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Подписи избытка и недостатка",slot:"default"}]}},[t("ui-container",[e.currentOptions.lack.gradient?e._e():t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.color,callback:function(t){e.$set(e.currentOptions.excessLackLabel,"color",t)},expression:"currentOptions.excessLackLabel.color"}},[e._v(" Цвет подписи ")]),t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.fontFamily,callback:function(t){e.$set(e.currentOptions.excessLackLabel,"fontFamily",t)},expression:"currentOptions.excessLackLabel.fontFamily"}},[e._v(" Шрифт подписи ")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.fontSize,callback:function(t){e.$set(e.currentOptions.excessLackLabel,"fontSize",t)},expression:"currentOptions.excessLackLabel.fontSize"}},[e._v(" Размер подписи ")]),t("ui-select",{attrs:{options:e.labelPosOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.position,callback:function(t){e.$set(e.currentOptions.excessLackLabel,"position",t)},expression:"currentOptions.excessLackLabel.position"}},[e._v(" Расположение подписей ")]),t("ui-input",{attrs:{type:"number",min:"-90",max:"90"},on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.rotate,callback:function(t){e.$set(e.currentOptions.excessLackLabel,"rotate",e._n(t))},expression:"currentOptions.excessLackLabel.rotate"}},[e._v(" Угол поворота подписей ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.offset[0],callback:function(t){e.$set(e.currentOptions.excessLackLabel.offset,0,e._n(t))},expression:"currentOptions.excessLackLabel.offset[0]"}},[e._v(" Отступ по оси X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.offset[1],callback:function(t){e.$set(e.currentOptions.excessLackLabel.offset,1,e._n(t))},expression:"currentOptions.excessLackLabel.offset[1]"}},[e._v(" Отступ по оси Y ")])]},proxy:!0}],null,!1,3437744370)})],1)],1)]},proxy:!0}],null,!1,2929788319)},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.excessLackLabel.show,callback:function(t){e.$set(e.currentOptions.excessLackLabel,"show",t)},expression:"currentOptions.excessLackLabel.show"}},[e._v(" Подписи избытка и недостатка ")])],1)]:e._e(),"line"!==e.currentOptions.type?[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Размер бара",slot:"default"}]}},[t("ui-container",[t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.barMinHeight,callback:function(t){e.barMinHeight=t},expression:"barMinHeight"}},[e._v(" Минимальная высота столбца ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.barWidth,callback:function(t){e.barWidth=t},expression:"barWidth"}},[e._v(" Ширина столбца ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[t("div",[e._v("Минимальная ширина столбца задает нижний предел для Ширины столбца.")]),t("div",[e._v("В случае, если Ширина столбца < Минимальной, то применяется минимальная")])]},proxy:!0}],null,!1,1041843363),model:{value:e.barMinWidth,callback:function(t){e.barMinWidth=t},expression:"barMinWidth"}},[e._v(" Мин. ширина столбца ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[t("div",[e._v("Максимальная ширина столбца задает верхний предел для Ширины столбца.")]),t("div",[e._v("В случае, если Ширина столбца > Максимальной, то применяется максимальная")])]},proxy:!0}],null,!1,2548017662),model:{value:e.barMaxWidth,callback:function(t){e.barMaxWidth=t},expression:"barMaxWidth"}},[e._v(" Макс. ширина ")])],1)],1)]},proxy:!0}],null,!1,1959204369)},[t("div",{staticClass:"form-label form-label-small"},[e._v("Настройка величины баров")])])]:e._e(),["stacked","bar"].includes(e.currentOptions.type)?[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.borderWidth,callback:function(t){e.$set(e.currentOptions.itemStyle,"borderWidth",e._n(t))},expression:"currentOptions.itemStyle.borderWidth"}},[e._v(" Толщина границы ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-cp",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.borderColor,callback:function(t){e.$set(e.currentOptions.itemStyle,"borderColor",e._n(t))},expression:"currentOptions.itemStyle.borderColor"}},[e._v(" Цвет границы ")])]},proxy:!0}],null,!1,230799503)}),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.isRoundedBarBorder,callback:function(t){e.$set(e.currentOptions,"isRoundedBarBorder",t)},expression:"currentOptions.isRoundedBarBorder"}},[e._v(" Округление границ ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.roundedBarBorder.leftTop,callback:function(t){e.$set(e.currentOptions.roundedBarBorder,"leftTop",e._n(t))},expression:"currentOptions.roundedBarBorder.leftTop"}},[e._v(" Слева сверху ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.roundedBarBorder.rightTop,callback:function(t){e.$set(e.currentOptions.roundedBarBorder,"rightTop",e._n(t))},expression:"currentOptions.roundedBarBorder.rightTop"}},[e._v(" Справа сверху ")])]},proxy:!0}],null,!1,2184156744)}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.roundedBarBorder.leftBottom,callback:function(t){e.$set(e.currentOptions.roundedBarBorder,"leftBottom",e._n(t))},expression:"currentOptions.roundedBarBorder.leftBottom"}},[e._v(" Слева снизу ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.roundedBarBorder.rightBottom,callback:function(t){e.$set(e.currentOptions.roundedBarBorder,"rightBottom",e._n(t))},expression:"currentOptions.roundedBarBorder.rightBottom"}},[e._v(" Справа снизу ")])]},proxy:!0}],null,!1,2123576712)})],1)]},proxy:!0}],null,!1,1781675261)},[t("div",{staticClass:"form-label form-label-small"},[e._v("Настройка границы баров")])])]:e._e(),"line"===e.currentOptions.type?t("ui-input-cp",{on:{change:e.collectAndUpdateColorsForLine},model:{value:e.currentOptions.colorForLine,callback:function(t){e.$set(e.currentOptions,"colorForLine",t)},expression:"currentOptions.colorForLine"}},[e._v(" Цвет линии ")]):t("ui-input-cp",{on:{change:e.collectColorForBar},model:{value:e.currentOptions.colorForBar,callback:function(t){e.$set(e.currentOptions,"colorForBar",t)},expression:"currentOptions.colorForBar"}},[e._v("Цвет бара")]),e.isStackedType?[t("ui-input",{attrs:{type:"number",min:"1"},on:{change:e.collectSettings},model:{value:e.currentOptions.colorStep,callback:function(t){e.$set(e.currentOptions,"colorStep",e._n(t))},expression:"currentOptions.colorStep"}},[e._v(" Шаг цвета ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Кастомные цвета",slot:"default"}]}},[t("ui-container",[t("ui-select",{attrs:{options:e.minorDimensionNamesOptions},model:{value:e.customColor.name,callback:function(t){e.$set(e.customColor,"name",t)},expression:"customColor.name"}},[e._v(" Измерение ")]),t("ui-input-cp",{on:{change:e.changeCustomColor},model:{value:e.customColor.color,callback:function(t){e.$set(e.customColor,"color",t)},expression:"customColor.color"}},[e._v("Цвет")])],1)],1)]},proxy:!0}],null,!1,3332404263)},[t("div",{staticClass:"form-label form-label-small"},[e._v("Кастомные цвета")])])]:e._e(),"bar"===e.currentOptions.type?[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Градиент бара",slot:"default"}]}},[t("ui-container",[t("ui-input-cp",{on:{change:e.collectColorForBar},model:{value:e.currentOptions.barFirstColor,callback:function(t){e.$set(e.currentOptions,"barFirstColor",t)},expression:"currentOptions.barFirstColor"}},[e._v(" Первый цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.collectColorForBar},model:{value:e.currentOptions.barFirstOffSet,callback:function(t){e.$set(e.currentOptions,"barFirstOffSet",t)},expression:"currentOptions.barFirstOffSet"}},[e._v(" Смещение цвета ")]),t("ui-input-cp",{on:{change:e.collectColorForBar},model:{value:e.currentOptions.barSecondColor,callback:function(t){e.$set(e.currentOptions,"barSecondColor",t)},expression:"currentOptions.barSecondColor"}},[e._v(" Второй цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.collectColorForBar},model:{value:e.currentOptions.barSecondOffSet,callback:function(t){e.$set(e.currentOptions,"barSecondOffSet",t)},expression:"currentOptions.barSecondOffSet"}},[e._v(" Смещение цвета ")]),t("ui-select",{attrs:{options:e.gradientPosOptions},on:{change:e.collectColorForBar},model:{value:e.currentOptions.barPos,callback:function(t){e.$set(e.currentOptions,"barPos",t)},expression:"currentOptions.barPos"}},[e._v(" Направление градиента ")])],1)],1)]},proxy:!0}],null,!1,9974092)},[t("ui-checkbox",{on:{change:e.collectColorForBar},model:{value:e.currentOptions.gradientForBar,callback:function(t){e.$set(e.currentOptions,"gradientForBar",t)},expression:"currentOptions.gradientForBar"}},[e._v(" Градиент бара ")])],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Условия",slot:"default"}]}},[t("ui-container",[e._l(e.currentOptions.styleConditions.conditions,function(n,o){return t("ui-collapse",{key:`cond-${o}`,scopedSlots:e._u([{key:"header",fn:function(){return[e._v(e._s(`Условие ${o+1}`))]},proxy:!0}],null,!0)},[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-select",{attrs:{options:e.condStyleTypes},on:{change:function(t){return e.collectCondition(n)}},model:{value:n.type,callback:function(t){e.$set(n,"type",t)},expression:"cond.type"}},[e._v(" Условие ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number",disabled:"ALL"===n.type||n.dimValues.length>0},on:{change:function(t){return e.collectCondition(n)}},model:{value:n.value,callback:function(t){e.$set(n,"value",e._n(t))},expression:"cond.value"}},[e._v(" Значение ")])]},proxy:!0}],null,!0)}),t("ui-select",{attrs:{multiple:"",options:e.dimValueNames,disabled:""!==n.value},on:{change:function(t){return e.collectCondition(n)}},model:{value:n.dimValues,callback:function(t){e.$set(n,"dimValues",t)},expression:"cond.dimValues"}},[e._v(" Значение измерения ")]),t("ui-switch",{on:{change:function(t){return e.collectCondition(n)}},model:{value:n.useGradient,callback:function(t){e.$set(n,"useGradient",t)},expression:"cond.useGradient"}},[e._v(" Градиент ")]),n.useGradient?t("ui-container",[t("ui-input-cp",{on:{change:function(t){return e.collectCondition(n)}},model:{value:n.gradient.firstColor,callback:function(t){e.$set(n.gradient,"firstColor",t)},expression:"cond.gradient.firstColor"}},[e._v(" Первый цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:function(t){return e.collectCondition(n)}},model:{value:n.gradient.firstOffset,callback:function(t){e.$set(n.gradient,"firstOffset",t)},expression:"cond.gradient.firstOffset"}},[e._v(" Смещение цвета ")]),t("ui-input-cp",{on:{change:function(t){return e.collectCondition(n)}},model:{value:n.gradient.secondColor,callback:function(t){e.$set(n.gradient,"secondColor",t)},expression:"cond.gradient.secondColor"}},[e._v(" Второй цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:function(t){return e.collectCondition(n)}},model:{value:n.gradient.secondOffset,callback:function(t){e.$set(n.gradient,"secondOffset",t)},expression:"cond.gradient.secondOffset"}},[e._v(" Смещение цвета ")]),t("ui-select",{attrs:{options:e.gradientPosOptions},on:{change:function(t){return e.collectCondition(n)}},model:{value:n.gradient.pos,callback:function(t){e.$set(n.gradient,"pos",t)},expression:"cond.gradient.pos"}},[e._v(" Направление градиента ")])],1):t("ui-input-cp",{on:{change:function(t){return e.collectCondition(n)}},model:{value:n.color,callback:function(t){e.$set(n,"color",t)},expression:"cond.color"}},[e._v(" Цвет ")]),t("ui-button",{attrs:{type:"error"},on:{click:function(t){return e.deleteCondition(o)}}},[e._v("Удалить")])],1)],1)}),t("ui-button",{attrs:{type:"ghost"},on:{click:e.addCondition}},[e._v("Добавить условие")])],2)],1)]},proxy:!0}],null,!1,1532537228)},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.styleConditions.enable,callback:function(t){e.$set(e.currentOptions.styleConditions,"enable",t)},expression:"currentOptions.styleConditions.enable"}},[e._v(" Задать стили условием ")])],1)]:e._e(),"line"===e.currentOptions.type?[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Заливка",slot:"fill"},{name:"Градиент",slot:"gradient"}]},scopedSlots:e._u([{key:"fill",fn:function(){return[t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.shouldSyncColor,callback:function(t){e.$set(e.currentOptions,"shouldSyncColor",t)},expression:"currentOptions.shouldSyncColor"}},[e._v(" Цвет дублирует цвет графика ")]),t("ui-select",{attrs:{options:e.fillPositions,disabled:e.currentOptions.smartFill},on:{change:e.collectSettings},model:{value:e.currentOptions.origin,callback:function(t){e.$set(e.currentOptions,"origin",t)},expression:"currentOptions.origin"}},[e._v(" Положение заливки ")]),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.smartFill,callback:function(t){e.$set(e.currentOptions,"smartFill",t)},expression:"currentOptions.smartFill"}},[e._v(" Умная заливка ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.fillColor,callback:function(t){e.$set(e.currentOptions,"fillColor",t)},expression:"currentOptions.fillColor"}},[e._v(" Настройка цвета ")])],1)]},proxy:!0},{key:"gradient",fn:function(){return[t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.gradient,callback:function(t){e.$set(e.currentOptions,"gradient",t)},expression:"currentOptions.gradient"}},[e._v(" Градиент заливки ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.firstColor,callback:function(t){e.$set(e.currentOptions,"firstColor",t)},expression:"currentOptions.firstColor"}},[e._v(" Первый цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.collectSettings},model:{value:e.currentOptions.offSetFirstColor,callback:function(t){e.$set(e.currentOptions,"offSetFirstColor",t)},expression:"currentOptions.offSetFirstColor"}},[e._v(" Смещение цвета ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.secondColor,callback:function(t){e.$set(e.currentOptions,"secondColor",t)},expression:"currentOptions.secondColor"}},[e._v(" Второй цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.collectSettings},model:{value:e.currentOptions.offSetSecondColor,callback:function(t){e.$set(e.currentOptions,"offSetSecondColor",t)},expression:"currentOptions.offSetSecondColor"}},[e._v(" Смещение цвета ")]),t("ui-select",{attrs:{options:e.gradientPosOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.colorPos,callback:function(t){e.$set(e.currentOptions,"colorPos",t)},expression:"currentOptions.colorPos"}},[e._v(" Направление градиента ")])],1)]},proxy:!0}],null,!1,3380452713)})]},proxy:!0}],null,!1,931510595)},[t("ui-checkbox",{attrs:{disabled:e.currentOptions.customFillLine},on:{change:e.collectSettings},model:{value:e.currentOptions.fillLine,callback:function(t){e.$set(e.currentOptions,"fillLine",t)},expression:"currentOptions.fillLine"}},[e._v(" Заливка линии ")])],1),e.isStackedType?t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Кастомная заливка линий",slot:"default"}]}},[t("ui-container",[t("ui-select",{attrs:{options:e.minorDimensionNamesOptions},model:{value:e.customColor.name,callback:function(t){e.$set(e.customColor,"name",t)},expression:"customColor.name"}},[e._v(" Значение измерения ")]),t("ui-input-cp",{attrs:{disabled:!e.customColor.name||e.customColor.gradient},on:{change:e.changeCustomColor},model:{value:e.customColor.fillColor,callback:function(t){e.$set(e.customColor,"fillColor",t)},expression:"customColor.fillColor"}},[e._v(" Цвет заливки ")]),t("ui-switch",{attrs:{disabled:!e.customColor.name},on:{change:e.changeCustomColor},model:{value:e.customColor.gradient,callback:function(t){e.$set(e.customColor,"gradient",t)},expression:"customColor.gradient"}},[e._v(" Градиент заливки ")]),e.customColor.gradient?[t("ui-input-cp",{on:{change:e.changeCustomColor},model:{value:e.customColor.firstColor,callback:function(t){e.$set(e.customColor,"firstColor",t)},expression:"customColor.firstColor"}},[e._v(" Первый цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.changeCustomColor},model:{value:e.customColor.offSetFirstColor,callback:function(t){e.$set(e.customColor,"offSetFirstColor",t)},expression:"customColor.offSetFirstColor"}},[e._v(" Смещение цвета ")]),t("ui-input-cp",{on:{change:e.changeCustomColor},model:{value:e.customColor.secondColor,callback:function(t){e.$set(e.customColor,"secondColor",t)},expression:"customColor.secondColor"}},[e._v(" Второй цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.changeCustomColor},model:{value:e.customColor.offSetSecondColor,callback:function(t){e.$set(e.customColor,"offSetSecondColor",t)},expression:"customColor.offSetSecondColor"}},[e._v(" Смещение цвета ")]),t("ui-select",{attrs:{options:e.gradientPosOptions},on:{change:e.changeCustomColor},model:{value:e.customColor.colorPos,callback:function(t){e.$set(e.customColor,"colorPos",t)},expression:"customColor.colorPos"}},[e._v(" Направление градиента ")])]:e._e()],2)],1)]},proxy:!0}],null,!1,2257752241)},[t("ui-checkbox",{attrs:{disabled:e.currentOptions.fillLine},on:{change:e.collectSettings},model:{value:e.currentOptions.customFillLine,callback:function(t){e.$set(e.currentOptions,"customFillLine",t)},expression:"currentOptions.customFillLine"}},[e._v(" Кастомная заливка линий ")])],1):e._e(),t("ui-select",{attrs:{options:e.lineTypes},on:{change:e.collectSettings},model:{value:e.currentOptions.lineStyle.type,callback:function(t){e.$set(e.currentOptions.lineStyle,"type",t)},expression:"currentOptions.lineStyle.type"}},[e._v(" Тип линии ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.lineStyleWidth,callback:function(t){e.lineStyleWidth=t},expression:"lineStyleWidth"}},[e._v(" Толщина линии ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка точек",slot:"default"}]}},[t("ui-container",[t("ui-select",{attrs:{options:e.symbolTypes},on:{change:e.collectSettings},model:{value:e.currentOptions.symbol,callback:function(t){e.$set(e.currentOptions,"symbol",t)},expression:"currentOptions.symbol"}},[e._v(" Вид ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.symbolSize,callback:function(t){e.symbolSize=t},expression:"symbolSize"}},[e._v(" Размер ")]),t("ui-switch",{on:{change:e.collectColorForLine},model:{value:e.currentOptions.fillSymbol,callback:function(t){e.$set(e.currentOptions,"fillSymbol",t)},expression:"currentOptions.fillSymbol"}},[e._v(" Задавать цвет ")]),t("ui-input-cp",{on:{change:e.collectColorForLine},model:{value:e.currentOptions.symbolColor,callback:function(t){e.$set(e.currentOptions,"symbolColor",t)},expression:"currentOptions.symbolColor"}},[e._v(" Цвет ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectColorForLine},model:{value:e.symbolBdrWidth,callback:function(t){e.symbolBdrWidth=t},expression:"symbolBdrWidth"}},[e._v(" Размер границы ")]),t("ui-input-cp",{on:{change:e.collectColorForLine},model:{value:e.currentOptions.symbolBdrColor,callback:function(t){e.$set(e.currentOptions,"symbolBdrColor",t)},expression:"currentOptions.symbolBdrColor"}},[e._v(" Цвет границы ")]),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.shouldDotsSyncColor,callback:function(t){e.$set(e.currentOptions,"shouldDotsSyncColor",t)},expression:"currentOptions.shouldDotsSyncColor"}},[e._v(" Цвет дублирует цвет графика ")])],1)],1)]},proxy:!0}],null,!1,3340404842)},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.showSymbol,callback:function(t){e.$set(e.currentOptions,"showSymbol",t)},expression:"currentOptions.showSymbol"}},[e._v("Точки")])],1)]:e._e(),e.isStackedType?e._e():[t("ui-input-auto",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" Комбинирует разные графики при одинаковых названиях тегов, указанных в их метриках ")]},proxy:!0}],null,!1,2406809663),model:{value:e.currentOptions.stack,callback:function(t){e.$set(e.currentOptions,"stack",t)},expression:"currentOptions.stack"}},[e._v(" Тег для стэка ")])],t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка тени",slot:"default"}]}},[t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.shouldSyncShadowColor,callback:function(t){e.$set(e.currentOptions,"shouldSyncShadowColor",t)},expression:"currentOptions.shouldSyncShadowColor"}},[e._v(" Цвет тени дублирует цвет графика ")]),t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowBlur,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowBlur",e._n(t))},expression:"currentOptions.itemStyle.shadowBlur"}},[e._v(" Размытие тени ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowColor,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowColor",t)},expression:"currentOptions.itemStyle.shadowColor"}},[e._v(" Цвет тени ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowOffsetX,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowOffsetX",e._n(t))},expression:"currentOptions.itemStyle.shadowOffsetX"}},[e._v(" Сдвиг по X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowOffsetY,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowOffsetY",e._n(t))},expression:"currentOptions.itemStyle.shadowOffsetY"}},[e._v(" Сдвиг по Y ")])]},proxy:!0}])})],1)],1)]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._v("Настройка тени")])]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.collectSettings},model:{value:e.currentOptions.xAxisIndex,callback:function(t){e.$set(e.currentOptions,"xAxisIndex",e._n(t))},expression:"currentOptions.xAxisIndex"}},[e._v(" Привязка к оси X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.collectSettings},model:{value:e.currentOptions.yAxisIndex,callback:function(t){e.$set(e.currentOptions,"yAxisIndex",e._n(t))},expression:"currentOptions.yAxisIndex"}},[e._v(" Привязка к оси Y ")])]},proxy:!0}])}),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.smooth,callback:function(t){e.$set(e.currentOptions,"smooth",t)},expression:"currentOptions.smooth"}},[e._v("Сглаживание")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[t("div",[e._v("Отвечает за порядок отображения графиков.")]),t("div",[e._v("Визуально выше (на переднем плане) отобразится")]),t("div",[e._v("график с большим значением индекса")])]},proxy:!0}]),model:{value:e.currentOptions.z,callback:function(t){e.$set(e.currentOptions,"z",e._n(t))},expression:"currentOptions.z"}},[e._v(" Z-индекс ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка подписей",slot:"default"}]}},[t("ui-container",[t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.color,callback:function(t){e.$set(e.currentOptions.label,"color",t)},expression:"currentOptions.label.color"}},[e._v(" Настройка цвета ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.fontFamily,callback:function(t){e.$set(e.currentOptions.label,"fontFamily",t)},expression:"currentOptions.label.fontFamily"}},[e._v(" Шрифт подписи ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.FontSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.labelFontSize,callback:function(t){e.labelFontSize=t},expression:"labelFontSize"}},[e._v(" Размер шрифта ")])]},proxy:!0}])}),t("ui-select",{attrs:{options:e.labelPosOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.label.position,callback:function(t){e.$set(e.currentOptions.label,"position",t)},expression:"currentOptions.label.position"}},[e._v(" Расположение подписей ")]),t("ui-select",{attrs:{options:e.LabelAlignOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.label.align,callback:function(t){e.$set(e.currentOptions.label,"align",t)},expression:"currentOptions.label.align"}},[e._v(" Горизонтальное выравнивание ")]),t("ui-input",{attrs:{type:"number",min:"-90",max:"90"},on:{change:e.collectSettings},model:{value:e.currentOptions.label.rotate,callback:function(t){e.$set(e.currentOptions.label,"rotate",e._n(t))},expression:"currentOptions.label.rotate"}},[e._v(" Угол поворота подписей ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.label.offset[0],callback:function(t){e.$set(e.currentOptions.label.offset,0,e._n(t))},expression:"currentOptions.label.offset[0]"}},[e._v(" Отступ по оси X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.label.offset[1],callback:function(t){e.$set(e.currentOptions.label.offset,1,e._n(t))},expression:"currentOptions.label.offset[1]"}},[e._v(" Отступ по оси Y ")])]},proxy:!0}])}),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройки для подписей в линию",slot:"default"}]}},[t("ui-container",[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.x,callback:function(t){e.$set(e.currentOptions.labelLayout,"x",e._n(t))},expression:"currentOptions.labelLayout.x"}},[e._v(" Позиция по Х ")]),t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.y,callback:function(t){e.$set(e.currentOptions.labelLayout,"y",e._n(t))},expression:"currentOptions.labelLayout.y"}},[e._v(" Позиция по Y ")]),t("ui-select",{attrs:{options:e.LabelAlignOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.align,callback:function(t){e.$set(e.currentOptions.labelLayout,"align",t)},expression:"currentOptions.labelLayout.align"}},[e._v(" Выравнивание по Х ")]),t("ui-select",{attrs:{options:e.VerticalAlignOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.verticalAlign,callback:function(t){e.$set(e.currentOptions.labelLayout,"verticalAlign",t)},expression:"currentOptions.labelLayout.verticalAlign"}},[e._v(" Выравнивание по Y ")])],1)],1)]},proxy:!0}])},[t("ui-checkbox",{attrs:{disabled:""},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.use,callback:function(t){e.$set(e.currentOptions.labelLayout,"use",t)},expression:"currentOptions.labelLayout.use"}},[t("ui-hint",{scopedSlots:e._u([{key:"label",fn:function(){return[e._v("Подписи прямой линией")]},proxy:!0}])},[e._v(" Функционал в данный момент не активен и находится в процессе доработки ")])],1)],1),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.isZeroValueShown,callback:function(t){e.$set(e.currentOptions.label,"isZeroValueShown",t)},expression:"currentOptions.label.isZeroValueShown"}},[e._v(" Отображать нули ")])],1)],1)]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.show,callback:function(t){e.$set(e.currentOptions.label,"show",t)},expression:"currentOptions.label.show"}},[e._v("Подписи")])],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Дополнительная подпись",slot:"default"}]}},[t("ui-additional-label",e._b({on:{change:e.collectSettings},model:{value:e.currentOptions.label.rich,callback:function(t){e.$set(e.currentOptions.label,"rich",t)},expression:"currentOptions.label.rich"}},"ui-additional-label",{metricNamesOptions:e.metricNamesOptions,condStyleTypes:e.condStyleTypes},!1))],1)]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.isAddlLabelShown,callback:function(t){e.$set(e.currentOptions.label,"isAddlLabelShown",t)},expression:"currentOptions.label.isAddlLabelShown"}},[e._v(" Дополнительная подпись ")])],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка анимации",slot:"default"}]}},[t("ui-container",[t("ui-select",{attrs:{options:e.animationTypes},on:{change:e.collectSettings},model:{value:e.currentOptions.animationEasing,callback:function(t){e.$set(e.currentOptions,"animationEasing",t)},expression:"currentOptions.animationEasing"}},[e._v(" Тип анимации ")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.collectSettings},model:{value:e.currentOptions.animationDuration,callback:function(t){e.$set(e.currentOptions,"animationDuration",e._n(t))},expression:"currentOptions.animationDuration"}},[e._v(" Продолжительность анимации ")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.collectSettings},model:{value:e.currentOptions.animationDelay,callback:function(t){e.$set(e.currentOptions,"animationDelay",e._n(t))},expression:"currentOptions.animationDelay"}},[e._v(" Продолжительность задержки ")])],1)],1)]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.animation,callback:function(t){e.$set(e.currentOptions,"animation",t)},expression:"currentOptions.animation"}},[e._v("Настройка анимации")])],1),t("ui-button",{attrs:{type:"error"},on:{click:e.deleteMetric}},[e._v("Удалить")])],2)},i=[],r=n(20903),l=n(77500),s=n(2520),a=n.n(s),c=n(10948),u=n.n(c),p=n(60997),d=n(14120),m=n(39849),f=n(91076),b=n(33612),h=n(43620),x=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-select",{attrs:{options:e.metricNamesOptions},on:{change:e.saveModel},model:{value:e.model.additional.metric,callback:function(t){e.$set(e.model.additional,"metric",t)},expression:"model.additional.metric"}},[e._v(" Метрика ")]),t("ui-input-cp",{on:{change:e.saveModel},model:{value:e.model.additional.color,callback:function(t){e.$set(e.model.additional,"color",t)},expression:"model.additional.color"}},[e._v("Цвет")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{on:{change:e.saveModel},model:{value:e.model.additional.fontFamily,callback:function(t){e.$set(e.model.additional,"fontFamily",t)},expression:"model.additional.fontFamily"}},[e._v("Шрифт")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.FontSizeFirstPxUnits},on:{change:e.saveModel},model:{value:e.additionalFontSize,callback:function(t){e.additionalFontSize=t},expression:"additionalFontSize"}},[e._v(" Размер шрифта ")])]},proxy:!0}])}),t("ui-select",{attrs:{options:e.FontWeightOptions},on:{change:e.saveModel},model:{value:e.model.additional.fontWeight,callback:function(t){e.$set(e.model.additional,"fontWeight",t)},expression:"model.additional.fontWeight"}},[e._v(" Начертание шрифта ")]),t("ui-number-format",{on:{change:e.saveModel},model:{value:e.model.additional.format,callback:function(t){e.$set(e.model.additional,"format",t)},expression:"model.additional.format"}},[e._v("Формат числа")]),t("ui-select",{attrs:{options:e.LabelAlignOptions},on:{change:e.saveModel},model:{value:e.model.additional.align,callback:function(t){e.$set(e.model.additional,"align",t)},expression:"model.additional.align"}},[e._v(" Горизонтальное выравнивание ")]),t("ui-select",{attrs:{options:e.AdditionalLabelPositionOptions},on:{change:e.saveModel},model:{value:e.model.additional.position,callback:function(t){e.$set(e.model.additional,"position",t)},expression:"model.additional.position"}},[e._v(" Расположение ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Цвета по условию",slot:"default"}]}},[t("ui-container",[e._l(e.model.additional.colorConditions,function(n,o){return t("ui-collapse",{key:o,scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Условие "+e._s(o+1))]},proxy:!0}],null,!0)},[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-select",{attrs:{options:e.condStyleTypes},on:{change:e.saveModel},model:{value:n.type,callback:function(t){e.$set(n,"type",t)},expression:"condition.type"}},[e._v(" Условие ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number",disabled:"ALL"===n.type},on:{change:e.saveModel},model:{value:n.comparedValue,callback:function(t){e.$set(n,"comparedValue",e._n(t))},expression:"condition.comparedValue"}},[e._v(" Сравниваемое значение ")])]},proxy:!0}],null,!0)}),t("ui-input-cp",{on:{change:e.saveModel},model:{value:n.color,callback:function(t){e.$set(n,"color",t)},expression:"condition.color"}},[e._v("Цвет")]),t("ui-button",{attrs:{type:"error"},on:{click:function(t){return e.deleteColorCondition(o)}}},[e._v("Удалить")])],1)],1)}),t("ui-button",{on:{click:e.addStyleCondition}},[e._v("Добавить условие")])],2)],1)]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._v("Цвета по условию")])]),t("ui-input-cp",{on:{change:e.saveModel},model:{value:e.model.additional.backgroundColor,callback:function(t){e.$set(e.model.additional,"backgroundColor",t)},expression:"model.additional.backgroundColor"}},[e._v("Цвет фона")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.saveModel},model:{value:e.model.additional.gap,callback:function(t){e.$set(e.model.additional,"gap",e._n(t))},expression:"model.additional.gap"}},[e._v(" Отступ от основой подписи ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.padding[2],callback:function(t){e.$set(e.model.additional.padding,2,e._n(t))},expression:"model.additional.padding[2]"}},[e._v(" Отступ сверху ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.padding[0],callback:function(t){e.$set(e.model.additional.padding,0,e._n(t))},expression:"model.additional.padding[0]"}},[e._v(" Отступ снизу ")])]},proxy:!0}])}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.padding[1],callback:function(t){e.$set(e.model.additional.padding,1,e._n(t))},expression:"model.additional.padding[1]"}},[e._v(" Отступ справа ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.padding[3],callback:function(t){e.$set(e.model.additional.padding,3,e._n(t))},expression:"model.additional.padding[3]"}},[e._v(" Отступ слева ")])]},proxy:!0}])}),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Префикс",slot:"prefix"},{name:"Постфикс",slot:"postfix"}]},scopedSlots:e._u([{key:"prefix",fn:function(){return[t("ui-pfix-settings",e._b({key:"prefix",on:{change:e.saveModel},model:{value:e.model.prefix,callback:function(t){e.$set(e.model,"prefix",t)},expression:"model.prefix"}},"ui-pfix-settings",{condStyleTypes:e.condStyleTypes},!1))]},proxy:!0},{key:"postfix",fn:function(){return[t("ui-pfix-settings",e._b({key:"postfix",on:{change:e.saveModel},model:{value:e.model.postfix,callback:function(t){e.$set(e.model,"postfix",t)},expression:"model.postfix"}},"ui-pfix-settings",{condStyleTypes:e.condStyleTypes},!1))]},proxy:!0}])})]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._v("Префикс/Постфикс")])]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.borderRadius[0],callback:function(t){e.$set(e.model.additional.borderRadius,0,e._n(t))},expression:"model.additional.borderRadius[0]"}},[e._v(" Слева сверху ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.borderRadius[1],callback:function(t){e.$set(e.model.additional.borderRadius,1,e._n(t))},expression:"model.additional.borderRadius[1]"}},[e._v(" Справа сверху ")])]},proxy:!0}])}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.borderRadius[3],callback:function(t){e.$set(e.model.additional.borderRadius,3,e._n(t))},expression:"model.additional.borderRadius[3]"}},[e._v(" Слева снизу ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.additional.borderRadius[2],callback:function(t){e.$set(e.model.additional.borderRadius,2,e._n(t))},expression:"model.additional.borderRadius[2]"}},[e._v(" Справа снизу ")])]},proxy:!0}])})]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._v("Скругление углов")])])],1)},g=[],y=n(37364),v=n(21587),O=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-input",{on:{change:e.saveModel},model:{value:e.model.value,callback:function(t){e.$set(e.model,"value",t)},expression:"model.value"}},[e._v("Значение")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.saveModel},model:{value:e.model.offset,callback:function(t){e.$set(e.model,"offset",e._n(t))},expression:"model.offset"}},[e._v("Отступ")]),t("ui-input-cp",{on:{change:e.saveModel},model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}},[e._v("Цвет")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{on:{change:e.saveModel},model:{value:e.model.fontFamily,callback:function(t){e.$set(e.model,"fontFamily",t)},expression:"model.fontFamily"}},[e._v("Шрифт")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.FontSizeFirstPxUnits},on:{change:e.saveModel},model:{value:e.modelFontSize,callback:function(t){e.modelFontSize=t},expression:"modelFontSize"}},[e._v(" Размер шрифта ")])]},proxy:!0}])}),t("ui-select",{attrs:{options:e.FontWeightOptions},on:{change:e.saveModel},model:{value:e.model.fontWeight,callback:function(t){e.$set(e.model,"fontWeight",t)},expression:"model.fontWeight"}},[e._v(" Начертание шрифта ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Значение по условию",slot:"default"}]}},[t("ui-container",[e._l(e.model.valueConditions,function(n,o){return t("ui-collapse",{key:o,scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Условие "+e._s(o+1))]},proxy:!0}],null,!0)},[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-select",{attrs:{options:e.condStyleTypes},on:{change:e.saveModel},model:{value:n.type,callback:function(t){e.$set(n,"type",t)},expression:"condition.type"}},[e._v(" Условие ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number",disabled:"ALL"===n.type},on:{change:e.saveModel},model:{value:n.comparedValue,callback:function(t){e.$set(n,"comparedValue",e._n(t))},expression:"condition.comparedValue"}},[e._v(" Сравниваемое значение ")])]},proxy:!0}],null,!0)}),t("ui-input",{on:{change:e.saveModel},model:{value:n.displayedValue,callback:function(t){e.$set(n,"displayedValue",t)},expression:"condition.displayedValue"}},[e._v(" Отображаемое значение ")]),t("ui-button",{attrs:{type:"error"},on:{click:function(t){return e.deleteValueCondition(o)}}},[e._v("Удалить")])],1)],1)}),t("ui-button",{on:{click:e.addValueCondition}},[e._v("Добавить условие")])],2)],1)]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._v("Значение по условию")])])],1)},S=[];const _={components:{...p.PanelUi},props:{value:{type:Object,default:null},condStyleTypes:{type:Array,default:()=>[]}},data:()=>({model:null}),static:{FontWeightOptions:v.FontWeightOptions,FontSizeFirstPxUnits:h.yI},computed:{modelFontSize:{get(){const{fontSize:e}=this.model;return`${e}`},set(e){const{model:t}=this;t.fontSize=e}}},created(){this.model=(0,r.A)(this.value)??(0,m.mU)(),this.saveModel()},methods:{saveModel(){this.$emit("change",this.model),this.$emit("input",this.model)},addValueCondition(){this.model.valueConditions.push({type:null,comparedValue:null,displayedValue:null}),this.saveModel()},deleteValueCondition(e){this.model.valueConditions.splice(e,1),this.saveModel()}}},k=_;var C=n(81656),A=(0,C.A)(k,O,S,!1,null,null,null);const L=A.exports,$={components:{...p.PanelUi,UiPfixSettings:L},props:{value:{type:Object,default:null},metricNamesOptions:{type:Array,default:()=>[]},condStyleTypes:{type:Array,default:()=>[]}},data:()=>({model:null}),computed:{additionalFontSize:{get(){const{additional:{fontSize:e}}=this.model;return`${e}`},set(e){const{additional:t}=this.model;t.fontSize=e}}},static:{FontWeightOptions:v.FontWeightOptions,AdditionalLabelPositionOptions:h.pi,LabelAlignOptions:h.kL,FontSizeFirstPxUnits:h.yI},created(){this.model=(0,y.A)((0,m.oP)(),(0,r.A)(this.value)),this.saveModel()},methods:{saveModel(){this.$emit("change",this.model),this.$emit("input",this.model)},addStyleCondition(){this.model.additional.colorConditions.push({comparedValue:null,type:null,color:null}),this.saveModel()},deleteColorCondition(e){this.model.additional.colorConditions.splice(e,1),this.saveModel()}}},F=$;var M=(0,C.A)(F,x,g,!1,null,null,null);const w=M.exports,V=200,P={components:{...p.PanelUi,draggable:u(),UiAdditionalLabel:w},mixins:[b.M],props:{styles:{type:Object,default:()=>({})},index:{type:Number,default:0},axis:{type:Array,default:()=>[]},seriesType:{type:String,default:null},metricNames:{type:Array,default:()=>[]},datasetNames:{type:Array,default:()=>[]},dimValueNames:{type:Array,default:()=>[]},condStyleFactory:{type:Function,default:()=>{}},condStyleTypes:{type:Array,default:()=>[]},minorDimensionNames:{type:Array,default:()=>[]},elemComputedStyles:{type:CSSStyleDeclaration,default:()=>({})},templateIndex:{type:Number,default:0}},data(){return{currentOptions:{},multiMetricMap:[],customColor:{name:"",color:"",fillColor:"",gradient:!1,firstColor:"",offSetFirstColor:"",secondColor:"",offSetSecondColor:"",colorPos:""},dragOptions:{animation:V,handle:".drag-handle"}}},computed:{lineStyleWidth:{get(){const{lineStyle:e}=this.currentOptions;return`${e.width}`},set(e){const{lineStyle:t}=this.currentOptions;t.width=e}},symbolSize:{get(){return`${this.currentOptions.symbolSize}`},set(e){this.currentOptions.symbolSize=e}},symbolBdrWidth:{get(){return`${this.currentOptions.symbolBdrWidth}`},set(e){this.currentOptions.symbolBdrWidth=e}},barMinHeight:{get(){return`${this.currentOptions.barMinHeight}`},set(e){this.currentOptions.barMinHeight=e}},barWidth:{get(){return`${this.currentOptions.barWidth}`},set(e){this.currentOptions.barWidth=e}},barMinWidth:{get(){return`${this.currentOptions.barMinWidth}`},set(e){const t=this.takeUnit2Px({size:e}),n=this.takeUnit2Px({size:this.currentOptions.barMaxWidth});t<n&&(this.currentOptions.barMinWidth=e)}},barMaxWidth:{get(){return`${this.currentOptions.barMaxWidth}`},set(e){const t=this.takeUnit2Px({size:e}),n=this.takeUnit2Px({size:this.currentOptions.barMinWidth});t>n&&(this.currentOptions.barMaxWidth=e)}},labelFontSize:{get(){const{label:{fontSize:e}}=this.currentOptions;return`${e}`},set(e){const{label:t}=this.currentOptions;t.fontSize=e}},isStackedType(){return this.currentOptions.customType.includes("stacked")},datasetMetricNamesOptions(){const e=this.metricNames.reduce((e,{dimensionIndex:t,...n})=>({...e,[t]:e[t]?[...e[t],n]:[n]}),{});return Object.fromEntries(Object.entries(e).filter(([e])=>-1!==e).map(([t,n])=>[t,[...n,...e[-1]??[]]]))},metricNamesOptions(){const{originIdx:e}=this.currentOptions;return this.datasetMetricNamesOptions[e]},hasNotComparedType(){const{customType:e}=this.currentOptions;return"plan"!==e&&"fact"!==e},categoryAxisType(){const e=this.axis.find(e=>"category"===e.type);return e?.typeAxis??""},datasetOptions(){return this.datasetNames.map((e,t)=>({value:`${t}`,label:`${e} [${t}]`}))},minorDimensionNamesOptions(){return this.minorDimensionNames.map(e=>({value:e,label:e}))}},static:{formatOptions:h.qU,separatorOptions:h.dG,gradientPosOptions:h.Ju,chartTypes:h.XD,labelPosOptions:h.Pp,fillPositions:h.zC,lineTypes:h.de,symbolTypes:h.FB,animationTypes:h.HA,LabelAlignOptions:h.kL,VerticalAlignOptions:h.Ot,SortOptions:h.zt,CommonSizeFirstPxUnits:h.s9,FontSizeFirstPxUnits:h.yI},watch:{"customColor.name":{handler(){const{currentOptions:{customColors:e}}=this,t=e.findIndex(({name:e})=>e===this.customColor.name);this.customColor={...this.customColor,color:e?.[t]?.color??"",fillColor:e?.[t]?.fillColor??"",gradient:e?.[t]?.gradient??!1,firstColor:e?.[t]?.firstColor??"",offSetFirstColor:e?.[t]?.offSetFirstColor??"0",secondColor:e?.[t]?.secondColor??"",offSetSecondColor:e?.[t]?.offSetSecondColor??"1",colorPos:e?.[t]?.colorPos??"0 0 0 1"}}},multiMetricMap:{handler(e){const{currentOptions:{multiMetricMode:t}}=this,n=t?.metricNames,o=t?.metricDatasets,i=t?.metricSorts;null!==n&&null!==o&&null!==i&&e.forEach(({metric:e,dataset:t,sort:r},l)=>{n[l]=e,o[l]=t,i[l]=r})},immediate:!0},categoryAxisType(e,t){e!==t&&this.collectSettings()},"currentOptions.colorStep":{handler(e,t){null!=t&&e!==t&&this.onColorStepChange(e,t)}},"currentOptions.multiMetricMode":{handler(){const{currentOptions:{multiMetricMode:e}}=this,t=e?.metricNames||[],n=e?.metricDatasets||[],o=e?.metricSorts||[];n.length<t.length&&(e.metricDatasets=[...n,...new Array(t.length-n.length).fill("")]),o.length<t.length&&(e.metricSorts=[...o,...new Array(t.length-o.length).fill("")]),this.multiMetricMap=t.map((e,t)=>({metric:e,dataset:n?.[t]||this.datasetOptions[this.currentOptions.originIdx].value||"",sort:o?.[t]||""}))},immediate:!0,deep:!0}},created(){this.currentOptions={...(0,m.Z)(this.templateIndex),...(0,r.A)(this.styles)},(0,l.A)(this.currentOptions,"areaStyle",null)&&(this.currentOptions.fillUnderLine&&!this.currentOptions.gradient?this.currentOptions.fillColor=(0,l.A)(this.currentOptions.areaStyle,"colorStops[0].color","#d74545"):this.currentOptions.fillUnderLine&&(this.currentOptions.firstColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[0].color"),this.currentOptions.offSetFirstColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[0].offset"),this.currentOptions.secondColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[1].color"),this.currentOptions.offSetSecondColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[1].offset")))},methods:{deleteMetric(){this.$emit("delete",this.index)},resolveColorValue(e){return(0,d.convertCssVarToComputedValue)(e,this.elemComputedStyles)},changeSeriesType(e){const{minorDimensionNames:t,currentOptions:n}=this,{customColors:o,color:i,colorStep:r}=this.currentOptions;switch(e){case"stacked":case"stacked line":if(n.type="stacked line"===e?"line":"bar",0===o.length){const e=this.resolveColorValue(i);n.customColors=f.Wp.buildColorSet(e,r,t)}break;case"line":"bar"===n.type&&(n.colorForLine=n.colorForBar),this.currentOptions.type=e,this.currentOptions.itemStyle={};break;case"bar":case"plan":case"fact":"line"===n.type&&(n.colorForBar=n.colorForLine),this.currentOptions.type="bar",this.currentOptions.itemStyle={}}this.collectSettings()},onColorStepChange(e,t){const n=this.currentOptions.customColors.map(({name:n,color:o})=>{let i=a()(o);const{l:r}=i.hsl().object();return i=i.lightness(r/t*e).string(),{name:n,color:i}});this.currentOptions.colorStep=e,this.currentOptions.customColors=n,this.changed()},onMetricNameChange(e){this.currentOptions={...this.currentOptions,marker:e,name:e},this.collectSettings()},collectSettings(){const{type:e,smooth:t,gradient:n,fillLine:o,itemStyle:i,isRoundedBarBorder:r,roundedBarBorder:l}=this.currentOptions;if("bar"===e)if(t&&this.hasNotComparedType){const e=500;i.barBorderRadius=[0,0,0,0],"x"===this.categoryAxisType?i.barBorderRadius=[e,e,0,0]:"y"===this.categoryAxisType&&(i.barBorderRadius=[0,e,e,0])}else i.barBorderRadius=[0,0,0,0];if(["bar","stacked"].includes(e)&&r){const{leftTop:e=0,rightTop:t=0,rightBottom:n=0,leftBottom:o=0}=l??{};i.barBorderRadius=[e,t,n,o]}if("line"===e&&o){this.currentOptions.areaStyle={};const{areaStyle:e}=this.currentOptions;if(n&&o){const[t,n,o,i]=this.currentOptions.colorPos.split(" ");e.color={type:"linear",x:t,y:n,x2:o,y2:i,colorStops:[{offset:this.currentOptions.offSetFirstColor,color:this.currentOptions.firstColor},{offset:this.currentOptions.offSetSecondColor,color:this.currentOptions.secondColor}]},e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.1)",e.origin=this.currentOptions.smartFill?"auto":this.currentOptions.origin}else o&&(this.currentOptions.areaStyle={origin:this.currentOptions.smartFill?"auto":this.currentOptions.origin},""!==this.currentOptions.fillColor&&(this.currentOptions.areaStyle.color={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:"0",color:this.currentOptions.fillColor},{offset:"1",color:this.currentOptions.fillColor}]}))}else this.currentOptions.areaStyle=null;this.changed()},collectAndUpdateColorsForLine(){const{minorDimensionNames:e,currentOptions:t}=this,{colorForLine:n,colorStep:o}=t,i=this.resolveColorValue(n);this.currentOptions={...t,customColors:f.Wp.buildColorSet(i,o,e)},this.collectColorForLine()},collectColorForLine(){const{colorForLine:e,fillSymbol:t,symbolColor:n,symbolBdrWidth:o,symbolBdrColor:i,lineStyle:r,itemStyle:l}=this.currentOptions;this.currentOptions={...this.currentOptions,color:e,itemStyle:{...l,color:t?n:e,borderWidth:o,borderColor:i},lineStyle:{...r,color:e}},this.changed()},buildColorFromGradient(e){if(void 0===e)return"";const{pos:t,firstColor:n,firstOffset:o,secondOffset:i,secondColor:r}=e,[l,s,a,c]=t.split(" ");return{type:"linear",x:l,y:s,x2:a,y2:c,colorStops:[{offset:o,color:n},{offset:i,color:r}]}},collectCondition(e){const{useGradient:t,gradient:n}=e;t&&(e.gradientColor=this.buildColorFromGradient(n)),this.collectSettings()},collectColorForBar(){const{minorDimensionNames:e,currentOptions:t}=this,{gradientForBar:n,barPos:o,colorForBar:i,colorStep:r}=t;if(n&&o?.length>0){const{barFirstOffSet:e,barFirstColor:n,barSecondOffSet:i,barSecondColor:r}=t,[l,s,a,c]=o.split(" ");this.currentOptions.color={type:"linear",x:l,y:s,x2:a,y2:c,colorStops:[{offset:e,color:n},{offset:i,color:r}]}}else{this.currentOptions.color=i;const t=this.resolveColorValue(i);this.currentOptions.customColors=f.Wp.buildColorSet(t,r,e)}this.changed()},collectComparedColors(e){if(null==e)return;const{gradient:t,gradPos:n,firstOffSet:o,firstColor:i,secondOffSet:r,secondColor:l}=this.currentOptions[e];if(t&&n){const[t,n,s,a]=this.currentOptions.colorPos.split(" ");this.currentOptions[e].color={type:"linear",x:t,y:n,x2:s,y2:a,colorStops:[{offset:o,color:i},{offset:r,color:l}]}}this.changed()},changeCustomColor(){const e=this.currentOptions.customColors.findIndex(({name:e})=>e===this.customColor.name);if(-1===e)return this.currentOptions.customColors.push({...this.customColor}),void this.changed();this.currentOptions.customColors.splice(e,1,{...this.customColor}),this.changed()},addCondition(){this.currentOptions.styleConditions.conditions.push(this.condStyleFactory()),this.changed()},deleteCondition(e){this.currentOptions.styleConditions.conditions.splice(e,1),this.changed()},addMetricName(){const{multiMetricMode:e}=this.currentOptions,t=e?.metricNames||[],n=e?.metricDatasets||[],o=e?.metricSorts||[];this.currentOptions.multiMetricMode={...e,metricNames:[...t,""],metricDatasets:[...n,""],metricSorts:[...o,""]},this.changed()},deleteMetricName(e){this.currentOptions.multiMetricMode.metricNames.splice(e,1),this.currentOptions.multiMetricMode.metricDatasets.splice(e,1),this.changed()},changed(){this.$emit("change-style",this.currentOptions,this.index)}}},B=P;var N=(0,C.A)(B,o,i,!1,null,null,null);const D=N.exports},61988:(e,t,n)=>{n.d(t,{A:()=>y});var o=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("Скрывает графики, величина которых равна нулю")]},proxy:!0}]),model:{value:e.currentOptions.nullValues,callback:function(t){e.$set(e.currentOptions,"nullValues",t)},expression:"currentOptions.nullValues"}},[e._v(" Убрать нулевые значения ")]),t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("При включении настройки, пустые значения не будут отображаться на диаграмме.")]},proxy:!0}]),model:{value:e.currentOptions.voidValues,callback:function(t){e.$set(e.currentOptions,"voidValues",t)},expression:"currentOptions.voidValues"}},[e._v(" Убрать пустые значения ")]),t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v("При выключении настройки, пустые значения будут обрывать диаграмму.")]},proxy:!0}]),model:{value:e.currentOptions.connectNulls,callback:function(t){e.$set(e.currentOptions,"connectNulls",t)},expression:"currentOptions.connectNulls"}},[e._v(" Соединять пропуская пустые ")]),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.isAbsoluteValue,callback:function(t){e.$set(e.currentOptions,"isAbsoluteValue",t)},expression:"currentOptions.isAbsoluteValue"}},[e._v(" Выводить абсолютное значение ")]),t("ui-switch",{on:{change:e.collectSettings},scopedSlots:e._u([{key:"hint",fn:function(){return[e._v(" Активирует округление метрики по следующему алгоритму, где х - значение метрики: "),t("br"),e._v(" а) если x>=1, то округление до целого значения; "),t("br"),e._v(" б) если 0.1<=x<1, то отображение с 1 знаком после запятой; "),t("br"),e._v(" в) если 0.01<=x<0.1, то отображение с 2 знаками после запятой; "),t("br"),e._v(" г) если x<0.01, то отображение с 3 знаками после запятой. ")]},proxy:!0}]),model:{value:e.currentOptions.isAutoRound,callback:function(t){e.$set(e.currentOptions,"isAutoRound",t)},expression:"currentOptions.isAutoRound"}},[e._v(" Авто-округление ")]),t("ui-select",{attrs:{disabled:e.currentOptions.isAutoRound,options:e.formatOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.metricFormat,callback:function(t){e.$set(e.currentOptions,"metricFormat",t)},expression:"currentOptions.metricFormat"}},[e._v(" Формат метрики ")]),t("ui-select",{attrs:{disabled:e.currentOptions.isAutoRound,options:e.separatorOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.metricSeparator,callback:function(t){e.$set(e.currentOptions,"metricSeparator",t)},expression:"currentOptions.metricSeparator"}},[e._v(" Формат разделителя разрядов ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.metricPrefix,callback:function(t){e.$set(e.currentOptions,"metricPrefix",t)},expression:"currentOptions.metricPrefix"}},[e._v("Префикс")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.metricPostfix,callback:function(t){e.$set(e.currentOptions,"metricPostfix",t)},expression:"currentOptions.metricPostfix"}},[e._v("Постфикс")])]},proxy:!0}])}),"line"===e.currentOptions.type?t("ui-input-cp",{on:{change:e.collectAndUpdateColorsForLine},model:{value:e.currentOptions.colorForLine,callback:function(t){e.$set(e.currentOptions,"colorForLine",t)},expression:"currentOptions.colorForLine"}},[e._v(" Цвет линии ")]):e._e(),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Заливка",slot:"fill"},{name:"Градиент",slot:"gradient"}]},scopedSlots:e._u([{key:"fill",fn:function(){return[t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.shouldSyncColor,callback:function(t){e.$set(e.currentOptions,"shouldSyncColor",t)},expression:"currentOptions.shouldSyncColor"}},[e._v(" Цвет дублирует цвет графика ")]),t("ui-select",{attrs:{options:e.fillPositions,disabled:e.currentOptions.smartFill},on:{change:e.collectSettings},model:{value:e.currentOptions.origin,callback:function(t){e.$set(e.currentOptions,"origin",t)},expression:"currentOptions.origin"}},[e._v(" Положение заливки ")]),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.smartFill,callback:function(t){e.$set(e.currentOptions,"smartFill",t)},expression:"currentOptions.smartFill"}},[e._v(" Умная заливка ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.fillColor,callback:function(t){e.$set(e.currentOptions,"fillColor",t)},expression:"currentOptions.fillColor"}},[e._v(" Настройка цвета ")])],1)]},proxy:!0},{key:"gradient",fn:function(){return[t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.gradient,callback:function(t){e.$set(e.currentOptions,"gradient",t)},expression:"currentOptions.gradient"}},[e._v(" Градиент заливки ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.firstColor,callback:function(t){e.$set(e.currentOptions,"firstColor",t)},expression:"currentOptions.firstColor"}},[e._v(" Первый цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.collectSettings},model:{value:e.currentOptions.offSetFirstColor,callback:function(t){e.$set(e.currentOptions,"offSetFirstColor",t)},expression:"currentOptions.offSetFirstColor"}},[e._v(" Смещение цвета ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.secondColor,callback:function(t){e.$set(e.currentOptions,"secondColor",t)},expression:"currentOptions.secondColor"}},[e._v(" Второй цвет ")]),t("ui-input",{attrs:{type:"number",min:"0",max:"1",step:"0.1"},on:{change:e.collectSettings},model:{value:e.currentOptions.offSetSecondColor,callback:function(t){e.$set(e.currentOptions,"offSetSecondColor",t)},expression:"currentOptions.offSetSecondColor"}},[e._v(" Смещение цвета ")]),t("ui-select",{attrs:{options:e.gradientPosOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.colorPos,callback:function(t){e.$set(e.currentOptions,"colorPos",t)},expression:"currentOptions.colorPos"}},[e._v(" Направление градиента ")])],1)]},proxy:!0}])})]},proxy:!0}])},[t("ui-checkbox",{attrs:{disabled:e.currentOptions.customFillLine},on:{change:e.collectSettings},model:{value:e.currentOptions.fillLine,callback:function(t){e.$set(e.currentOptions,"fillLine",t)},expression:"currentOptions.fillLine"}},[e._v(" Заливка линии ")])],1),t("ui-select",{attrs:{options:e.lineTypes},on:{change:e.collectSettings},model:{value:e.currentOptions.lineStyle.type,callback:function(t){e.$set(e.currentOptions.lineStyle,"type",t)},expression:"currentOptions.lineStyle.type"}},[e._v(" Тип линии ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.lineStyleWidth,callback:function(t){e.lineStyleWidth=t},expression:"lineStyleWidth"}},[e._v(" Толщина линии ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка точек",slot:"default"}]}},[t("ui-container",[t("ui-select",{attrs:{options:e.symbolTypes},on:{change:e.collectSettings},model:{value:e.currentOptions.symbol,callback:function(t){e.$set(e.currentOptions,"symbol",t)},expression:"currentOptions.symbol"}},[e._v(" Вид ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.symbolSize,callback:function(t){e.symbolSize=t},expression:"symbolSize"}},[e._v(" Размер ")]),t("ui-switch",{on:{change:e.collectColorForLine},model:{value:e.currentOptions.fillSymbol,callback:function(t){e.$set(e.currentOptions,"fillSymbol",t)},expression:"currentOptions.fillSymbol"}},[e._v(" Задавать цвет ")]),t("ui-input-cp",{on:{change:e.collectColorForLine},model:{value:e.currentOptions.symbolColor,callback:function(t){e.$set(e.currentOptions,"symbolColor",t)},expression:"currentOptions.symbolColor"}},[e._v(" Цвет ")]),t("ui-input-units",{attrs:{units:e.CommonSizeFirstPxUnits},on:{change:e.collectColorForLine},model:{value:e.symbolBdrWidth,callback:function(t){e.symbolBdrWidth=t},expression:"symbolBdrWidth"}},[e._v(" Размер границы ")]),t("ui-input-cp",{on:{change:e.collectColorForLine},model:{value:e.currentOptions.symbolBdrColor,callback:function(t){e.$set(e.currentOptions,"symbolBdrColor",t)},expression:"currentOptions.symbolBdrColor"}},[e._v(" Цвет границы ")]),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.shouldDotsSyncColor,callback:function(t){e.$set(e.currentOptions,"shouldDotsSyncColor",t)},expression:"currentOptions.shouldDotsSyncColor"}},[e._v(" Цвет дублирует цвет графика ")])],1)],1)]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.showSymbol,callback:function(t){e.$set(e.currentOptions,"showSymbol",t)},expression:"currentOptions.showSymbol"}},[e._v("Точки")])],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка тени",slot:"default"}]}},[t("ui-container",[t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.shouldSyncShadowColor,callback:function(t){e.$set(e.currentOptions,"shouldSyncShadowColor",t)},expression:"currentOptions.shouldSyncShadowColor"}},[e._v(" Цвет тени дублирует цвет графика ")]),t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowBlur,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowBlur",e._n(t))},expression:"currentOptions.itemStyle.shadowBlur"}},[e._v(" Размытие тени ")]),t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowColor,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowColor",t)},expression:"currentOptions.itemStyle.shadowColor"}},[e._v(" Цвет тени ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowOffsetX,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowOffsetX",e._n(t))},expression:"currentOptions.itemStyle.shadowOffsetX"}},[e._v(" Сдвиг по X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.itemStyle.shadowOffsetY,callback:function(t){e.$set(e.currentOptions.itemStyle,"shadowOffsetY",e._n(t))},expression:"currentOptions.itemStyle.shadowOffsetY"}},[e._v(" Сдвиг по Y ")])]},proxy:!0}])})],1)],1)]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._v("Настройка тени")])]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка подписей",slot:"default"}]}},[t("ui-container",[t("ui-input-cp",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.color,callback:function(t){e.$set(e.currentOptions.label,"color",t)},expression:"currentOptions.label.color"}},[e._v(" Настройка цвета ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-auto",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.fontFamily,callback:function(t){e.$set(e.currentOptions.label,"fontFamily",t)},expression:"currentOptions.label.fontFamily"}},[e._v(" Шрифт подписи ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.FontSizeFirstPxUnits},on:{change:e.collectSettings},model:{value:e.labelFontSize,callback:function(t){e.labelFontSize=t},expression:"labelFontSize"}},[e._v(" Размер шрифта ")])]},proxy:!0}])}),t("ui-select",{attrs:{options:e.labelPosOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.label.position,callback:function(t){e.$set(e.currentOptions.label,"position",t)},expression:"currentOptions.label.position"}},[e._v(" Расположение подписей ")]),t("ui-select",{attrs:{options:e.LabelAlignOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.label.align,callback:function(t){e.$set(e.currentOptions.label,"align",t)},expression:"currentOptions.label.align"}},[e._v(" Горизонтальное выравнивание ")]),t("ui-input",{attrs:{type:"number",min:"-90",max:"90"},on:{change:e.collectSettings},model:{value:e.currentOptions.label.rotate,callback:function(t){e.$set(e.currentOptions.label,"rotate",e._n(t))},expression:"currentOptions.label.rotate"}},[e._v(" Угол поворота подписей ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.label.offset[0],callback:function(t){e.$set(e.currentOptions.label.offset,0,e._n(t))},expression:"currentOptions.label.offset[0]"}},[e._v(" Отступ по оси X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.label.offset[1],callback:function(t){e.$set(e.currentOptions.label.offset,1,e._n(t))},expression:"currentOptions.label.offset[1]"}},[e._v(" Отступ по оси Y ")])]},proxy:!0}])}),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройки для подписей в линию",slot:"default"}]}},[t("ui-container",[t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.x,callback:function(t){e.$set(e.currentOptions.labelLayout,"x",e._n(t))},expression:"currentOptions.labelLayout.x"}},[e._v(" Позиция по Х ")]),t("ui-input",{attrs:{type:"number"},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.y,callback:function(t){e.$set(e.currentOptions.labelLayout,"y",e._n(t))},expression:"currentOptions.labelLayout.y"}},[e._v(" Позиция по Y ")]),t("ui-select",{attrs:{options:e.LabelAlignOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.align,callback:function(t){e.$set(e.currentOptions.labelLayout,"align",t)},expression:"currentOptions.labelLayout.align"}},[e._v(" Выравнивание по Х ")]),t("ui-select",{attrs:{options:e.VerticalAlignOptions},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.verticalAlign,callback:function(t){e.$set(e.currentOptions.labelLayout,"verticalAlign",t)},expression:"currentOptions.labelLayout.verticalAlign"}},[e._v(" Выравнивание по Y ")])],1)],1)]},proxy:!0}])},[t("ui-checkbox",{attrs:{disabled:""},on:{change:e.collectSettings},model:{value:e.currentOptions.labelLayout.use,callback:function(t){e.$set(e.currentOptions.labelLayout,"use",t)},expression:"currentOptions.labelLayout.use"}},[t("ui-hint",{scopedSlots:e._u([{key:"label",fn:function(){return[e._v("Подписи прямой линией")]},proxy:!0}])},[e._v(" Функционал в данный момент не активен и находится в процессе доработки ")])],1)],1),t("ui-switch",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.isZeroValueShown,callback:function(t){e.$set(e.currentOptions.label,"isZeroValueShown",t)},expression:"currentOptions.label.isZeroValueShown"}},[e._v(" Отображать нули ")])],1)],1)]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.collectSettings},model:{value:e.currentOptions.label.show,callback:function(t){e.$set(e.currentOptions.label,"show",t)},expression:"currentOptions.label.show"}},[e._v("Подписи")])],1)],1)},i=[],r=n(20903),l=n(77500),s=n(2520),a=n.n(s),c=n(60997),u=n(14120),p=n(91076),d=n(33612),m=n(43620),f=n(39849);const b={components:{...c.PanelUi},mixins:[d.M],props:{styles:{type:Object,default:()=>({})},axis:{type:Array,default:()=>[]},minorDimensionNames:{type:Array,default:()=>[]},elemComputedStyles:{type:CSSStyleDeclaration,default:()=>({})}},data(){return{currentOptions:{},customColor:{name:""}}},computed:{lineStyleWidth:{get(){const{lineStyle:e}=this.currentOptions;return`${e.width}`},set(e){const{lineStyle:t}=this.currentOptions;t.width=e}},symbolSize:{get(){return`${this.currentOptions.symbolSize}`},set(e){this.currentOptions.symbolSize=e}},symbolBdrWidth:{get(){return`${this.currentOptions.symbolBdrWidth}`},set(e){this.currentOptions.symbolBdrWidth=e}},labelFontSize:{get(){const{label:{fontSize:e}}=this.currentOptions;return`${e}`},set(e){const{label:t}=this.currentOptions;t.fontSize=e}},categoryAxisType(){const e=this.axis.find(e=>"category"===e.type);return e?.typeAxis??""}},static:{formatOptions:m.qU,separatorOptions:m.dG,gradientPosOptions:m.Ju,labelPosOptions:m.Pp,fillPositions:m.zC,lineTypes:m.de,symbolTypes:m.FB,LabelAlignOptions:m.kL,VerticalAlignOptions:m.Ot,SortOptions:m.zt,CommonSizeFirstPxUnits:m.s9,FontSizeFirstPxUnits:m.yI},watch:{"customColor.name":{handler(){const{currentOptions:{customColors:e}}=this,t=e.findIndex(({name:e})=>e===this.customColor.name);this.customColor={...this.customColor,color:e?.[t]?.color??"",fillColor:e?.[t]?.fillColor??"",gradient:e?.[t]?.gradient??!1,firstColor:e?.[t]?.firstColor??"",offSetFirstColor:e?.[t]?.offSetFirstColor??"0",secondColor:e?.[t]?.secondColor??"",offSetSecondColor:e?.[t]?.offSetSecondColor??"1",colorPos:e?.[t]?.colorPos??"0 0 0 1"}}},categoryAxisType(e,t){e!==t&&this.collectSettings()},"currentOptions.colorStep":{handler(e,t){null!=t&&e!==t&&this.onColorStepChange(e,t)}}},mounted(){this.collectSettings(),this.collectAndUpdateColorsForLine()},created(){this.currentOptions={...f.V6,...(0,r.A)(this.styles)},(0,l.A)(this.currentOptions,"areaStyle",null)&&(this.currentOptions.fillUnderLine&&!1===this.currentOptions.gradient?this.currentOptions.fillColor=(0,l.A)(this.currentOptions.areaStyle,"colorStops[0].color","#d74545"):this.currentOptions.fillUnderLine&&(this.currentOptions.firstColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[0].color"),this.currentOptions.offSetFirstColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[0].offset"),this.currentOptions.secondColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[1].color"),this.currentOptions.offSetSecondColor=(0,l.A)(this.currentOptions.areaStyle.color,"colorStops[1].offset")))},methods:{resolveColorValue(e){return(0,u.convertCssVarToComputedValue)(e,this.elemComputedStyles)},onColorStepChange(e,t){const n=this.currentOptions.customColors.map(({name:n,color:o})=>{let i=a()(o);const{l:r}=i.hsl().object();return i=i.lightness(r/t*e).string(),{name:n,color:i}});this.currentOptions.colorStep=e,this.currentOptions.customColors=n,this.changed()},collectSettings(){const{type:e,smooth:t,gradient:n,fillLine:o,itemStyle:i,isRoundedBarBorder:r,roundedBarBorder:l}=this.currentOptions;if(o){this.currentOptions.areaStyle={};const{areaStyle:e}=this.currentOptions;if(n&&o){const[t,n,o,i]=this.currentOptions.colorPos.split(" ");e.color={type:"linear",x:t,y:n,x2:o,y2:i,colorStops:[{offset:this.currentOptions.offSetFirstColor,color:this.currentOptions.firstColor},{offset:this.currentOptions.offSetSecondColor,color:this.currentOptions.secondColor}]},e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.1)",e.origin=this.currentOptions.smartFill?"auto":this.currentOptions.origin}else o&&(this.currentOptions.areaStyle={origin:this.currentOptions.smartFill?"auto":this.currentOptions.origin},""!==this.currentOptions.fillColor&&(e.color={type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:"0",color:this.currentOptions.fillColor},{offset:"1",color:this.currentOptions.fillColor}]}))}else this.currentOptions.areaStyle=null;this.changed()},collectAndUpdateColorsForLine(){const{minorDimensionNames:e,currentOptions:t}=this,{colorForLine:n,colorStep:o}=t,i=this.resolveColorValue(n);this.currentOptions={...t,customColors:p.Wp.buildColorSet(i,o,e)},this.collectColorForLine()},collectColorForLine(){const{colorForLine:e,fillSymbol:t,symbolColor:n,symbolBdrWidth:o,symbolBdrColor:i,lineStyle:r,itemStyle:l}=this.currentOptions;this.currentOptions={...this.currentOptions,color:e,itemStyle:{...l,color:t?n:e,borderWidth:(0,u.convertCssVarToComputedValue)(o,this.elemComputedStyles),borderColor:i},lineStyle:{...r,color:e}},this.changed()},changed(){this.$emit("change-style",this.currentOptions)}}},h=b;var x=n(81656),g=(0,x.A)(h,o,i,!1,null,null,null);const y=g.exports},74302:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var o=n(31601),i=n.n(o),r=n(76314),l=n.n(r),s=l()(i());s.push([e.id,".style_breadcrumb_RRtLR{touch-action:none;pointer-events:none;top:var(--w-breadcrumb_top);left:var(--w-breadcrumb_left);right:var(--w-breadcrumb_right);bottom:var(--w-breadcrumb_bottom);font-size:var(--w-breadcrumb_font-size);color:var(--w-breadcrumb_color);font-weight:var(--w-breadcrumb_font-weight);font-family:var(--w-breadcrumb_font-family)}.style_message_EKKwG{}.style_message__icon_iVc0W{}.style_message__icon--close_MOEyD{}.style_message--warn_oq1h1{}.style_message--error_YznPE{}.style_curtain_LIT2g{}.style_curtain__preloader_d1zP9{}.style_muted_H3SNR{}",""]),s.locals={breadcrumb:"style_breadcrumb_RRtLR pos-abs",message:"style_message_EKKwG alert d-flex",message__icon:"style_message__icon_iVc0W mdi cursor-pointer","message__icon--close":"style_message__icon--close_MOEyD mdi-close-circle","message--warn":"style_message--warn_oq1h1 alert-warn flex-center pad-7","message--error":"style_message--error_YznPE alert-error flex-h-space-between pad-4",curtain:"style_curtain_LIT2g shim d-flex flex-center h-100",curtain__preloader:"style_curtain__preloader_d1zP9 preloader pad-l1 color-primary",muted:"style_muted_H3SNR radius-1 pad-l1 bg-muted"};const a=s},74864:(e,t,n)=>{n.d(t,{A:()=>F});var o=function(){var e=this,t=e._self._c;return t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(e._s(e.axisTitle))]},proxy:!0}])},[t("ui-container",[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройки названия оси",slot:"name"}]},scopedSlots:e._u([{key:"name",fn:function(){return[t("ui-container",[t("ui-input-auto",{on:{change:e.returnAxis},model:{value:e.currentAxis.name,callback:function(t){e.$set(e.currentAxis,"name",t)},expression:"currentAxis.name"}},[t("ui-hint",{scopedSlots:e._u([{key:"label",fn:function(){return[e._v("Название оси")]},proxy:!0}])},[e._v(" Для переноса используйте - \\n ")])],1),t("ui-input-cp",{on:{change:e.returnAxis},model:{value:e.currentAxis.nameTextStyle.color,callback:function(t){e.$set(e.currentAxis.nameTextStyle,"color",t)},expression:"currentAxis.nameTextStyle.color"}},[e._v(" Цвет названия оси ")]),t("ui-input",{on:{change:e.returnAxis},model:{value:e.currentAxis.nameTextStyle.fontFamily,callback:function(t){e.$set(e.currentAxis.nameTextStyle,"fontFamily",t)},expression:"currentAxis.nameTextStyle.fontFamily"}},[e._v(" Шрифт названия оси ")]),t("ui-select",{attrs:{options:e.nameLocations},on:{change:e.returnAxis},model:{value:e.currentAxis.nameLocation,callback:function(t){e.$set(e.currentAxis,"nameLocation",t)},expression:"currentAxis.nameLocation"}},[e._v(" Положение названия оси ")]),t("ui-input",{attrs:{"col-size":"6-12",type:"number"},on:{change:e.returnAxis},model:{value:e.currentAxis.nameGap,callback:function(t){e.$set(e.currentAxis,"nameGap",t)},expression:"currentAxis.nameGap"}},[e._v(" Отступ названия оси ")]),t("ui-input",{attrs:{"col-size":"6-12",type:"number"},on:{change:e.returnAxis},model:{value:e.currentAxis.nameRotate,callback:function(t){e.$set(e.currentAxis,"nameRotate",t)},expression:"currentAxis.nameRotate"}},[e._v(" Поворот названия оси ")])],1)]},proxy:!0}])})]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.toggleAxisName},model:{value:e.currentAxis.showAxisName,callback:function(t){e.$set(e.currentAxis,"showAxisName",t)},expression:"currentAxis.showAxisName"}},[e._v(" Отображать название оси ")])],1),t("ui-input",{attrs:{value:e.displayingId,disabled:""},on:{change:e.returnAxis}},[e._v("ID")]),t("ui-select",{attrs:{options:e.axisDirTypes},on:{change:e.returnAxis},model:{value:e.currentAxis.typeAxis,callback:function(t){e.$set(e.currentAxis,"typeAxis",t)},expression:"currentAxis.typeAxis"}},[e._v(" Направление оси ")]),t("ui-select",{attrs:{options:e.axisPosOptions},on:{change:e.returnAxis},model:{value:e.currentAxis.position,callback:function(t){e.$set(e.currentAxis,"position",t)},expression:"currentAxis.position"}},[e._v(" Позиция оси ")]),t("ui-select",{attrs:{options:e.axisTypes},on:{change:e.returnAxis},model:{value:e.currentAxis.type,callback:function(t){e.$set(e.currentAxis,"type",t)},expression:"currentAxis.type"}},[e._v("Тип оси")]),"value"===e.currentAxis.type?[t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.returnAxis},model:{value:e.currentAxis.splitNumber,callback:function(t){e.$set(e.currentAxis,"splitNumber",e._n(t))},expression:"currentAxis.splitNumber"}},[e._v(" Число секторов оси ")]),t("ui-select",{attrs:{options:e.axisValueFormats},on:{change:e.returnAxis},model:{value:e.currentAxis.format,callback:function(t){e.$set(e.currentAxis,"format",t)},expression:"currentAxis.format"}},[e._v(" Формат оси ")]),"percent"===e.currentAxis.format?t("ui-switch",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.isFullPercentageScale,callback:function(t){e.$set(e.currentAxis,"isFullPercentageScale",t)},expression:"currentAxis.isFullPercentageScale"}},[e._v(" 100% масштаб оси ")]):e._e(),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Динамически",slot:"dynamic"},{name:"Вручную",slot:"manual"}]},scopedSlots:e._u([{key:"dynamic",fn:function(){return[t("ui-switch",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.isRoundedDynamicMinValue,callback:function(t){e.$set(e.currentAxis,"isRoundedDynamicMinValue",t)},expression:"currentAxis.isRoundedDynamicMinValue"}},[e._v(" Округлить стартовое значение ")]),t("ui-switch",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.isNotAboveZeroDynamicMinValue,callback:function(t){e.$set(e.currentAxis,"isNotAboveZeroDynamicMinValue",t)},expression:"currentAxis.isNotAboveZeroDynamicMinValue"}},[e._v(" Стартовое значение не > 0 ")]),t("ui-input",{staticClass:"p",attrs:{type:"number",step:"any"},on:{change:e.returnAxis},model:{value:e.currentAxis.dynamicMinValue,callback:function(t){e.$set(e.currentAxis,"dynamicMinValue",e._n(t))},expression:"currentAxis.dynamicMinValue"}},[e._v(" Стартовое значение (%) ")]),t("ui-switch",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.isRoundedDynamicMaxValue,callback:function(t){e.$set(e.currentAxis,"isRoundedDynamicMaxValue",t)},expression:"currentAxis.isRoundedDynamicMaxValue"}},[e._v(" Округлить конечное значение ")]),t("ui-input",{staticClass:"p",attrs:{type:"number",step:"1",min:"0",max:"20"},on:{change:e.returnAxis},model:{value:e.currentAxis.dynamicMaxValuePrecision,callback:function(t){e.$set(e.currentAxis,"dynamicMaxValuePrecision",e._n(t))},expression:"currentAxis.dynamicMaxValuePrecision"}},[e._v(" Количество знаков после запятой ")]),t("ui-input",{attrs:{type:"number",step:"any"},on:{change:e.returnAxis},model:{value:e.currentAxis.dynamicMaxValue,callback:function(t){e.$set(e.currentAxis,"dynamicMaxValue",e._n(t))},expression:"currentAxis.dynamicMaxValue"}},[e._v(" Конечное значение (%) ")])]},proxy:!0},{key:"manual",fn:function(){return[t("ui-switch",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.manualMinMax,callback:function(t){e.$set(e.currentAxis,"manualMinMax",t)},expression:"currentAxis.manualMinMax"}},[e._v(" Задавать значения вручную ")]),t("ui-input",{staticClass:"p",attrs:{type:"number"},on:{change:e.returnAxis},model:{value:e.currentAxis.minValue,callback:function(t){e.$set(e.currentAxis,"minValue",e._n(t))},expression:"currentAxis.minValue"}},[e._v(" Стартовое значение ")]),t("ui-switch",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.enableMax,callback:function(t){e.$set(e.currentAxis,"enableMax",t)},expression:"currentAxis.enableMax"}},[e._v(" Задать конечное значение ")]),t("ui-input",{attrs:{type:"number",min:e.currentAxis.min},on:{change:e.returnAxis},model:{value:e.currentAxis.maxValue,callback:function(t){e.$set(e.currentAxis,"maxValue",e._n(t))},expression:"currentAxis.maxValue"}},[e._v(" Конечное значение ")])]},proxy:!0}],null,!1,2937677303)})]},proxy:!0}],null,!1,3565682199)},[t("ui-checkbox",{on:{change:e.returnAxis},model:{value:e.currentAxis.calcMinMax,callback:function(t){e.$set(e.currentAxis,"calcMinMax",t)},expression:"currentAxis.calcMinMax"}},[e._v(" Задать ограничение оси ")])],1)]:[t("ui-switch",{on:{change:e.returnAxis},model:{value:e.currentAxis.isShownNullLabels,callback:function(t){e.$set(e.currentAxis,"isShownNullLabels",t)},expression:"currentAxis.isShownNullLabels"}},[e._v(" Подписи нулевых значений ")])],t("ui-switch",{on:{change:e.returnAxis},model:{value:e.currentAxis.show,callback:function(t){e.$set(e.currentAxis,"show",t)},expression:"currentAxis.show"}},[e._v("Отображать ось")]),t("ui-switch",{on:{change:e.returnAxis},model:{value:e.currentAxis.inverse,callback:function(t){e.$set(e.currentAxis,"inverse",t)},expression:"currentAxis.inverse"}},[e._v("Инвертировать ось")]),t("ui-switch",{on:{change:e.returnAxis},model:{value:e.currentAxis.hasGap,callback:function(t){e.$set(e.currentAxis,"hasGap",t)},expression:"currentAxis.hasGap"}},[e._v("Отступы от оси")]),t("ui-switch",{attrs:{disabled:!e.currentAxis.show},on:{change:e.returnAxis},model:{value:e.currentAxis.axisTick.show,callback:function(t){e.$set(e.currentAxis.axisTick,"show",t)},expression:"currentAxis.axisTick.show"}},[e._v(" Отображать насечки на линии ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка линии оси",slot:"line"}]},scopedSlots:e._u([{key:"line",fn:function(){return[t("ui-input-cp",{on:{change:e.returnAxis},model:{value:e.currentAxis.axisLine.lineStyle.color,callback:function(t){e.$set(e.currentAxis.axisLine.lineStyle,"color",t)},expression:"currentAxis.axisLine.lineStyle.color"}},[e._v(" Цвет линии ")])]},proxy:!0}])})]},proxy:!0}])},[t("ui-checkbox",{attrs:{disabled:!e.currentAxis.show},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLine.show,callback:function(t){e.$set(e.currentAxis.axisLine,"show",t)},expression:"currentAxis.axisLine.show"}},[e._v(" Отображать линию оси ")])],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Отображение",slot:"label"},{name:"Шрифт",slot:"font"}]},scopedSlots:e._u([{key:"label",fn:function(){return[t("ui-container",["category"===e.currentAxis.type?[t("ui-select",{attrs:{options:e.AxisLabelTypes},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.type,callback:function(t){e.$set(e.currentAxis.axisLabel,"type",t)},expression:"currentAxis.axisLabel.type"}},[e._v(" Тип подписи ")]),t("ui-input",{attrs:{type:"number"},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.margin,callback:function(t){e.$set(e.currentAxis.axisLabel,"margin",e._n(t))},expression:"currentAxis.axisLabel.margin"}},[e._v(" Отступ от оси ")]),t("ui-select",{attrs:{options:e.metricNames},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.imageMetric,callback:function(t){e.$set(e.currentAxis.axisLabel,"imageMetric",t)},expression:"currentAxis.axisLabel.imageMetric"}},[e._v(" Метрика изображения ")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.imageHeight,callback:function(t){e.$set(e.currentAxis.axisLabel,"imageHeight",e._n(t))},expression:"currentAxis.axisLabel.imageHeight"}},[e._v(" Высота изображения ")]),"text&label"===e.currentAxis.axisLabel.type?t("ui-additional-axis-label",{attrs:{"metrics-options":e.metricNames,"dremio-options":e.datasetNames},on:{input:e.returnAxis},model:{value:e.currentAxis.additionalAxisLabel,callback:function(t){e.$set(e.currentAxis,"additionalAxisLabel",t)},expression:"currentAxis.additionalAxisLabel"}},[e._v(" Настройка доп.подписи ")]):e._e(),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Перенос подписей",slot:"default"}]}},[[t("ui-switch",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.breakLongValues,callback:function(t){e.$set(e.currentAxis.axisLabel,"breakLongValues",t)},expression:"currentAxis.axisLabel.breakLongValues"}},[t("ui-hint",{scopedSlots:e._u([{key:"label",fn:function(){return[e._v("По словам")]},proxy:!0}],null,!1,2511061504)},[t("span",[e._v("Одно слово в строке")])])],1),t("ui-input",{staticClass:"p",attrs:{type:"number",disabled:e.currentAxis.axisLabel.breakLongValues,min:"0"},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.longValuesLength,callback:function(t){e.$set(e.currentAxis.axisLabel,"longValuesLength",e._n(t))},expression:"currentAxis.axisLabel.longValuesLength"}},[e._v(" Количество символов ")])]],2)]},proxy:!0}],null,!1,46529851)},[t("div",{staticClass:"form-label form-label-small"},[e._v("Перенос подписей")])]),t("ui-input",{attrs:{type:"number"},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.rotate,callback:function(t){e.$set(e.currentAxis.axisLabel,"rotate",e._n(t))},expression:"currentAxis.axisLabel.rotate"}},[e._v(" Поворот подписи (°) ")]),t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.interval,callback:function(t){e.$set(e.currentAxis.axisLabel,"interval",e._n(t))},expression:"currentAxis.axisLabel.interval"}},[e._v(" Интервал сегментации ")]),t("ui-switch",{on:{change:e.returnAxis},model:{value:e.currentAxis.shouldHighlightSelectedLabels,callback:function(t){e.$set(e.currentAxis,"shouldHighlightSelectedLabels",t)},expression:"currentAxis.shouldHighlightSelectedLabels"}},[e._v(" Выделение подписи при нажатии ")])]:e._e(),"value"===e.currentAxis.type?[t("ui-select",{attrs:{disabled:e.isNumberFormatActive,options:e.formatOptions},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.format,callback:function(t){e.$set(e.currentAxis.axisLabel,"format",t)},expression:"currentAxis.axisLabel.format"}},[e._v(" Формат ")]),t("ui-select",{attrs:{disabled:e.isNumberFormatActive,options:e.separatorOptions},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.separator,callback:function(t){e.$set(e.currentAxis.axisLabel,"separator",t)},expression:"currentAxis.axisLabel.separator"}},[e._v(" Формат разделителя разрядов ")]),t("div",{staticClass:"row row-collapse"},[t("ui-checkbox",{staticClass:"self-center",on:{change:e.returnAxis},model:{value:e.isNumberFormatActive,callback:function(t){e.isNumberFormatActive=t},expression:"isNumberFormatActive"}}),t("ui-number-format",{staticClass:"col col-vmid",on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.extendedFormat,callback:function(t){e.$set(e.currentAxis.axisLabel,"extendedFormat",t)},expression:"currentAxis.axisLabel.extendedFormat"}},[e._v(" Числовой формат ")])],1),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.rotate,callback:function(t){e.$set(e.currentAxis.axisLabel,"rotate",e._n(t))},expression:"currentAxis.axisLabel.rotate"}},[e._v(" Поворот подписи (°) ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number",min:"0"},on:{change:e.returnAxis},model:{value:e.currentAxis.interval,callback:function(t){e.$set(e.currentAxis,"interval",e._n(t))},expression:"currentAxis.interval"}},[e._v(" Интервал сегментации ")])]},proxy:!0}],null,!1,2585028148)})]:e._e()],2)]},proxy:!0},{key:"font",fn:function(){return[t("ui-input-cp",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.color,callback:function(t){e.$set(e.currentAxis.axisLabel,"color",t)},expression:"currentAxis.axisLabel.color"}},[e._v(" Цвет шрифта ")]),t("ui-input-auto",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.fontFamily,callback:function(t){e.$set(e.currentAxis.axisLabel,"fontFamily",t)},expression:"currentAxis.axisLabel.fontFamily"}},[e._v(" Шрифт ")]),t("ui-input-units",{attrs:{"col-size":"6-12",units:e.FontSizeFirstPxUnits},on:{change:e.returnAxis},model:{value:e.currentAxisValueFontSize,callback:function(t){e.currentAxisValueFontSize=t},expression:"currentAxisValueFontSize"}},[e._v(" Размер шрифта ")])]},proxy:!0}])})]},proxy:!0}])},[t("ui-checkbox",{on:{change:e.returnAxis},model:{value:e.currentAxis.axisLabel.show,callback:function(t){e.$set(e.currentAxis.axisLabel,"show",t)},expression:"currentAxis.axisLabel.show"}},[e._v(" Отображать подписи оси ")])],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройка линии разделения",slot:"split-line"}]},scopedSlots:e._u([{key:"split-line",fn:function(){return[t("ui-input-cp",{staticClass:"p",on:{change:e.returnAxis},model:{value:e.currentAxis.splitLine.lineStyle.color,callback:function(t){e.$set(e.currentAxis.splitLine.lineStyle,"color",t)},expression:"currentAxis.splitLine.lineStyle.color"}},[e._v(" Цвет линии ")]),t("ui-select",{attrs:{options:e.lineTypes},on:{change:e.returnAxis},model:{value:e.currentAxis.splitLine.lineStyle.type,callback:function(t){e.$set(e.currentAxis.splitLine.lineStyle,"type",t)},expression:"currentAxis.splitLine.lineStyle.type"}},[e._v(" Тип сетки ")])]},proxy:!0}])})]},proxy:!0}])},[t("ui-checkbox",{attrs:{disabled:!e.currentAxis.show},on:{change:e.returnAxis},model:{value:e.currentAxis.splitLine.show,callback:function(t){e.$set(e.currentAxis.splitLine,"show",t)},expression:"currentAxis.splitLine.show"}},[e._v(" Отображать линию разделения ")])],1),t("ui-button",{attrs:{type:"error"},on:{click:e.deleteAxis}},[e._v("Удалить")])],2)],1)},i=[],r=n(37364),l=n(20903),s=n(32781),a=n(39849),c=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Настройки подписи",slot:"label"}]},scopedSlots:e._u([{key:"label",fn:function(){return[t("ui-container",[t("ui-select",{attrs:{options:e.dremioOptions},on:{change:e.saveModel},model:{value:e.model.datasetIndex,callback:function(t){e.$set(e.model,"datasetIndex",t)},expression:"model.datasetIndex"}},[e._v(" Источник ")]),t("ui-select",{attrs:{options:e.metricsOptions},on:{change:e.saveModel},model:{value:e.model.metric,callback:function(t){e.$set(e.model,"metric",t)},expression:"model.metric"}},[e._v(" Метрика ")]),t("ui-select",{attrs:{options:e.AdditionalAxisLabelPositionOptions},on:{change:e.saveModel},model:{value:e.model.position,callback:function(t){e.$set(e.model,"position",t)},expression:"model.position"}},[e._v(" Расположение ")]),t("ui-input-cp",{on:{change:e.saveModel},model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}},[e._v("Цвет")]),t("ui-input",{on:{change:e.saveModel},model:{value:e.model.fontFamily,callback:function(t){e.$set(e.model,"fontFamily",t)},expression:"model.fontFamily"}},[e._v("Шрифт")]),t("ui-input-units",{attrs:{units:e.FontSizeFirstPxUnits},on:{change:e.saveModel},model:{value:e.modelFontSize,callback:function(t){e.modelFontSize=t},expression:"modelFontSize"}},[e._v(" Размер шрифта ")]),t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.textOffset,callback:function(t){e.$set(e.model,"textOffset",t)},expression:"model.textOffset"}},[e._v(" Отступ от основной подписи ")]),t("ui-number-format",{on:{change:e.saveModel},model:{value:e.model.format,callback:function(t){e.$set(e.model,"format",t)},expression:"model.format"}},[e._v(" Числовой формат ")]),t("ui-switch",{on:{change:e.saveModel},model:{value:e.model.enablePlusValues,callback:function(t){e.$set(e.model,"enablePlusValues",t)},expression:"model.enablePlusValues"}},[e._v('Отображать с "+"')]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Цвета по условию",slot:"default"}]}},[t("ui-container",[e._l(e.model.conditions,function(n,o){return t("ui-collapse",{key:o,scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Условие "+e._s(o+1))]},proxy:!0}],null,!0)},[t("ui-color-condition",{on:{input:e.saveModel,delete:function(t){return e.deleteColorCondition(o)}},model:{value:e.model.conditions[o],callback:function(t){e.$set(e.model.conditions,o,t)},expression:"model.conditions[index]"}})],1)}),t("ui-button",{on:{click:e.addColorCondition}},[e._v("Добавить условие")])],2)],1)]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._v("Цвета по условию")])])],1)]},proxy:!0}])})]},proxy:!0}])},[t("div",{staticClass:"form-label form-label-small"},[e._t("default")],2)])],1)},u=[],p=n(60997),d=n(21587),m=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-select",{attrs:{options:e.conditionStyleTypes},on:{change:e.saveModel},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[e._v("Условие")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},on:{change:e.saveModel},model:{value:e.model.comparedValue,callback:function(t){e.$set(e.model,"comparedValue",t)},expression:"model.comparedValue"}},[e._v(" Сравниваемое значение ")])]},proxy:!0}])}),t("ui-input-cp",{on:{change:e.saveModel},model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}},[e._v("Цвет")]),t("ui-button",{attrs:{type:"error"},on:{click:function(t){return e.$emit("delete")}}},[e._v("Удалить")])],1)},f=[],b=n(91076);const h={components:{...p.PanelUi},props:{value:{type:Object,default:()=>(0,a.pO)()}},data:e=>({model:(0,a.pO)(e.value)}),computed:{conditionStyleTypes(){return Object.entries(b.f).map(([e,t])=>({label:t.name,value:e}))}},watch:{value:{deep:!0,immediate:!0,handler(){this.model=(0,a.pO)(this.value)}}},methods:{saveModel(){const e=(0,a.pO)(this.model);this.$emit("change",e),this.$emit("input",e)}}},x=h;var g=n(81656),y=(0,g.A)(x,m,f,!1,null,null,null);const v=y.exports;var O=n(43620);const S={components:{...p.PanelUi,UiColorCondition:v},props:{value:{type:Object,default:()=>(0,a.vt)()},dremioOptions:{type:Array,default:()=>[]},metricsOptions:{type:Array,default:()=>[]}},data:e=>({model:(0,a.vt)(e.value)}),computed:{modelFontSize:{get(){const{fontSize:e}=this.model;return`${e}`},set(e){const{model:t}=this;t.fontSize=e}}},watch:{value:{deep:!0,immediate:!0,handler(){this.model=(0,a.vt)(this.value)}}},static:{FontWeightOptions:d.FontWeightOptions,AdditionalAxisLabelPositionOptions:O.kt,FontSizeFirstPxUnits:O.yI},methods:{saveModel(){const e=(0,a.vt)(this.model);this.$emit("change",e),this.$emit("input",e)},addColorCondition(){this.model.conditions.push((0,a.pO)()),this.saveModel()},deleteColorCondition(e){this.model.conditions.splice(e,1),this.saveModel()}}},_=S;var k=(0,g.A)(_,c,u,!1,null,null,null);const C=k.exports,A={components:{...s.Components.PanelUi,uiAdditionalAxisLabel:C},props:{index:Number,axis:Object,id:{type:Number,default:0},metricNames:{type:Array,default:()=>[]},datasetNames:{type:Array,default:()=>[]}},data(){return{currentAxis:{}}},computed:{currentAxisValueFontSize:{get(){const{valueFontSize:e}=this.currentAxis;return`${e}`},set(e){const{currentAxis:t}=this;t.valueFontSize=e}},displayingId(){return this.currentAxis.id+1},axisTitle(){return`${this.currentAxis.typeAxis} ${this.index}`},axisPosOptions(){return"x"===this.currentAxis.typeAxis?[{value:"top",label:"Сверху"},{value:"bottom",label:"Снизу"}]:[{value:"left",label:"Слева"},{value:"right",label:"Справа"}]},isNumberFormatActive:{get(){const{isNumberFormatActive:e}=this.currentAxis.axisLabel;return e},set(e){const{axisLabel:t}=this.currentAxis;t.isNumberFormatActive=e}}},static:{separatorOptions:O.dG,formatOptions:O.qU,lineTypes:O.de,nameLocations:O.bX,axisDirTypes:O.mF,axisTypes:O.UQ,axisValueFormats:O.FK,AxisLabelTypes:O.Rn,FontSizeFirstPxUnits:O.yI},watch:{currentAxis:{deep:!0,handler(e,t){const n=null!=t.nameTextStyle&&e.nameTextStyle.color!==t.nameTextStyle.color;n&&this.returnAxis()}}},created(){this.currentAxis=(0,r.A)((0,a.mD)(),(0,l.A)(this.axis))},methods:{toggleAxisName(){const{showAxisName:e,nameTextStyle:t}=this.currentAxis;t.color=e?"#333333":"transparent",this.returnAxis()},returnAxis(e){this.$emit("change-axis",this.currentAxis,this.index)},deleteAxis(){this.$emit("delete-axis",this.index)}}},L=A;var $=(0,g.A)(L,o,i,!1,null,null,null);const F=$.exports},77546:(e,t,n)=>{n.d(t,{a:()=>r,A:()=>u});var o=n(39849),i=n(91076);const r={data:e=>({templateIndex:0}),watch:{metrics:{handler(e){this.updateMetricNames(e)},immediate:!0},"props.metricNames":{handler(e){const{metricsStyle:t}=this.props;0===t.length&&e.forEach(e=>{const t=this.queryModels.findIndex(({metrics:t})=>t.includes(e));this.addMetric({metricName:e,originIdx:`${t}`})})},immediate:!0},dimensions:{handler(e){const{main:t,minor:n}=this.props.dimensionOptions,[o]=e;null==o||""!==t.name&&!1!==e.includes(t.name)||(t.name=o,this.propChanged("dimensionOptions")),""!==n.name&&!1===e.includes(n.name)&&(n.name="",this.propChanged("dimensionOptions"))},immediate:!0}},methods:{updateMetricNames(e){this.props.metricNames=e,this.propChanged("metricNames")},addMetric({metricName:e,originIdx:t}){const n={...(0,o.Z)(this.templateIndex),name:e,marker:e,uid:i.Wp.uid(),metricName:e,originIdx:t};this.props.metricsStyle.push(n),this.templateIndex+=1,this.propChanged("metricsStyle")}}},l=()=>Promise.all([n.e(233),n.e(1613)]).then(n.bind(n,51643)),s=()=>Promise.all([n.e(233),n.e(2785),n.e(7445),n.e(1613),n.e(1587),n.e(948)]).then(n.bind(n,74590)),a=()=>Promise.all([n.e(233),n.e(2785),n.e(7445),n.e(1613),n.e(1587),n.e(2781)]).then(n.bind(n,58758)),c=()=>Promise.all([n.e(233),n.e(2785),n.e(7445),n.e(1613),n.e(1587),n.e(2770)]).then(n.bind(n,68140)),u=[l,s,a,c]},91076:(e,t,n)=>{n.d(t,{$2:()=>L,UZ:()=>A,Wp:()=>C,aW:()=>$,f:()=>O});var o=n(20903),i=n(66401),r=n(46632),l=n(37364),s=n(2520),a=n.n(s),c=n(57469),u=n.n(c),p=n(84562),d=n(39849);const m=(e,t)=>null!=e?e.toFixed(t):e;let f=[];const b=e=>{let t=Number(e);return t<1?5:[1,2,3].includes(t)?++t:t},h=({segment:e,splitNumber:t})=>{const n=b(t),o=(e.toFixed(20).match(/\.(0+)/)?.[1]??[]).length+1,i=10**o,r=Math.max(1/i*2,Math.trunc(e/n*i)/i);return r*Math.ceil(e/r)},x=(e,t,n)=>"default"===t?`${m(100*e,n)}%`:Intl.NumberFormat(t,{style:"percent",minimumFractionDigits:n}).format(e),g=(e,t,n)=>"default"===t?e:Intl.NumberFormat(t,{minimumFractionDigits:n}).format(e),y=["default","ru-RU","de-DE","en-EN"],v={0:({value:e,sep:t})=>g(m(e,0),t,0),1:({value:e,sep:t})=>g(m(e,1),t,1),2:({value:e,sep:t})=>g(m(e,2),t,2),3:({value:e,sep:t})=>g(m(e,3),t,3),"0%":({value:e,sep:t})=>x(e,t,0),"1%":({value:e,sep:t})=>x(e,t,1),"2%":({value:e,sep:t})=>x(e,t,2),"3%":({value:e,sep:t})=>x(e,t,3)},O={ALL:{name:"всегда",handler:(e,t)=>!0},GT:{name:">",handler:(e,t)=>Number(e)>Number(t)},LT:{name:"<",handler:(e,t)=>Number(e)<Number(t)},EQ:{name:"=",handler:(e,t)=>Number(e)===Number(t)}},S=e=>{const t=Number(e),n=Math.abs(t);return 0===n?t:n<.01?t.toFixed(3):n<.1?t.toFixed(2):n<1?t.toFixed(1):Math.round(t)},_=(e,t)=>{if(null==e||null==t)return null;const{value:n="",valueConditions:o=[]}=t;return 0===o.length?n:o.reduce((t,{comparedValue:n,type:o,displayedValue:i})=>{const r=O[o]?.handler(e,n)??!1;return r?i:t},n)},k=(e,t)=>{const{addlLabelValue:n}=e;if(null==n)return e;const{additional:r=null,prefix:l=null,postfix:s=null}=t.rich,a=(e,t)=>0===t.length?e:t.reduce((e,{comparedValue:t,type:o,color:i})=>{const r=O[o]?.handler(n,t)??!1;return r?i:e},e),{backgroundColor:c,padding:u,color:p,colorConditions:d,gap:m,fontSize:f,borderRadius:b=[0,0,0,0]}=r,h=a(p,d),x=a(l?.color??p,d),g=a(s?.color??p,d),[y,v,S,k]=[...u],C=m+f+y+S,A={...null!=r&&{additional:{...(0,o.A)(r),color:h,lineHeight:C,borderRadius:b}},...null!=l&&{prefix:{...(0,o.A)(l),backgroundColor:c,color:x,lineHeight:C}},...null!=s&&{postfix:{...(0,o.A)(s),backgroundColor:c,color:g,lineHeight:C}}};return!1===(0,i.A)(_(n,l))&&(A.prefix.padding=[y,0,S,k],A.additional.padding[3]=l.offset,A.prefix.borderRadius=[b[0],0,0,b[3]],A.additional.borderRadius=[0,A.additional.borderRadius[1],A.additional.borderRadius[2],0]),!1===(0,i.A)(_(n,s))&&(A.postfix.padding=[y,v,S,0],A.additional.padding[1]=s.offset,A.postfix.borderRadius=[0,b[1],b[2],0],A.additional.borderRadius=[A.additional.borderRadius[0],0,0,A.additional.borderRadius[3]]),{...e,label:{rich:A}}},C={condStyleTypes:O,labelFormatter({data:{value:e,addlLabelValue:t}}){const{metricFormat:n,metricSeparator:o,metricPrefix:r,metricPostfix:l,label:s}=this,{isZeroValueShown:a}=s;if(0===e&&!a)return"";const{isAbsoluteValue:c,isAutoRound:u}=this;if(u)return`${S(c?Math.abs(e):e)}`;const d=y[o],m={value:c?Math.abs(e):e,sep:d},f=v[n](m),b=`${r} ${f} ${l}`;if(!1===s.isAddlLabelShown||null==t)return b;const{additional:h=null,prefix:x=null,postfix:g=null}=s.rich,O=(0,p.ZV)(t,h?.format??""),k=_(t,x),C=_(t,g),A=(0,i.A)(k)?"":`{prefix|${k}}`,L=(0,i.A)(C)?"":`{postfix|${C}}`,$=`${A}{additional|${O}}${L}`,F=`{base|${b}}`;return"top"===h.position?[$,F].join("\n"):[F,$].join("\n")},tooltipSeriesFormatter({seriesName:e,name:t,value:n}){const{metricFormat:o,metricSeparator:i,metricPrefix:r,metricPostfix:l,isAbsoluteValue:s,isAutoRound:a}=this,c=y[i],u=`${e}</br>${t}: `,p=s?Math.abs(n):n,d=a?S(p):v[o]({value:p,sep:c});return`${u} ${r} ${d} ${l}`},tooltipFormatter(e,t){const{format:n,separator:o,prefix:i="",postfix:r="",showCategory:l,showNullishValues:s,reverseMetrics:a,isAbsoluteValue:c,isNestedFromMetric:u,excludes:p}=this,[{name:d}]=t;let m=n,f=o,b=i,h=r,x=c,g=t.reduce((t,{seriesName:n,value:o})=>{if(u){const t=e.find(e=>e.name===n);if(null!=t){const{metricFormat:e,metricSeparator:n,metricPrefix:o,metricPostfix:i,isAbsoluteValue:r}=t;m=e,f=n,b=o,h=i,x=r}}const i=p.includes(n)||null==o||!s&&0===o;if(!i){const e={value:x?Math.abs(o):o,sep:y[f]},i=`${n}: `,r=v[m](e);t.push(`${i}${b}${r}${h}<br/>`)}return t},[]);return g=a?g.reverse().join(""):g.join(""),l?`${d}<br/>${g}`:g},calcAxisMin({min:e}){const{format:t,isFullPercentageScale:n,calcMinMax:o,manualMinMax:i,dynamicMinValue:r,minValue:l,isRoundedDynamicMinValue:s,isNotAboveZeroDynamicMinValue:a,splitNumber:c,interval:u}=this;if("percent"===t)return n?0:l/100;if(!1===o)return null;if(s){const t=i?l:Math.floor(e-Math.abs(e)/100*r);return null===u?t:t>0?t-t%Number(u):t-(Number(u)+t%Number(u))}const p=e-e/100*r;if(a&&p>0)return 0;const d=i?l:p;return null!==u?p>0?p-p%Number(u):p-(Number(u)+p%Number(u)):i||d>0?d:-h({segment:Math.abs(e),splitNumber:c})},calcAxisMax({max:e}){const{format:t,isFullPercentageScale:n,calcMinMax:o,manualMinMax:i,enableMax:r,dynamicMaxValue:l,maxValue:s,dynamicMaxValuePrecision:a,splitNumber:c,isRoundedDynamicMaxValue:u}=this;if("percent"===t)return n?1:r?s/100:null;if(!1===o)return null;if(!0===i)return r?s:null;if(u){const t=e+Math.abs(e)/100*l;return a>0?Number(t.toFixed(a)):Math.ceil(t)}if(e<0)return 0;const p=e+e/100*l;return p>2&&p<100?Math.ceil(p+p/b(c)):h({segment:e,splitNumber:c})},valueAxisLabelFormatter(e,t){0===t&&(f=[]);const{format:n,extendedFormat:o,isNumberFormatActive:i,separator:r}=this.axisLabel,l=y[r],s={value:e,sep:l};let a=i?(0,p.ZV)(e,o):v[n](s);return Number(a.replace(",","."))>0&&a===f[t-1]&&(a=" "),f.push(a),a},axisLabelTextFormatter({formattedValue:e,breakLongValues:t,longValuesLength:n}){return!0===t?e.replace(/\s+/g,"\n").replaceAll("/","/\n"):0!==n?e.split(/\s+/g).reduce((e,t)=>void 0===e[e.length-1]||e[e.length-1].length>=n||e[e.length-1].length+t.length+1>n?[...e,t]:[...e.slice(0,e.length-1),`${e[e.length-1]} ${t}`],[]).join("\n"):e},findAdditionalLabelConditionIndex:(e,t)=>e.findIndex(({type:e,comparedValue:n})=>""!==e&&C.condStyleTypes[e].handler(t,n)),buildAdditionalLabel({label:e,value:t,position:n,conditions:o,enablePlusValues:i,format:r}){const l=e.split("\n").length-1,s=(0,p.ZV)(t,r),a=C.findAdditionalLabelConditionIndex(o,t),c=`{${a>-1?`${d.kd}_${a}_${l}`:`${d.Kx}${l}`}|${i&&t>0?`+${s}`:s}}`;return[...["top","left"].includes(n)?[c]:[],e,...["right","bottom"].includes(n)?[c]:[]].join(["top","bottom"].includes(n)?"\n":"")},categoryAxisLabelFormatter(e,t,n){const{additionalAxisLabel:o,axisLabel:{breakLongValues:i,type:r,longValuesLength:l}}=this,s="string"===e?n:u()(n).format(e),a={text:()=>C.axisLabelTextFormatter({breakLongValues:i,longValuesLength:l,formattedValue:s}),image:()=>`{${C.memoTransliterate(s).replace(/\s/g,"_")}|}`,"text&label":()=>C.buildAdditionalLabel({...o,label:C.axisLabelTextFormatter({breakLongValues:i,longValuesLength:l,formattedValue:s}),value:t[n]}),"text&image":()=>`${a.image(s)}\n${a.text(s)}`};return a[r]()},sortArray(e,t,n){"string"===n?C.sortLikeStrings(e,t):C.sortLikeDates(e,t)},sortLikeStrings(e,t){e.sort((e,n)=>"ascending"===t?e.name.localeCompare(n.name):"descending"===t?n.name.localeCompare(e.name):0)},sortLikeDates(e,t){e.sort((e,n)=>{const o=u()(e.name),i=u()(n.name);return"ascending"===t?o.isAfter(i)?1:o.isBefore(i)?-1:0:"descending"===t?o.isBefore(i)?1:o.isAfter(i)?-1:0:0})},findCategoryAxis(e,t){const{xAxisIndex:n,yAxisIndex:o}=e,i=t.xAxis.findIndex(({id:e,type:t})=>e===n&&"category"===t),r=t.yAxis.findIndex(({id:e,type:t})=>e===o&&"category"===t);let l="";return i>=0&&t?.xAxis?.length>0?l="xAxis":r>=0&&t?.yAxis?.length>0&&(l="yAxis"),l},addAgrData(e,t,n,o,i,r,l){const{nullValues:s,voidValues:a}=r,c=l?"-":null,u=e.findIndex(e=>e.name===t);if(u>=0){const{value:t,addlLabelValue:o}=e[u];return void(e[u]={...e[u],value:t===c&&(null===n&&a||0===n&&s)?c:t+Number(n),...null!=o&&null!=i&&{addlLabelValue:o+Number(i)}})}o.push({name:t,value:t,textStyle:{fontSize:12,fontWeight:"normal"}});const p=null===n&&a||0===n&&s?c:Number(n);e.push({name:t,value:Number.isNaN(p)?0:n,itemStyle:{color:null},...null!=i&&{addlLabelValue:Number(i)}})},resolveStyleDataItems(e,t){const{customType:n,styleConditions:i,shouldSyncShadowColor:r,label:s}=e,a=(e,{type:t,value:n,dimValues:o,color:i,useGradient:s,gradientColor:a})=>{const c=O[t],u=o&&o.includes(e.name),p=c&&c.handler(e.value,n);if(u||p){const t=s?a:i;return(0,l.A)(e,{itemStyle:{color:t,shadowColor:r?t:null}})}return e};return t.map(e=>{if(null==e)return e;let t=(0,o.A)(e);return"bar"===n&&i.enable&&(t=i.conditions.reduce(a,t)),k(t,s)})},getTop(e,{number:t,dir:n}){const o=[];for(let i=0;i<t;i++)o.push({value:e[i].value,index:i});if("top"===n){o.sort((e,t)=>e.value-t.value);for(let n=t;n<e.length;n++)e[n].value>o[0].value&&(o[0]={value:e[n].value,index:n},o.sort((e,t)=>e.value-t.value))}else{o.sort((e,t)=>t.value-e.value);for(let n=t;n<e.length;n++)e[n].value<o[0].value&&(o[0]={value:e[n].value,index:n},o.sort((e,t)=>t.value-e.value))}return o},getTopMetric(e,{number:t,dir:n}){const o=t>e.length?e.length:t;return C.getTop(e,{number:o,dir:n})},createColor(e,t,n){const o=a()(e).hsl(),i={...o.object(),l:20},r={...i,l:i.l+t*n};return a()(r).hsl().string()},buildColorSet(e,t,n){return n.reduce((n,o,i)=>[...n,{name:o,color:C.createColor(e,t,i)}],[])},findDimValUsage(e,t,n){const o=C.findCategoryAxis(e,t),i="xAxis"===o?e.xAxisIndex:e.yAxisIndex;return t[o][i].data.forEach(({name:t})=>{let r=e.data.find(({name:e})=>e===t);Object.keys(n).includes(t)||(n[t]={isUseless:!0,categoryAxis:o,axisIdx:i}),n[t].isUseless=!!n[t].isUseless&&null===(r??={})?.value}),n},removeUselessDimVals(e,t){const n=e.reduce((e,n)=>C.findDimValUsage(n,t,e),{});Object.entries(n).forEach(([n,{isUseless:o,categoryAxis:i,axisIdx:r}])=>{if(o){const o=t[i][r].data.findIndex(({name:e})=>e===n);o>=0&&t[i][r].data.splice(o,1),e.forEach(e=>{const t=e.data.findIndex(({name:e})=>e===n);t>=0&&e.data.splice(t,1)})}})},sortDimValues(e="",t=""){try{return e.localeCompare(t)}catch(n){throw this.error=`В используемом датасете в измерении "${this.name}" обнаружено не консистентное значение`,new Error(n)}},smoothStackedSeries(e,t){const n=e[e.length-1];if(null==n)return e;if(n.customType.includes("line"))return e;const i=C.findCategoryAxis(n,t),r=[0,0,0,0],l=500;let s=r;return"xAxis"===i?s=[l,l,0,0]:"yAxis"===i&&(s=[0,l,l,0]),e.map((e,t,n)=>{const i=(0,o.A)(e),{smooth:l,isRoundedBarBorder:a,roundedBarBorder:c}=e,{leftTop:u=0,rightTop:p=0,rightBottom:d=0,leftBottom:m=0}=c??{};return a?{...i,itemStyle:{...i.itemStyle,barBorderRadius:[u,p,d,m]}}:l&&t===n.length-1?{...i,itemStyle:{...i.itemStyle,barBorderRadius:s}}:{...i,itemStyle:{...i.itemStyle,barBorderRadius:r}}},[])},getDimValues(e=[],t=""){return""===t||null==t?[]:[...e.reduce((e,n)=>{const[,o]=Object.entries(n??{}).find(([e])=>e===t);return null===o?e:e.add(o)},new Set)]},buildAxisAdditionalLabelRich({dimensionMetrics:e,labelSettings:t,outerLabelFontSize:n}){const o=Object.keys(e).reduce((e,t)=>{const n=t.split(" ").length;return n>e?n:e},0),i={};for(let r=0;r<o;r++){const{position:e,textOffset:o,conditions:l}=t;i[`${d.Kx}${r}`]={...(0,d.vt)(t),..."right"===e?{padding:[0,-o,-n*r,0]}:{},..."left"===e?{padding:[-n*r,0,0,-o]}:{},..."top"===e?{padding:[0,0,-o,0]}:{},..."bottom"===e?{padding:[-o,0,0,0]}:{}},l.forEach(({color:e},t)=>{i[`${d.kd}_${t}_${r}`]={...i[`${d.Kx}${r}`],color:e}})}return i},getAxis({axisOptions:e,tooltip:t,axisPointer:n,dimFormat:o,dimName:i,rows:r}){return e.reduce((e,l)=>{if("category"===l.type){const e=C.getDremioDimensionMetrics({rows:r,dimension:i,metrics:[l.additionalAxisLabel.metric]}),s=Object.keys(e).reduce((t,n)=>({...t,[n]:e[n][l.additionalAxisLabel.metric].reduce((e,t)=>null!=t?Number(e)+Number(t):e,0)}),[]),a=C.buildAxisAdditionalLabelRich({outerLabelFontSize:l.valueFontSize,dimensionMetrics:s,labelSettings:l.additionalAxisLabel});l.name=(l.showAxisName?""===l.name?i:l.name:"").replaceAll("\\n","\n"),l.silent=!1,l.triggerEvent=!0,l.axisLabel.fontSize=12,l.boundaryGap=l.hasGap,l.min=null,l.max=null,l.axisPointer.show="axis"===t.trigger||n&&n.show,l.data=[],l.axisLabel.formatter=C.categoryAxisLabelFormatter.bind(l,o,s),l.axisLabel.rich={...a}}else l.name=(l.showAxisName?l.name:"").replaceAll("\\n","\n"),l.silent=!0,l.triggerEvent=!1,l.axisLabel.fontSize=l.valueFontSize,l.axisLabel.rich={},l.axisPointer.show=!1,l.boundaryGap=l.hasGap?[0,"20%"]:[0,0],l.min=C.calcAxisMin.bind(l),l.max=C.calcAxisMax.bind(l),l.data=null,l.axisLabel.formatter=C.valueAxisLabelFormatter.bind(l),l.interval=0===l.interval?null:l.interval;return e["x"===l.typeAxis?"xAxis":"yAxis"].push(l),e},{xAxis:[],yAxis:[]})},calcSeriesMinMax(e){const t=e.flatMap(({data:e})=>e).map(({value:e})=>e);return{max:Math.max(...t),min:Math.min(...t)}},getCumulativeTotalData(e){return e.reduce((e,t,n)=>{if(0===n)return[t];const o={...t};return o.value+=e[n-1].value,[...e,o]},[])},getCumulativeDifference(e){const t=C.getCumulativeTotalData(e);return t.reduce((e,n,o)=>{if(0===o)return[{...n,value:null}];const i={...n};return i.value-=t[o-1].value,[...e,i]},[])},postprocessSeriesData(e,t,n,o){e.forEach(e=>{if(!0===e.isTopSeries)return;const i=C.findCategoryAxis(e,t),r="xAxis"===i?e.xAxisIndex:e.yAxisIndex,l=t[i][r];if(l.data.forEach(t=>{e.data.some(({name:e})=>e===t.name)||e.data.push({name:t.name,value:null})}),"none"===n)return e.data.forEach(e=>{e.sortIdx=l.data.findIndex(t=>t.name===e.name)}),void e.data.sort((e,t)=>e.sortIdx-t.sortIdx);C.sortArray(l.data,n,o),C.sortArray(e.data,n,o)})},buildCustomTooltipData(e,t,{dimensionName:n,value:o},{seriesName:i,metricName:r}){const{main:{name:l=""},minor:{name:s=""}}=t,a=""!==s?e.reduce((e,{rows:t})=>{const o=t.find(({[l]:e,[s]:t})=>e===n&&t===i);return{...e,...o}},{}):e.reduce((e,{rows:t})=>{const o=t.find(({[l]:e})=>e===n);return{...e,...o}},{});return{...a,[r]:o}},takeMetricKey(e,t,n){const{metricName:o,multiMetricMode:i}=e;if(i.enable){const{states:e}=t.find(({dimensionList:e})=>Object.keys(e).includes(n)),r=e.find(({name:e})=>e===n);return i.metricNames[r.index]??o}return o},uid(){return`f${(~~(1e8*Math.random())).toString(16)}`},transliterate(e){return e=e.replace(/\u0401/g,"YO").replace(/\u0419/g,"I").replace(/\u0426/g,"TS").replace(/\u0423/g,"U").replace(/\u041A/g,"K").replace(/\u0415/g,"E").replace(/\u041D/g,"N").replace(/\u0413/g,"G").replace(/\u0428/g,"SH").replace(/\u0429/g,"SCH").replace(/\u0417/g,"Z").replace(/\u0425/g,"H").replace(/\u042A/g,"").replace(/\u0451/g,"yo").replace(/\u0439/g,"i").replace(/\u0446/g,"ts").replace(/\u0443/g,"u").replace(/\u043A/g,"k").replace(/\u0435/g,"e").replace(/\u043D/g,"n").replace(/\u0433/g,"g").replace(/\u0448/g,"sh").replace(/\u0449/g,"sch").replace(/\u0437/g,"z").replace(/\u0445/g,"h").replace(/\u044A/g,"").replace(/\u0424/g,"F").replace(/\u042B/g,"I").replace(/\u0412/g,"V").replace(/\u0410/g,"a").replace(/\u041F/g,"P").replace(/\u0420/g,"R").replace(/\u041E/g,"O").replace(/\u041B/g,"L").replace(/\u0414/g,"D").replace(/\u0416/g,"ZH").replace(/\u042D/g,"E").replace(/\u0444/g,"f").replace(/\u044B/g,"i").replace(/\u0432/g,"v").replace(/\u0430/g,"a").replace(/\u043F/g,"p").replace(/\u0440/g,"r").replace(/\u043E/g,"o").replace(/\u043B/g,"l").replace(/\u0434/g,"d").replace(/\u0436/g,"zh").replace(/\u044D/g,"e").replace(/\u042F/g,"Ya").replace(/\u0427/g,"CH").replace(/\u0421/g,"S").replace(/\u041C/g,"M").replace(/\u0418/g,"I").replace(/\u0422/g,"T").replace(/\u042C/g,"").replace(/\u0411/g,"B").replace(/\u042E/g,"YU").replace(/\u044F/g,"ya").replace(/\u0447/g,"ch").replace(/\u0441/g,"s").replace(/\u043C/g,"m").replace(/\u0438/g,"i").replace(/\u0442/g,"t").replace(/\u044C/g,"").replace(/\u0431/g,"b").replace(/\u044E/g,"yu"),e},getDremioDimensionMetrics:({rows:e,dimension:t,metrics:n})=>e.reduce((e,o)=>({...e,[o[t]]:n.reduce((n,i)=>({...n,[i]:void 0===e[o[t]]?[o[i]]:[...e[o[t]][i],o[i]]}),{})}),{})};C.memoTransliterate=(0,r.A)(C.transliterate);const A=()=>({type:null,value:"",dimValues:[],color:"",useGradient:!1,gradientColor:"",gradient:{firstColor:"#50f547",secondColor:"#ddff45",firstOffset:"0",secondOffset:"1",pos:"0 0 0 1"}}),L=e=>{const t=(0,o.A)(e);return Array.isArray(e.axis)||(t.axis=d._s),t.axis=t.axis.map(e=>(0,l.A)((0,d.mD)(),e)),t.metricsStyle=t.metricsStyle.map(e=>(0,l.A)({styleConditions:{enable:!1,conditions:[]},multiMetricMode:{enable:!1,metricNames:[]},label:{rotate:0,offset:[0,0],align:"center"},excessLackLabel:{rotate:0,offset:[0,0],align:"center"}},e)),t.tooltip={excludes:[],...t.tooltip},t.dataZoom={...d.eW,...t.dataZoom},t},$=e=>{e.tooltip.borderColor??="transparent",e.tooltip.backgroundColor??="rgba(50,50,50,0.7)",e.tooltip.textStyle??={color:"#fff"}}},97880:(e,t,n)=>{n.d(t,{default:()=>i.a});var o=n(1707),i=n.n(o)}};