export const __webpack_id__=1743;export const __webpack_ids__=[1743];export const __webpack_modules__={73337:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(42845),o=i(38262);function r(e={}){return new s.k_({view(t){return new l(t,e)}})}class l{constructor(e,t){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(i=t.width)&&void 0!==i?i:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let i=e=>{this[t](e)};return e.dom.addEventListener(t,i),{name:t,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),i=!t.parent.inlineContent,s=this.editorView.dom,o=s.getBoundingClientRect(),r=o.width/s.offsetWidth,l=o.height/s.offsetHeight;if(i){let i=t.nodeBefore,s=t.nodeAfter;if(i||s){let t=this.editorView.nodeDOM(this.cursorPos-(i?i.nodeSize:0));if(t){let o=t.getBoundingClientRect(),r=i?o.bottom:o.top;i&&s&&(r=(r+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let d=this.width/2*l;e={left:o.left,right:o.right,top:r-d,bottom:r+d}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),i=this.width/2*r;e={left:t.left-i,right:t.left+i,top:t.top,bottom:t.bottom}}let d,n,h=this.editorView.dom.offsetParent;if(this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",i),this.element.classList.toggle("prosemirror-dropcursor-inline",!i),!h||h==document.body&&"static"==getComputedStyle(h).position)d=-pageXOffset,n=-pageYOffset;else{let e=h.getBoundingClientRect(),t=e.width/h.offsetWidth,i=e.height/h.offsetHeight;d=e.left-h.scrollLeft*t,n=e.top-h.scrollTop*i}this.element.style.left=(e.left-d)/r+"px",this.element.style.top=(e.top-n)/l+"px",this.element.style.width=(e.right-e.left)/r+"px",this.element.style.height=(e.bottom-e.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=i&&i.type.spec.disableDropCursor,r="function"==typeof s?s(this.editorView,t,e):s;if(t&&!r){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=(0,o.Um)(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}}};