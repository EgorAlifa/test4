export const __webpack_id__=4110;export const __webpack_ids__=[4110];export const __webpack_modules__={543:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var r=function(){var e=this,t=e._self._c;return t("w-panel",[t("ui-input-auto",{attrs:{prop:e.FETCH_DATA_EVENT_PROP_NAME}})],1)},i=[],a=s(21613),n=s(96578);const o={extends:a.Panel,meta:{name:"ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…",icon:"database-refresh-outline",index:50},static:{FETCH_DATA_EVENT_PROP_NAME:n.Hv}},l=o;var d=s(81656),c=(0,d.A)(l,r,i,!1,null,null,null);const u=c.exports},1361:(e,t,s)=>{var r=s(90431);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("25c29e6e",r,!0,{sourceMap:!1,shadowMode:!1})},3006:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".rotate-icon-90[data-v-6d69eb35]{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.rotate-icon-180[data-v-6d69eb35]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.rotate-icon-270[data-v-6d69eb35]{-webkit-transform:rotate(270deg);transform:rotate(270deg)}",""]);const l=o},4336:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".aside[data-v-2dc453b0]{display:grid;gap:1rem;width:25rem;height:100%;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content}.dataset-preview[data-v-2dc453b0]{width:0;min-width:100%;height:100%}.collapse-header[data-v-2dc453b0]{display:grid;grid-template-columns:1fr auto;-webkit-box-align:center;align-items:center}.collapse-header__title--error[data-v-2dc453b0]{color:var(--color-red);font-weight:500}.debug-info[data-v-2dc453b0]{min-width:60vw;min-height:40vh}.debug-info__code[data-v-2dc453b0]{max-width:60vw;max-height:40vh;overflow:auto;padding-bottom:3rem;border-radius:var(--border-radius)}.text-preline[data-v-2dc453b0]{white-space:pre-line}",""]);const l=o},4666:(e,t,s)=>{s.r(t),s.d(t,{Badge:()=>i.Ex,BorderSideOptions:()=>r.AI,BorderStyleOptions:()=>r._T,BorderWidthUnits:()=>r.k5,CanvasSizeUnits:()=>r.Ps,EventPanelAsync:()=>o,FontStyleOptions:()=>r.FG,FontWeightOptions:()=>r._P,HeaderActions:()=>i.lX,HorizontalAlignOptions:()=>r.is,PaginationPositionOptions:()=>r.S_,ScopeTitle:()=>i.BP,ShadowTypeOptions:()=>r.Vg,SizeUnits:()=>r.Bv,StylePanelAsync:()=>a,VariablePanelAsync:()=>n,VerticalAlignOptions:()=>r.Ot});var r=s(33571),i=s(71154);const a=()=>Promise.all([s.e(4110),s.e(5244),s.e(1613),s.e(9565),s.e(2770),s.e(948),s.e(997)]).then(s.bind(s,6776)),n=()=>Promise.all([s.e(4110),s.e(5244),s.e(1613),s.e(9565),s.e(3423)]).then(s.bind(s,35260)),o=()=>Promise.all([s.e(4110),s.e(5244),s.e(1613)]).then(s.bind(s,71369))},4845:(e,t,s)=>{var r=s(47508);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("825299ca",r,!0,{sourceMap:!1,shadowMode:!1})},5900:(e,t,s)=>{s.r(t),s.d(t,{Http:()=>c,HttpAuth:()=>p,HttpAuthTransportSymbol:()=>v,HttpBase:()=>d,HttpTransportError:()=>o,HttpTransportErrorCode:()=>n,HttpTransportRequestCancel:()=>a,HttpTransportSymbol:()=>y,TransportFactoryError:()=>l,TransportFactoryMap:()=>b,createTransport:()=>E});var r=s(94335),i=s(73663);class a extends i.RequestCancel{constructor(){super("Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±Ñ‹Ð»Ð° Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð°"),this.name="HttpTransportRequestCancel"}}const n=Object.freeze({INTERNAL:0,FORBIDDEN:403,NOT_FOUND:404,UNAUTHORIZED:401,INTERNAL_SERVER_ERROR:500,BAD_REQUEST:400,CONFLICT:409});class o extends i.InfrastructureError{static Code=n;constructor(e,{code:t,data:s,reason:r}={}){super(e,{code:t,data:s,reason:r}),this.name="HttpTransportError"}}class l extends i.InfrastructureError{constructor(e){super(e),this.name="TransportFactoryError"}}class d{_axios;_requestCancels=new Set;_nextRequestCancel=null;_options={};static isTransportError(e){return r.A.isAxiosError(e)}static isCancel(e){return r.A.isCancel(e)}static processTransportError(e){if(e instanceof o)return e;if(this.isCancel(e))return new a;const{message:t}=e;if(!1===this.isTransportError(e))return new o(t,{code:o.Code.INTERNAL,reason:e});const{response:s,request:r,config:{url:i,data:n,method:l}}=e,d={url:i,data:n,method:l};if(null!=s){const{data:e,status:r}=s,i="string"===typeof e?e:t;return new o(i,{data:e,code:r,reason:d})}return new o(t,null!=r?{code:o.Code.INTERNAL,reason:d}:{code:o.Code.INTERNAL,reason:e})}constructor(e={},t={}){this._options={...this._options,...t},this._axios=r.A.create(e)}getNextRequestCancel(){const{cancel:e,token:t}=this._createRequestCancel();return this._nextRequestCancel={cancel:e,token:t},e}async request({url:e,method:t="get",params:s={},options:r={},responseHandler:i=null}){const{token:a,cancel:n}=this._nextRequestCancel??this._createRequestCancel();this._nextRequestCancel=null;const o=this._registerRequestCancel(n),l=this._buildRequestConfig({url:e,method:t,params:s,options:r,cancelToken:a});try{const e=await this._axios.request(l);return this._processSuccessResponse(e,{responseHandler:i})}catch(d){throw this._processTransportError(d)}finally{o()}}dispose(){this.cancelAllRequests()}cancelAllRequests(){this._requestCancels.forEach(e=>e()),this._requestCancels.clear()}get baseURL(){return this._axios.defaults.baseURL}set baseURL(e){this._axios.defaults.baseURL=e}getBaseUrl(){return this.baseURL}_buildRequestConfig(e={}){const{url:t,method:s="get",params:r={},options:i={},cancelToken:a=null}=e,n={method:s,url:t,cancelToken:a,...i};return n["get"===n.method.toLocaleLowerCase()?"params":"data"]=r,"object"!==typeof n.paramsSerializer&&(n.paramsSerializer="function"===typeof n.paramsSerializer?{serialize:n.paramsSerializer}:{indexes:null}),n}_processSuccessResponse(e,{responseHandler:t}){if("object"===typeof e.data&&null!=e.data.error){const{error:t}=e.data,s="string"===typeof t?t:t.message??"Transport response error";throw new o(s,{code:1,data:t,reason:e.request})}return t?t(e):e}_createRequestCancel(){const{token:e,cancel:t}=r.A.CancelToken.source();return{cancel:t,token:e}}_registerRequestCancel(e){return this._requestCancels.add(e),()=>this._requestCancels.delete(e)}_processTransportError(e){return this.constructor.processTransportError(e)}}class c extends d{_globalError=!0;constructor(e={},t={}){super(e,t),null!=t.globalError&&(this._globalError=t.globalError)}request({url:e,method:t,params:s,options:r,responseHandler:a}){return super.request({url:e,method:t,params:s,options:r,responseHandler:a}).catch(e=>{const t=!0===r?.globalError||null==r?.globalError&&!0===this._globalError;throw t&&(0,i.throwGlobal)(e,{context:this.request}),e})}}var u=s(29565);class p extends c{_authManager=u.AuthManager.instance;setAuthManager(e){this._authManager=e}constructor(e={},t={}){super(e,t),this._axios.interceptors.request.use(e=>{const{adapter:t}=this._authManager;return null==t?e:t.init().then(()=>t.updateToken()).then(()=>{const s={...e};return s.headers.Authorization=`Bearer ${t.token}`,s}).catch(t=>(this._authManager.authError(t),e))})}}var h=s(89968),m=s(54071);const f=(e,t)=>new c(e,t),g=(e,t)=>new p(e,t),y=Symbol("HttpTransport"),v=Symbol("HttpAuthTransport"),b=new Map;b.set(y,f),b.set(v,g);const E=(e,t={},s={})=>{const r=b.get(e);if(null==r)throw new l(`Transport factory for specified identifier '${e.toString()}' does not exist.`);const i=h.ServiceProvider.get(m.HttpTransportCacheServiceSymbol),a=r(t,s);return i.isEnabled?i.wrap(a):a}},6345:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".grid[data-v-23688ed6]{display:grid;gap:1rem}.grid-item[data-v-23688ed6]{display:grid;grid-template-columns:auto 1fr auto;gap:.5rem}.grid-item--content[data-v-23688ed6]{display:grid;gap:.5rem;grid-template-columns:1fr auto}",""]);const l=o},6381:(e,t,s)=>{s.d(t,{EG:()=>a,FH:()=>i,ck:()=>n});var r=s(81644);const i={ERROR_OCCURED:()=>"ðŸ”´ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°",DATA_PROVIDER_CHANGED:({name:e})=>`ÐŸÑ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½: ${e}`,IMPORTED_SUCCESSFULLY:()=>"Ð£ÑÐ¿ÐµÑˆÐ½Ð¾ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾",COPIED_TO_CLIPBOARD:()=>"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€"},a={[r.QueryFilterOperator.EQ]:e=>[e],[r.QueryFilterOperator.EQ_NOT]:e=>[e],[r.QueryFilterOperator.IS]:e=>[e],[r.QueryFilterOperator.IS_NOT]:e=>[e],[r.QueryFilterOperator.LESS]:e=>[e],[r.QueryFilterOperator.LESS_EQ]:e=>[e],[r.QueryFilterOperator.GREATER]:e=>[e],[r.QueryFilterOperator.GREATER_EQ]:e=>[e],[r.QueryFilterOperator.IN]:e=>[e,e,e],[r.QueryFilterOperator.IN_NOT]:e=>[e,e,e],[r.QueryFilterOperator.BETWEEN]:e=>[e,e],[r.QueryFilterOperator.BETWEEN_NOT]:e=>[e,e],[r.QueryFilterOperator.LIKE]:e=>[e]},n={METRIC:"metric",DIMENSION:"dimension",DRILLDOWN:"drilldown",FIELD:"field",VARIABLE:"variable",FILTER:"filter",SORT:"sort"};n.METRIC,n.DIMENSION,n.DRILLDOWN},6556:(e,t,s)=>{var r=s(87725);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("0cc7283b",r,!0,{sourceMap:!1,shadowMode:!1})},6776:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_e});var r=function(){var e=this,t=e._self._c;return t("w-panel",[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-select",{attrs:{prop:"position",options:e.descriptor.props.position.options}},[e._v(" ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-select",{attrs:{prop:"display",options:e.descriptor.props.display.options}},[e._v(" ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ ")])]},proxy:!0}])}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-units",{attrs:{units:e.widthUnits,options:e.descriptor.props.width.options},on:{change:function(t){return e.propChanged(["width","widthUnit"])}},model:{value:e.widthWithUnit,callback:function(t){e.widthWithUnit=t},expression:"widthWithUnit"}},[e._v(" Ð¨Ð¸Ñ€Ð¸Ð½Ð° ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.heightUnits,options:e.descriptor.props.height.options},on:{change:function(t){return e.propChanged(["height","heightUnit"])}},model:{value:e.heightWithUnit,callback:function(t){e.heightWithUnit=t},expression:"heightWithUnit"}},[e._v(" Ð’Ñ‹ÑÐ¾Ñ‚Ð° ")])]},proxy:!0}])}),t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Ð’Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿")]},proxy:!0}])},[t("div",{staticClass:"grid-3-3 flex-center"},[e._l(e.directions,function(s){return t("ui-select",{key:`margin-${s.id}`,style:{"grid-area":s.id},attrs:{options:e.marginOptions},on:{change:function(t){e.propChanged(`margin${s.id.toUpperCase()}`)}},nativeOn:{focusin:function(t){e.marginDirectionId=s.id},focusout:function(t){e.marginDirectionId=null}},model:{value:e.props[`margin${s.id.toUpperCase()}`],callback:function(t){e.$set(e.props,`margin${s.id.toUpperCase()}`,t)},expression:"props[`margin${dir.id.toUpperCase()}`]"}})}),t("div",{staticClass:"box",staticStyle:{"grid-area":"c"},attrs:{"data-dir":e.marginDirectionId}})],2)]),t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ð¹ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿")]},proxy:!0}])},[t("div",{staticClass:"grid-3-3 flex-center"},[e._l(e.directions,function(s){return t("ui-select",{key:`padding-${s.id}`,style:{"grid-area":s.id},attrs:{options:e.paddingOptions},on:{change:function(t){e.propChanged(`padding${s.id.toUpperCase()}`)}},nativeOn:{focusin:function(t){e.paddingDirectionId=s.id},focusout:function(t){e.paddingDirectionId=null}},model:{value:e.props[`padding${s.id.toUpperCase()}`],callback:function(t){e.$set(e.props,`padding${s.id.toUpperCase()}`,t)},expression:"props[`padding${dir.id.toUpperCase()}`]"}})}),t("div",{staticClass:"box",staticStyle:{"grid-area":"c"},attrs:{"data-dir":e.paddingDirectionId}})],2)]),t("w-additional-style-settings",{attrs:{cssStyle:this.props.cssStyle},on:{"prop-was-changed":e.onStylePropChanged}}),t("ui-input-tags",e._b({attrs:{prop:"cssClass"},scopedSlots:e._u([{key:"tag",fn:function({tag:s,remove:r}){return[t("ui-badge",e._b({staticClass:"mar-right-1 mar-bot-1",on:{remove:function(e){return r(s)}}},"ui-badge",{size:"xsmall",theme:"primary",removable:!0},!1),[e._v(" "+e._s(s)+" ")])]}}])},"ui-input-tags",{delimiter:" "},!1),[e._v(" Css class ")]),t("ui-input-tags",e._b({ref:"cssstyle",on:{change:e.changeStyle},scopedSlots:e._u([{key:"tag",fn:function({tag:s,remove:r,setNewTag:i}){return[t("ui-badge",e._b({staticClass:"mar-right-1 mar-bot-1",on:{remove:function(e){return r(s)}}},"ui-badge",{size:"xsmall",theme:"primary",removable:!0},!1),[t("span",{staticClass:"cursor-pointer nobr pad-right-2",staticStyle:{"align-self":"flex-start"},on:{click:function(e){return i(s)}}},[e._v(" "+e._s(e.getStyleDefObj(s).key)+": ")]),e._v(" "+e._s(e.getStyleDefObj(s).value)+" ")])]}}]),model:{value:e.cssStyles,callback:function(t){e.cssStyles=t},expression:"cssStyles"}},"ui-input-tags",{delimiter:";"},!1),[e._v(" Css style ")]),t("ui-select",{attrs:{prop:"slot",options:e.slotNames}},[e._v("Ð¡Ð»Ð¾Ñ‚ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ")])],1)],1)},i=[],a=s(2770),n=s(21613),o=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Ð¤Ð¾Ð½")]},proxy:!0}])},[e.backgrounds.length>0?t("draggable",e._b({on:{change:e.moveBackgrounds},model:{value:e.backgrounds,callback:function(t){e.backgrounds=t},expression:"backgrounds"}},"draggable",e.dragOptions,!1),e._l(e.backgrounds,function(s,r){return t("ui-has-panel",{key:r,staticClass:"p",scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ„Ð¾Ð½Ð°",slot:"background-settings"}]},scopedSlots:e._u([{key:"background-settings",fn:function(){return[t("ui-container",[t("ui-select",{attrs:{options:e.BackgroundTypeOptions},model:{value:s.type,callback:function(t){e.$set(s,"type",t)},expression:"background.type"}},[e._v(" Ð¢Ð¸Ð¿ ")]),s.type===e.BackgroundType.COLOR?t("ui-input-cp",{on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.color,callback:function(t){e.$set(s,"color",t)},expression:"background.color"}},[e._v(" Ð¦Ð²ÐµÑ‚ ")]):e._e(),s.type===e.BackgroundType.GRADIENT?[t("ui-select",{attrs:{options:e.GradientTypeOptions},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.gradientType,callback:function(t){e.$set(s,"gradientType",t)},expression:"background.gradientType"}},[e._v(" Ð¢Ð¸Ð¿ Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð° ")]),t("ui-input-cp",{on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.gradientFirstColor,callback:function(t){e.$set(s,"gradientFirstColor",t)},expression:"background.gradientFirstColor"}},[e._v(" ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚ ")]),t("ui-input",{attrs:{type:"number"},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.gradientFirstColorOffset,callback:function(t){e.$set(s,"gradientFirstColorOffset",t)},expression:"background.gradientFirstColorOffset"}},[e._v(" Ð¡Ð¼ÐµÑ‰ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ñ†Ð²ÐµÑ‚Ð° ")]),t("ui-input-cp",{on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.gradientSecondColor,callback:function(t){e.$set(s,"gradientSecondColor",t)},expression:"background.gradientSecondColor"}},[e._v(" Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ Ñ†Ð²ÐµÑ‚ ")]),t("ui-input",{attrs:{type:"number"},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.gradientSecondColorOffset,callback:function(t){e.$set(s,"gradientSecondColorOffset",t)},expression:"background.gradientSecondColorOffset"}},[e._v(" Ð¡Ð¼ÐµÑ‰ÐµÐ½Ð¸Ðµ Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ñ†Ð²ÐµÑ‚Ð° ")]),t("ui-input",{attrs:{type:"number"},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.gradientDirection,callback:function(t){e.$set(s,"gradientDirection",t)},expression:"background.gradientDirection"}},[e._v(" ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ")]),s.gradientType===e.GradientType.RADIAL?[t("ui-input",{attrs:{type:"number"},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.centerX,callback:function(t){e.$set(s,"centerX",t)},expression:"background.centerX"}},[e._v(" Ð¦ÐµÐ½Ñ‚Ñ€ Ð¿Ð¾ X ")]),t("ui-input",{attrs:{type:"number"},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.centerY,callback:function(t){e.$set(s,"centerY",t)},expression:"background.centerY"}},[e._v(" Ð¦ÐµÐ½Ñ‚Ñ€ Ð¿Ð¾ Y ")]),t("ui-input",{attrs:{type:"number"},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.radius,callback:function(t){e.$set(s,"radius",t)},expression:"background.radius"}},[e._v(" Ð Ð°Ð´Ð¸ÑƒÑ ")])]:e._e()]:e._e(),s.type===e.BackgroundType.FILE?[t("ui-input-browse",{on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.file,callback:function(t){e.$set(s,"file",t)},expression:"background.file"}},[e._v(" ÐŸÐ¾Ð»Ðµ Ð´Ð»Ñ Ð²Ð²Ð¾Ð´Ð° (url, file) ")]),t("ui-select",{attrs:{options:e.BackgroundRepeatOptions},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.repeat,callback:function(t){e.$set(s,"repeat",t)},expression:"background.repeat"}},[e._v(" ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€ ")]),t("ui-input-units",{attrs:{units:e.SizeUnits},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.size,callback:function(t){e.$set(s,"size",t)},expression:"background.size"}},[e._v(" Ð Ð°Ð·Ð¼ÐµÑ€ ")]),t("ui-select",{attrs:{options:e.BackgroundPositionOptions},on:{change:function(t){return e.backgroundHandler(r,s)}},model:{value:s.position,callback:function(t){e.$set(s,"position",t)},expression:"background.position"}},[e._v(" ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ ")])]:e._e(),t("ui-button",{attrs:{type:"error"},on:{click:function(t){return e.deleteBackground(r)}}},[e._v("Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ„Ð¾Ð½")])],2)]},proxy:!0}],null,!0)})]},proxy:!0}],null,!0)},[t("i",{staticClass:"mdi mdi-drag cursor-move"}),t("ui-label",{staticClass:"inline-block",attrs:{"label-size":"small"}},[e._v("Ð¤Ð¾Ð½ "+e._s(r+1))])],1)}),1):e._e(),t("ui-button",{on:{click:e.addBackground}},[e._v("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ„Ð¾Ð½")])],1),t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Ð¡Ñ‚Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ")]},proxy:!0}])},[t("ui-container",[t("ui-input",{attrs:{type:"number",step:"0.1",min:"0",max:"1"},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.OPACITY)}},model:{value:e.primitiveStyle.opacity,callback:function(t){e.$set(e.primitiveStyle,"opacity",t)},expression:"primitiveStyle.opacity"}},[e._v(" ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ ")]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Ð“Ñ€Ð°Ð½Ð¸Ñ†Ð°",slot:"group1"},{name:"Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ",slot:"group2"}]},scopedSlots:e._u([{key:"group1",fn:function(){return[t("ui-container",[t("div",{staticClass:"border-wrapper"},[t("div",{staticClass:"border-sides"},e._l(e.BorderSides,function(s){return t("img",{key:s.key,staticClass:"border-sides__img",style:{gridArea:s.id},attrs:{src:e.getImageUrl(e.borderSideModel===s.key?s.imgChecked:s.img),alt:""},on:{click:function(t){return e.setBorderSideModel(s.key)}}})}),0),e._l(e.BorderSides,function(s){return t("div",{key:s.key},[e.borderSideModel===s.key?[t("ui-input-units",{attrs:{units:e.BorderWidthUnits},on:{change:function(t){return e.borderHandler(s.key)}},model:{value:e.border[s.width],callback:function(t){e.$set(e.border,s.width,t)},expression:"border[borderSide.width]"}},[e._v(" Ð¢Ð¾Ð»Ñ‰Ð¸Ð½Ð° ")]),t("ui-select",{attrs:{options:e.BorderStyleOptions},on:{change:function(t){return e.borderHandler(s.key)}},model:{value:e.border[s.type],callback:function(t){e.$set(e.border,s.type,t)},expression:"border[borderSide.type]"}},[e._v(" Ð¡Ñ‚Ð¸Ð»ÑŒ ")]),t("ui-input-cp",{on:{change:function(t){return e.borderHandler(s.key)}},model:{value:e.border[s.color],callback:function(t){e.$set(e.border,s.color,t)},expression:"border[borderSide.color]"}},[e._v(" Ð¦Ð²ÐµÑ‚ ")])]:e._e()],2)})],2)])]},proxy:!0},{key:"group2",fn:function(){return[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("div",{staticClass:"border-radiuses-options"},e._l(e.BorderRadiusSidesOptions,function(s){return t("img",{key:s.key,staticClass:"border-radiuses-options__img",attrs:{src:e.getImageUrl(e.borderRadiusModel===s.key?s.imgChecked:s.img),alt:""},on:{click:function(t){return e.setBorderRadiusModel(s.key)}}})}),0)]},proxy:!0},{key:"right",fn:function(){return[e.borderRadiusModel===e.BorderRadiusSidesOption.FULL?t("ui-input-units",{attrs:{units:e.SizeUnits},on:{change:function(t){return e.borderRadiusHandler(e.RADIUS_NAME)}},model:{value:e.border.radius,callback:function(t){e.$set(e.border,"radius",t)},expression:"border.radius"}},[e._v(" Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ ")]):e._e()]},proxy:!0}])}),e.borderRadiusModel===e.BorderRadiusSidesOption.SEPARATELY?t("div",{staticClass:"border-radiuses-wrapper"},e._l(e.BorderRadiusSides,function(s){return t("div",{key:s.key,staticClass:"border-radiuses"},[t("img",{staticClass:"border-radiuses__img",attrs:{src:e.getImageUrl(s.img),alt:""}}),t("ui-input-units",{attrs:{units:e.SizeUnits},on:{change:function(t){return e.borderRadiusHandler(s.key)}},model:{value:e.border[s.key],callback:function(t){e.$set(e.border,s.key,t)},expression:"border[borderRadius.key]"}},[e._v(" Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ ")])],1)}),0):e._e()],1)]},proxy:!0}])})]},proxy:!0}])},[t("label",{staticClass:"form-label form-label-small"},[e._v("Ð“Ñ€Ð°Ð½Ð¸Ñ†Ð°")])]),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"Ð¢ÐµÐ½ÑŒ",slot:"group1"}]},scopedSlots:e._u([{key:"group1",fn:function(){return[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-units",{attrs:{units:e.BorderWidthUnits},on:{change:e.boxShadowHandler},model:{value:e.boxShadow.offsetX,callback:function(t){e.$set(e.boxShadow,"offsetX",t)},expression:"boxShadow.offsetX"}},[e._v(" Ð¡Ð´Ð²Ð¸Ð³ Ð¿Ð¾ X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.BorderWidthUnits},on:{change:e.boxShadowHandler},model:{value:e.boxShadow.offsetY,callback:function(t){e.$set(e.boxShadow,"offsetY",t)},expression:"boxShadow.offsetY"}},[e._v(" Ð¡Ð´Ð²Ð¸Ð³ Ð¿Ð¾ Y ")])]},proxy:!0}])}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-units",{attrs:{units:e.BorderWidthUnits},on:{change:e.boxShadowHandler},model:{value:e.boxShadow.blurRadius,callback:function(t){e.$set(e.boxShadow,"blurRadius",t)},expression:"boxShadow.blurRadius"}},[e._v(" Ð Ð°Ð·Ð¼Ñ‹Ñ‚Ð¸Ðµ ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.BorderWidthUnits},on:{change:e.boxShadowHandler},model:{value:e.boxShadow.spreadRadius,callback:function(t){e.$set(e.boxShadow,"spreadRadius",t)},expression:"boxShadow.spreadRadius"}},[e._v(" Ð Ð°ÑÑ‚ÑÐ¶ÐµÐ½Ð¸Ðµ ")])]},proxy:!0}])}),t("ui-input-cp",{on:{change:e.boxShadowHandler},model:{value:e.boxShadow.color,callback:function(t){e.$set(e.boxShadow,"color",t)},expression:"boxShadow.color"}},[e._v("Ð¦Ð²ÐµÑ‚")]),t("ui-select",{attrs:{options:e.BoxShadowOptions},on:{change:e.boxShadowHandler},model:{value:e.boxShadow.type,callback:function(t){e.$set(e.boxShadow,"type",t)},expression:"boxShadow.type"}},[e._v(" Ð¢Ð¸Ð¿ ")])],1)]},proxy:!0}])})]},proxy:!0}])},[t("label",{staticClass:"form-label form-label-small"},[e._v("Ð¢ÐµÐ½ÑŒ")])]),t("ui-select",{attrs:{options:e.OverflowOptions},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.OVERFLOW_X)}},model:{value:e.primitiveStyle[e.CssStyleName.OVERFLOW_X],callback:function(t){e.$set(e.primitiveStyle,e.CssStyleName.OVERFLOW_X,t)},expression:"primitiveStyle[CssStyleName.OVERFLOW_X]"}},[e._v(" Overflow X ")]),t("ui-select",{attrs:{options:e.OverflowOptions},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.OVERFLOW_Y)}},model:{value:e.primitiveStyle[e.CssStyleName.OVERFLOW_Y],callback:function(t){e.$set(e.primitiveStyle,e.CssStyleName.OVERFLOW_Y,t)},expression:"primitiveStyle[CssStyleName.OVERFLOW_Y]"}},[e._v(" Overflow Y ")]),t("ui-select",{attrs:{options:e.CursorOptions},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.CURSOR)}},model:{value:e.primitiveStyle.cursor,callback:function(t){e.$set(e.primitiveStyle,"cursor",t)},expression:"primitiveStyle.cursor"}},[e._v(" ÐšÑƒÑ€ÑÐ¾Ñ€ ")]),t("ui-input",{attrs:{type:"number"},on:{change:e.transformAngleHandler},model:{value:e.transformAngle,callback:function(t){e.transformAngle=t},expression:"transformAngle"}},[e._v("ÐŸÐ¾Ð²Ð¾Ñ€Ð¾Ñ‚")])],1)],1),t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Ð Ð°Ð·Ð¼ÐµÑ€Ð½Ð¾ÑÑ‚ÑŒ")]},proxy:!0}])},[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-units",{attrs:{units:e.SizeUnits,options:e.WidthHeightTypeOptions},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.MIN_WIDTH)}},model:{value:e.primitiveStyle[e.CssStyleName.MIN_WIDTH],callback:function(t){e.$set(e.primitiveStyle,e.CssStyleName.MIN_WIDTH,t)},expression:"primitiveStyle[CssStyleName.MIN_WIDTH]"}},[e._v(" ÐœÐ¸Ð½. ÑˆÐ¸Ñ€Ð¸Ð½Ð° ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.SizeUnits,options:e.WidthHeightTypeOptions},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.MAX_WIDTH)}},model:{value:e.primitiveStyle[e.CssStyleName.MAX_WIDTH],callback:function(t){e.$set(e.primitiveStyle,e.CssStyleName.MAX_WIDTH,t)},expression:"primitiveStyle[CssStyleName.MAX_WIDTH]"}},[e._v(" ÐœÐ°ÐºÑ. ÑˆÐ¸Ñ€Ð¸Ð½Ð° ")])]},proxy:!0}])}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-units",{attrs:{units:e.SizeUnits,options:e.WidthHeightTypeOptions},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.MIN_HEIGHT)}},model:{value:e.primitiveStyle[e.CssStyleName.MIN_HEIGHT],callback:function(t){e.$set(e.primitiveStyle,e.CssStyleName.MIN_HEIGHT,t)},expression:"primitiveStyle[CssStyleName.MIN_HEIGHT]"}},[e._v(" ÐœÐ¸Ð½. Ð²Ñ‹ÑÐ¾Ñ‚Ð° ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.SizeUnits,options:e.WidthHeightTypeOptions},on:{change:function(t){return e.onStylePropChanged(e.CssStyleName.MAX_HEIGHT)}},model:{value:e.primitiveStyle[e.CssStyleName.MAX_HEIGHT],callback:function(t){e.$set(e.primitiveStyle,e.CssStyleName.MAX_HEIGHT,t)},expression:"primitiveStyle[CssStyleName.MAX_HEIGHT]"}},[e._v(" ÐœÐ°ÐºÑ. Ð²Ñ‹ÑÐ¾Ñ‚Ð° ")])]},proxy:!0}])})],1)],1)],1)},l=[],d=s(37364),c=s(10948),u=s.n(c),p=s(60997),h=s(29565),m=s(33571);const f=Object.freeze({COLOR:1,GRADIENT:2,FILE:3}),g=Object.freeze([{label:"-",value:null},{label:"Ð¦Ð²ÐµÑ‚",value:f.COLOR},{label:"Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚",value:f.GRADIENT},{label:"Ð¤Ð°Ð¹Ð»",value:f.FILE}]),y=Object.freeze({LINEAR:1,RADIAL:2}),v=Object.freeze([{label:"Ð›Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ð¹",value:y.LINEAR},{label:"Ð Ð°Ð´Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹",value:y.RADIAL}]),b=Object.freeze({AUTO:"auto",HIDDEN:"hidden",SCROLL:"scroll"}),E=Object.values(b).map(e=>({label:e,value:e})),_=Object.freeze({POINTER:"pointer",AUTO:"auto"}),S=Object.values(_).map(e=>({label:e,value:e})),I=Object.freeze({REPEAT_X:"repeat-x",REPEAT_Y:"repeat-y",REPEAT:"repeat",SPACE:"space",ROUND:"round",NO_REPEAT:"no-repeat"}),D=Object.values(I).map(e=>({label:e,value:e})),M=Object.freeze({TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",CENTER:"center"}),x=Object.values(M).map(e=>({label:e,value:e})),T=/(?!\(.*)\s(?![^(]*?\))/g,w=/(?!\(.*)\:(?![^(]*?\))/g,C=/\d+/,A=/^\d+/,O=/-?\d+/,R=Object.freeze({INHERIT:"inherit"}),N=Object.values(R).map(e=>({label:e,value:""})),k=m._T.map(({value:e})=>e),P=Object.freeze({TOP_BORDER:"topBorder",RIGHT_BORDER:"rightBorder",BOTTOM_BORDER:"bottomBorder",LEFT_BORDER:"leftBorder"}),U=Object.freeze({"border-top":{width:"topWidth",type:"topType",color:"topColor"},"border-right":{width:"rightWidth",type:"rightType",color:"rightColor"},"border-bottom":{width:"bottomWidth",type:"bottomType",color:"bottomColor"},"border-left":{width:"leftWidth",type:"leftType",color:"leftColor"}}),L=Object.keys(U),$=Object.freeze([{id:"a",key:"leftBorder",width:"leftWidth",type:"leftType",color:"leftColor",img:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjMDA4NEZGIiBmaWxsLW9wYWNpdHk9IjAuMTYiLz4KPHBhdGggZD0iTTIzIDEzSDI1VjExSDIzTTI3IDI5SDI5VjI3SDI3TTI3IDIxSDI5VjE5SDI3TTI3IDEzSDI5VjExSDI3TTI3IDI1SDI5VjIzSDI3TTIzIDI5SDI1VjI3SDIzTTI3IDE3SDI5VjE1SDI3TTExIDI5SDEzVjExSDExTTE1IDEzSDE3VjExSDE1TTE1IDI5SDE3VjI3SDE1TTE5IDEzSDIxVjExSDE5TTE5IDI5SDIxVjI3SDE5VjI5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",imgChecked:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MCA0MCkgcm90YXRlKDE4MCkiIGZpbGw9IiMxNDZGRjgiLz4KPHBhdGggZD0iTTIxIDI3TDE5IDI3TDE5IDI5TDIxIDI5TTE3IDI3TDE1IDI3TDE1IDI5TDE3IDI5TTE3IDExTDE1IDExTDE1IDEzTDE3IDEzTTEzIDExTDExIDExTDExIDI5TDEzIDI5TTI5IDIzTDI3IDIzTDI3IDI1TDI5IDI1TTI5IDE1TDI3IDE1TDI3IDE3TDI5IDE3TTI5IDE5TDI3IDE5TDI3IDIxTDI5IDIxTTIxIDExTDE5IDExTDE5IDEzTDIxIDEzTTI5IDExTDI3IDExTDI3IDEzTDI5IDEzTTI1IDI3TDIzIDI3TDIzIDI5TDI1IDI5TTI5IDI3TDI3IDI3TDI3IDI5TDI5IDI5TTI1IDExTDIzIDExTDIzIDEzTDI1IDEzTDI1IDExWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},{id:"b",key:"topBorder",width:"topWidth",type:"topType",color:"topColor",img:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjMDA4NEZGIiBmaWxsLW9wYWNpdHk9IjAuMTYiLz4KPHBhdGggZD0iTTI3IDI5SDI5VjI3SDI3TTIzIDI5SDI1VjI3SDIzTTI3IDI1SDI5VjIzSDI3TTExIDEzSDI5VjExSDExTTI3IDIxSDI5VjE5SDI3TTI3IDE3SDI5VjE1SDI3TTExIDE3SDEzVjE1SDExTTExIDIxSDEzVjE5SDExTTExIDI5SDEzVjI3SDExTTExIDI1SDEzVjIzSDExTTE5IDI5SDIxVjI3SDE5TTE1IDI5SDE3VjI3SDE1VjI5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",imgChecked:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDQwKSByb3RhdGUoLTkwKSIgZmlsbD0iIzE0NkZGOCIvPgo8cGF0aCBkPSJNMTMgMjFMMTMgMTlMMTEgMTlMMTEgMjFNMTMgMTdMMTMgMTVMMTEgMTVMMTEgMTdNMjkgMTdMMjkgMTVMMjcgMTVMMjcgMTdNMjkgMTNMMjkgMTFMMTEgMTFMMTEgMTNNMTcgMjlMMTcgMjdMMTUgMjdMMTUgMjlNMjUgMjlMMjUgMjdMMjMgMjdMMjMgMjlNMjEgMjlMMjEgMjdMMTkgMjdMMTkgMjlNMjkgMjFMMjkgMTlMMjcgMTlMMjcgMjFNMjkgMjlMMjkgMjdMMjcgMjdMMjcgMjlNMTMgMjVMMTMgMjNMMTEgMjNMMTEgMjVNMTMgMjlMMTMgMjdMMTEgMjdMMTEgMjlNMjkgMjVMMjkgMjNMMjcgMjNMMjcgMjVMMjkgMjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"},{id:"c",key:"rightBorder",width:"rightWidth",type:"rightType",color:"rightColor",img:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjMDA4NEZGIiBmaWxsLW9wYWNpdHk9IjAuMTYiLz4KPHBhdGggZD0iTTE5IDEzSDIxVjExSDE5TTIzIDEzSDI1VjExSDIzTTIzIDI5SDI1VjI3SDIzTTI3IDI5SDI5VjExSDI3TTExIDE3SDEzVjE1SDExTTExIDI1SDEzVjIzSDExTTExIDIxSDEzVjE5SDExTTE5IDI5SDIxVjI3SDE5TTExIDI5SDEzVjI3SDExTTE1IDEzSDE3VjExSDE1TTExIDEzSDEzVjExSDExTTE1IDI5SDE3VjI3SDE1VjI5WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",imgChecked:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjMTQ2RkY4Ii8+CjxwYXRoIGQ9Ik0xOSAxM0gyMVYxMUgxOU0yMyAxM0gyNVYxMUgyM00yMyAyOUgyNVYyN0gyM00yNyAyOUgyOVYxMUgyN00xMSAxN0gxM1YxNUgxMU0xMSAyNUgxM1YyM0gxMU0xMSAyMUgxM1YxOUgxMU0xOSAyOUgyMVYyN0gxOU0xMSAyOUgxM1YyN0gxMU0xNSAxM0gxN1YxMUgxNU0xMSAxM0gxM1YxMUgxMU0xNSAyOUgxN1YyN0gxNVYyOVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},{id:"d",key:"bottomBorder",width:"bottomWidth",type:"bottomType",color:"bottomColor",img:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIGZpbGw9IiMwMDg0RkYiIGZpbGwtb3BhY2l0eT0iMC4xNiIvPjxwYXRoIGQ9Ik0xMyAyM0gxMVYyNUgxM00xMSAyOUgyOVYyN0gxMU0xMyAxOUgxMVYyMUgxM00yNyAxN0gyOVYxNUgyN00yNyAxM0gyOVYxMUgyN00xMyAxNUgxMVYxN0gxM00yNyAyNUgyOVYyM0gyN00yNyAyMUgyOVYxOUgyN00yNSAxMUgyM1YxM0gyNU0yMSAxMUgxOVYxM0gyMU0xMyAxMUgxMVYxM0gxM00xNyAxMUgxNVYxM0gxNyIgZmlsbD0iYmxhY2siLz48L3N2Zz4=",imgChecked:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwKSByb3RhdGUoOTApIiBmaWxsPSIjMTQ2RkY4Ii8+PHBhdGggZD0iTTI3IDE5TDI3IDIxTDI5IDIxTDI5IDE5TTI3IDIzTDI3IDI1TDI5IDI1TDI5IDIzTTExIDIzTDExIDI1TDEzIDI1TDEzIDIzTTExIDI3TDExIDI5TDI5IDI5TDI5IDI3TTIzIDExTDIzIDEzTDI1IDEzTDI1IDExTTE1IDExTDE1IDEzTDE3IDEzTDE3IDExTTE5IDExTDE5IDEzTDIxIDEzTDIxIDExTTExIDE5TDExIDIxTDEzIDIxTDEzIDE5TTExIDExTDExIDEzTDEzIDEzTDEzIDExTTI3IDE1TDI3IDE3TDI5IDE3TDI5IDE1TTI3IDExTDI3IDEzTDI5IDEzTDI5IDExTTExIDE1TDExIDE3TDEzIDE3TDEzIDE1TDExIDE1WiIgZmlsbD0id2hpdGUiLz48L3N2Zz4="},{id:"e",key:"border",width:"width",type:"type",color:"color",img:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRDZFQkZGIi8+CjxwYXRoIGQ9Ik0xNyAxOUgxNVYyMUgxN00yMSAyM0gxOVYyNUgyMU0yNyAyN0gxM1YxM0gyN00xMSAyOUgyOVYxMUgxMU0yNSAxOUgyM1YyMUgyNU0yMSAxOUgxOVYyMUgyMU0yMSAxNUgxOVYxN0gyMVYxNVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=",imgChecked:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjMTQ2RkY4Ii8+CjxwYXRoIGQ9Ik0xNyAxOUgxNVYyMUgxN00yMSAyM0gxOVYyNUgyMU0yNyAyN0gxM1YxM0gyN00xMSAyOUgyOVYxMUgxMU0yNSAxOUgyM1YyMUgyNU0yMSAxOUgxOVYyMUgyMU0yMSAxNUgxOVYxN0gyMVYxNVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="}]),j=Object.freeze({SEPARATELY:"separately",FULL:"full"}),q=Object.freeze([{key:j.FULL,img:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRUJFQkVCIi8+CjxwYXRoIGQ9Ik0xMSAyNEMxMSAyNi44IDEzLjIgMjkgMTYgMjlIMThWMjdIMTZDMTQuMyAyNyAxMyAyNS43IDEzIDI0VjIySDExVjI0Wk0yOSAxNkMyOSAxMy4yIDI2LjggMTEgMjQgMTFIMjJWMTNIMjRDMjUuNyAxMyAyNyAxNC4zIDI3IDE2VjE4SDI5VjE2Wk0yNCAyOUMyNi44IDI5IDI5IDI2LjggMjkgMjRWMjJIMjdWMjRDMjcgMjUuNyAyNS43IDI3IDI0IDI3SDIyVjI5SDI0Wk0xNiAxMUMxMy4yIDExIDExIDEzLjIgMTEgMTZWMThIMTNWMTZDMTMgMTQuMyAxNC4zIDEzIDE2IDEzSDE4VjExSDE2WiIgZmlsbD0iIzE0NkZGOCIvPgo8L3N2Zz4K",imgChecked:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjMTQ2RkY4Ii8+CjxwYXRoIGQ9Ik0xMSAyNEMxMSAyNi44IDEzLjIgMjkgMTYgMjlIMThWMjdIMTZDMTQuMyAyNyAxMyAyNS43IDEzIDI0VjIySDExVjI0Wk0yOSAxNkMyOSAxMy4yIDI2LjggMTEgMjQgMTFIMjJWMTNIMjRDMjUuNyAxMyAyNyAxNC4zIDI3IDE2VjE4SDI5VjE2Wk0yNCAyOUMyNi44IDI5IDI5IDI2LjggMjkgMjRWMjJIMjdWMjRDMjcgMjUuNyAyNS43IDI3IDI0IDI3SDIyVjI5SDI0Wk0xNiAxMUMxMy4yIDExIDExIDEzLjIgMTEgMTZWMThIMTNWMTZDMTMgMTQuMyAxNC4zIDEzIDE2IDEzSDE4VjExSDE2WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},{key:j.SEPARATELY,img:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iNCIgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMC4wNCIvPgo8cGF0aCBkPSJNMjcgMjdIMjlWMjlIMjdWMjdaTTI3IDI1SDI5VjIzSDI3VjI1Wk0xMSAyMUgxM1YxOUgxMVYyMVpNMTEgMjVIMTNWMjNIMTFWMjVaTTExIDE3SDEzVjE1SDExVjE3Wk0xMSAxM0gxM1YxMUgxMVYxM1pNMTUgMTNIMTdWMTFIMTVWMTNaTTIzIDI5SDI1VjI3SDIzVjI5Wk0xOSAyOUgyMVYyN0gxOVYyOVpNMjMgMjlIMjVWMjdIMjNWMjlaTTE1IDI5SDE3VjI3SDE1VjI5Wk0xMSAyOUgxM1YyN0gxMVYyOVpNMjkgMTZDMjkgMTQuNjczOSAyOC40NzMyIDEzLjQwMjEgMjcuNTM1NSAxMi40NjQ1QzI2LjU5NzkgMTEuNTI2OCAyNS4zMjYxIDExIDI0IDExSDE5VjEzSDI0QzI0Ljc5NTYgMTMgMjUuNTU4NyAxMy4zMTYxIDI2LjEyMTMgMTMuODc4N0MyNi42ODM5IDE0LjQ0MTMgMjcgMTUuMjA0NCAyNyAxNlYyMUgyOVYxNloiIGZpbGw9IiMxNDZGRjgiLz4KPHJlY3QgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSIzOSIgaGVpZ2h0PSIzOSIgcng9IjMuNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLW9wYWNpdHk9IjAuMSIvPgo8L3N2Zz4K",imgChecked:"PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iNCIgZmlsbD0iIzE0NkZGOCIvPgo8cGF0aCBkPSJNMjcgMjdIMjlWMjlIMjdWMjdaTTI3IDI1SDI5VjIzSDI3VjI1Wk0xMSAyMUgxM1YxOUgxMVYyMVpNMTEgMjVIMTNWMjNIMTFWMjVaTTExIDE3SDEzVjE1SDExVjE3Wk0xMSAxM0gxM1YxMUgxMVYxM1pNMTUgMTNIMTdWMTFIMTVWMTNaTTIzIDI5SDI1VjI3SDIzVjI5Wk0xOSAyOUgyMVYyN0gxOVYyOVpNMjMgMjlIMjVWMjdIMjNWMjlaTTE1IDI5SDE3VjI3SDE1VjI5Wk0xMSAyOUgxM1YyN0gxMVYyOVpNMjkgMTZDMjkgMTQuNjczOSAyOC40NzMyIDEzLjQwMjEgMjcuNTM1NSAxMi40NjQ1QzI2LjU5NzkgMTEuNTI2OCAyNS4zMjYxIDExIDI0IDExSDE5VjEzSDI0QzI0Ljc5NTYgMTMgMjUuNTU4NyAxMy4zMTYxIDI2LjEyMTMgMTMuODc4N0MyNi42ODM5IDE0LjQ0MTMgMjcgMTUuMjA0NCAyNyAxNlYyMUgyOVYxNloiIGZpbGw9IndoaXRlIi8+CjxyZWN0IHg9IjAuNSIgeT0iMC41IiB3aWR0aD0iMzkiIGhlaWdodD0iMzkiIHJ4PSIzLjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1vcGFjaXR5PSIwLjEiLz4KPC9zdmc+Cg=="}]),F=Object.freeze([{key:"topLeftRadius",img:"PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE2IDJMMTYgLTYuOTkzODJlLTA3TDE4IC03Ljg2ODA1ZS0wN0wxOCAyTDE2IDJaTTE0IDJMMTQgLTYuMTE5NTllLTA3TDEyIC01LjI0NTM3ZS0wN0wxMiAyTDE0IDJaTTEwIDE4TDEwIDE2TDggMTZMOCAxOEwxMCAxOFpNMTQgMThMMTQgMTZMMTIgMTZMMTIgMThMMTQgMThaTTYgMThMNiAxNkw0IDE2TDQgMThMNiAxOFpNMiAxOEwyIDE2TC04Ljc0MjI4ZS0wOCAxNkwwIDE4TDIgMThaTTIgMTRMMiAxMkwtMi42MjI2OGUtMDcgMTJMLTEuNzQ4NDZlLTA3IDE0TDIgMTRaTTE4IDZMMTggNEwxNiA0TDE2IDZMMTggNlpNMTggMTBMMTggOEwxNiA4TDE2IDEwTDE4IDEwWk0xOCA2TDE4IDRMMTYgNEwxNiA2TDE4IDZaTTE4IDE0TDE4IDEyTDE2IDEyTDE2IDE0TDE4IDE0Wk0xOCAxOEwxOCAxNkwxNiAxNkwxNiAxOEwxOCAxOFpNNSAtMi4xODU1N2UtMDdDMy42NzM5MiAtMS42MDU5MmUtMDcgMi40MDIxNSAwLjUyNjc4NSAxLjQ2NDQ3IDEuNDY0NDdDMC41MjY3ODMgMi40MDIxNSAtNi4yNjIxM2UtMDcgMy42NzM5MiAtNS42ODI0OGUtMDcgNUwtMy40OTY5MWUtMDcgMTBMMiAxMEwyIDVDMiA0LjIwNDM1IDIuMzE2MDcgMy40NDEyOSAyLjg3ODY4IDIuODc4NjhDMy40NDEyOSAyLjMxNjA3IDQuMjA0MzUgMiA1IDJMMTAgMkwxMCAtNC4zNzExNGUtMDdMNSAtMi4xODU1N2UtMDdaIiBmaWxsPSIjMTQ2RkY4Ii8+Cjwvc3ZnPgo="},{key:"topRightRadius",img:"PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE2IDE2SDE4VjE4SDE2VjE2Wk0xNiAxNEgxOFYxMkgxNlYxNFpNMCAxMEgyVjhIMFYxMFpNMCAxNEgyVjEySDBWMTRaTTAgNkgyVjRIMFY2Wk0wIDJIMlYwSDBWMlpNNCAySDZWMEg0VjJaTTEyIDE4SDE0VjE2SDEyVjE4Wk04IDE4SDEwVjE2SDhWMThaTTEyIDE4SDE0VjE2SDEyVjE4Wk00IDE4SDZWMTZINFYxOFpNMCAxOEgyVjE2SDBWMThaTTE4IDVDMTggMy42NzM5MiAxNy40NzMyIDIuNDAyMTUgMTYuNTM1NSAxLjQ2NDQ3QzE1LjU5NzkgMC41MjY3ODQgMTQuMzI2MSAwIDEzIDBIOFYySDEzQzEzLjc5NTYgMiAxNC41NTg3IDIuMzE2MDcgMTUuMTIxMyAyLjg3ODY4QzE1LjY4MzkgMy40NDEyOSAxNiA0LjIwNDM1IDE2IDVWMTBIMThWNVoiIGZpbGw9IiMxNDZGRjgiLz4KPC9zdmc+Cg=="},{key:"bottomLeftRadius",img:"PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIgMkwtMS4zOTg3NmUtMDYgMkwtMS41NzM2MWUtMDYgMS41NzM2MWUtMDZMMiAxLjM5ODc2ZS0wNkwyIDJaTTIgNEwtMS4yMjM5MmUtMDYgNEwtMS4wNDkwN2UtMDYgNkwyIDZMMiA0Wk0xOCA4TDE2IDhMMTYgMTBMMTggMTBMMTggOFpNMTggNEwxNiA0TDE2IDZMMTggNkwxOCA0Wk0xOCAxMkwxNiAxMkwxNiAxNEwxOCAxNEwxOCAxMlpNMTggMTZMMTYgMTZMMTYgMThMMTggMThMMTggMTZaTTE0IDE2TDEyIDE2TDEyIDE4TDE0IDE4TDE0IDE2Wk02IDEuMDQ5MDdlLTA2TDQgMS4yMjM5MmUtMDZMNCAyTDYgMkw2IDEuMDQ5MDdlLTA2Wk0xMCA2Ljk5MzgyZS0wN0w4IDguNzQyMjhlLTA3TDggMkwxMCAyTDEwIDYuOTkzODJlLTA3Wk02IDEuMDQ5MDdlLTA2TDQgMS4yMjM5MmUtMDZMNCAyTDYgMkw2IDEuMDQ5MDdlLTA2Wk0xNCAzLjQ5NjkxZS0wN0wxMiA1LjI0NTM3ZS0wN0wxMiAyTDE0IDJMMTQgMy40OTY5MWUtMDdaTTE4IDBMMTYgMS43NDg0NmUtMDdMMTYgMkwxOCAyTDE4IDBaTS00LjM3MTE0ZS0wNyAxM0MtMy4yMTE4NGUtMDcgMTQuMzI2MSAwLjUyNjc4NSAxNS41OTc5IDEuNDY0NDcgMTYuNTM1NUMyLjQwMjE1IDE3LjQ3MzIgMy42NzM5MiAxOCA1IDE4TDEwIDE4TDEwIDE2TDUgMTZDNC4yMDQzNSAxNiAzLjQ0MTI5IDE1LjY4MzkgMi44Nzg2OCAxNS4xMjEzQzIuMzE2MDcgMTQuNTU4NyAyIDEzLjc5NTcgMiAxM0wyIDhMLTguNzQyMjhlLTA3IDhMLTQuMzcxMTRlLTA3IDEzWiIgZmlsbD0iIzE0NkZGOCIvPgo8L3N2Zz4K"},{key:"bottomRightRadius",img:"PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIgMTZMMiAxOEwyLjE0NjQ4ZS0wNyAxOEwxLjkwNzk4ZS0wNyAxNkwyIDE2Wk00IDE2TDQgMThMNiAxOEw2IDE2TDQgMTZaTTggMS4xOTI0OWUtMDdMOCAyTDEwIDJMMTAgOS41Mzk5ZS0wOEw4IDEuMTkyNDllLTA3Wk00IDEuNjY5NDhlLTA3TDQgMkw2IDJMNiAxLjQzMDk5ZS0wN0w0IDEuNjY5NDhlLTA3Wk0xMiA3LjE1NDkzZS0wOEwxMiAyTDE0IDJMMTQgNC43Njk5NWUtMDhMMTIgNy4xNTQ5M2UtMDhaTTE2IDIuMzg0OThlLTA4TDE2IDJMMTggMkwxOCAwTDE2IDIuMzg0OThlLTA4Wk0xNiA0TDE2IDZMMTggNkwxOCA0TDE2IDRaTTEuNDMwOTllLTA3IDEyTDEuNjY5NDhlLTA3IDE0TDIgMTRMMiAxMkwxLjQzMDk5ZS0wNyAxMlpNOS41Mzk5ZS0wOCA4TDEuMTkyNDllLTA3IDEwTDIgMTBMMiA4TDkuNTM5OWUtMDggOFpNMS40MzA5OWUtMDcgMTJMMS42Njk0OGUtMDcgMTRMMiAxNEwyIDEyTDEuNDMwOTllLTA3IDEyWk00Ljc2OTk1ZS0wOCA0TDcuMTU0OTNlLTA4IDZMMiA2TDIgNEw0Ljc2OTk1ZS0wOCA0Wk0wIDIuMTQ2NDhlLTA3TDIuMzg0OThlLTA4IDJMMiAyTDIgMS45MDc5OGUtMDdMMCAyLjE0NjQ4ZS0wN1pNMTMgMThDMTQuMzI2MSAxOCAxNS41OTc5IDE3LjQ3MzIgMTYuNTM1NSAxNi41MzU1QzE3LjQ3MzIgMTUuNTk3OSAxOCAxNC4zMjYxIDE4IDEzTDE4IDhMMTYgOEwxNiAxM0MxNiAxMy43OTU2IDE1LjY4MzkgMTQuNTU4NyAxNS4xMjEzIDE1LjEyMTNDMTQuNTU4NyAxNS42ODM5IDEzLjc5NTYgMTYgMTMgMTZMOCAxNkw4IDE4TDEzIDE4WiIgZmlsbD0iIzE0NkZGOCIvPgo8L3N2Zz4K"}]),B=Object.freeze({BORDER_RADIUS:"border-radius",BORDER:"border",BORDER_TOP:"border-top",BORDER_BOTTOM:"border-bottom",BORDER_LEFT:"border-left",BORDER_RIGHT:"border-right",TRANSFORM:"transform",OPACITY:"opacity",OVERFLOW_X:"overflow-x",OVERFLOW_Y:"overflow-y",CURSOR:"cursor",MIN_WIDTH:"min-width",MAX_WIDTH:"max-width",MIN_HEIGHT:"min-height",MAX_HEIGHT:"max-height",BACKGROUND:"background",BOX_SHADOW:"box-shadow"}),H=Object.freeze({LINEAR_GRADIENT:"linear-gradient",RADIAL_GRADIENT:"radial-gradient",URL:"url",RGB:"rgb",HASH:"#"}),V=Object.freeze({INSET:"inset",OUTSET:"outset"}),z=Object.freeze([{label:"Ð’Ð½ÐµÑˆÐ½ÑÑ",value:V.OUTSET},{label:"Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ",value:V.INSET}]),W=Object.freeze({FULL_WITHOUT_INSET:5,FULL_WITH_INSET:6,WITHOUT_SPREAD_AND_INSET:4,WITHOUT_SPREAD_WITH_INSET:5}),Q="rgba(0, 0, 0, 1)",G="radius",Y="rotate",Z="100%",K="none",X=e=>null!=e&&(h.ConstManager.isConstant(e)||h.ColorManager.isConstant(e)),J=e=>({type:null,color:"",gradientType:null,gradientFirstColor:"",gradientSecondColor:"",gradientFirstColorOffset:null,gradientSecondColorOffset:null,gradientDirection:null,centerX:null,centerY:null,radius:null,file:"",size:Z,repeat:I.REPEAT_X,position:M.TOP,output:"",...e}),ee=()=>({backgrounds:[],primitiveStyle:{},border:{width:"",type:K,color:"",radius:"",leftWidth:"",leftType:K,leftColor:"",topLeftRadius:"",rightWidth:"",rightType:K,rightColor:"",topRightRadius:"",bottomWidth:"",bottomType:K,bottomColor:"",bottomLeftRadius:"",topWidth:"",topType:K,topColor:"",bottomRightRadius:""},boxShadow:{offsetX:"",offsetY:"",blurRadius:"",spreadRadius:"",color:"",type:""},transformAngle:0}),te=e=>{const t=[];let s=0,r=0;for(let a=0;a<e.length;++a){const i=e[a];if("("==i&&(r+=1),")"==i&&(r-=1),r<0)throw new Error('unexpected ")" character');","==i&&0===r&&(t.push(e.slice(s,a).trim()),s=a+1)}const i=e.slice(s).trim();return i.length>0&&t.push(i),t},se=e=>`${H.RGB}(${e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,s,r)=>H.HASH+t+t+s+s+r+r).substring(1).match(/.{2}/g).map(e=>parseInt(e,16)).join(",")})`,re=(e,t)=>Object.fromEntries(Object.entries(e).filter(([e,s])=>e!==t)),ie=e=>{const t=te(e.replace(H.LINEAR_GRADIENT,"").slice(1,-1));return J({type:f.GRADIENT,gradientType:y.LINEAR,gradientDirection:Number(t[0].match(C)[0]),gradientFirstColor:t[1].split(T)[0],gradientSecondColor:t[2].split(T)[0],gradientFirstColorOffset:Number(t[1].split(T)[1].match(C)[0]),gradientSecondColorOffset:Number(t[2].split(T)[1].match(C)[0]),output:e})},ae=e=>{const t=te(e.replace(H.RADIAL_GRADIENT,"").slice(1,-1));return J({type:f.GRADIENT,gradientType:y.RADIAL,centerX:t[0].split(" ")[1].match(C)[0],centerY:t[0].split(" ")[2].match(C)[0],radius:t[1].split(T)[1].match(C)[0],gradientFirstColor:t[2].split(T)[0],gradientSecondColor:t[3].split(T)[0],gradientFirstColorOffset:Number(t[2].split(T)[1].match(C)[0]),gradientSecondColorOffset:Number(t[3].split(T)[1].match(C)[0]),output:e})},ne=e=>{const t=e.replace(H.URL,"").split(" ");return J({type:f.FILE,file:t[0].slice(1,-1),position:t.find(e=>x.map(({value:e})=>e).includes(e)),size:t.find(e=>e.match(A)),repeat:t.find(e=>D.map(({value:e})=>e).includes(e)),output:e})},oe=e=>J({type:f.COLOR,color:se(e),output:e}),le=e=>e.reduce((e,t)=>X(t)?(e.push(J({type:f.COLOR,color:t,output:t})),e):t.includes(H.LINEAR_GRADIENT)?(e.push(ie(t)),e):t.includes(H.RADIAL_GRADIENT)?(e.push(ae(t)),e):t.includes(H.URL)?(e.push(ne(t)),e):t.includes(H.HASH)?(e.push(oe(t)),e):t.includes(H.RGB)?(e.push(J({type:f.COLOR,color:t,output:t})),e):e,[]),de=e=>{const t=e.split(T),s=t.find(e=>!e.includes(H.HASH)&&!e.includes(H.RGB)&&e.match(C)),r=t.find(e=>k.includes(e)),i=t.find(e=>e.includes(H.HASH)||e.includes(H.RGB)),a=i?.includes(H.HASH)?se(i):i;return{width:s,type:r,color:a}},ce=(e,t)=>{const s=t.split(" ");return 2===s.length?(0,d.A)(e,{border:{topLeftRadius:s[0],topRightRadius:s[1],bottomLeftRadius:s[1],bottomRightRadius:s[0]}}):1===s.length?(0,d.A)(e,{border:{radius:s[0]}}):4===s.length?(0,d.A)(e,{border:{topLeftRadius:s[0],topRightRadius:s[1],bottomRightRadius:s[2],bottomLeftRadius:s[3]}}):e},ue=(e,t)=>{const s=t.split(T);if(!s.includes(V.INSET)&&s.length===W.FULL_WITHOUT_INSET)return(0,d.A)(e,{boxShadow:{offsetX:s[0],offsetY:s[1],blurRadius:s[2],spreadRadius:s[3],color:s[4].includes(H.HASH)?se(s[4]):s[4],type:V.OUTSET}});if(s.includes(V.INSET)&&s.length===W.FULL_WITH_INSET){const t=s.filter(e=>e!==V.INSET);return(0,d.A)(e,{boxShadow:{offsetX:t[0],offsetY:t[1],blurRadius:t[2],spreadRadius:t[3],color:t[4].includes(H.HASH)?se(t[4]):t[4],type:V.INSET}})}if(!s.includes(V.INSET)&&s.length===W.WITHOUT_SPREAD_AND_INSET)return(0,d.A)(e,{boxShadow:{offsetX:s[0],offsetY:s[1],blurRadius:s[2],color:s[3].includes(H.HASH)?se(s[3]):s[3],type:V.OUTSET}});if(s.includes(V.INSET)&&s.length===W.WITHOUT_SPREAD_WITH_INSET){const t=s.filter(e=>e!==V.INSET);return(0,d.A)(e,{boxShadow:{offsetX:t[0],offsetY:t[1],blurRadius:t[2],color:t[3].includes(H.HASH)?se(t[3]):t[3],type:V.INSET}})}return e},pe=({css:e})=>Object.entries(e).reduce((e,[t,s])=>{if(t===B.BACKGROUND){const t=te(s);return e.backgrounds=[...le(t)],e}if([B.OPACITY,B.OVERFLOW_X,B.OVERFLOW__Y,B.CURSOR,B.MIN_WIDTH,B.MAX_WIDTH,B.MIN_HEIGHT,B.MAX_HEIGHT].includes(t))return e.primitiveStyle[t]=s,e;if(t===B.TRANSFORM)return e.transformAngle=s.match(O)[0],e;if(t===B.BORDER){const t=de(s);return e.border.width=t?.width??"",e.border.type=t?.type??"",e.border.color=t?.color??"",e}if(L.includes(t)){const r=de(s);return e.border[U[t].width]=r?.width??"",e.border[U[t].type]=r?.type??"",e.border[U[t].color]=r?.color??"",e}return t===B.BORDER_RADIUS?(e={...ce(e,s)},e):t===B.BOX_SHADOW?(e={...ue(e,s)},e):e},{...ee()}),he={components:{draggable:u(),...p.PanelUi},props:{cssStyle:{type:Object,default:()=>({})}},data(){return{componentStyle:null,transformAngle:0,backgrounds:[],primitiveStyle:{},border:{},boxShadow:{},borderSideModel:B.BORDER,borderRadiusModel:j.FULL}},static:{BackgroundTypeOptions:g,BackgroundType:f,GradientType:y,GradientTypeOptions:v,dragOptions:{animation:200,group:"background",handle:".mdi-drag"},OverflowOptions:E,CursorOptions:S,BackgroundRepeatOptions:D,SizeUnits:m.Bv,BorderWidthUnits:m.k5,BackgroundPositionOptions:x,WidthHeightTypeOptions:N,SizeUnits:m.Bv,BorderStyleOptions:m._T,BorderRadiusSidesOption:j,BorderSides:$,BorderRadiusSidesOptions:q,BorderRadiusSides:F,CssStyleName:B,CssStylePropertyPart:H,BoxShadowOptions:z,RADIUS_NAME:G},watch:{cssStyle:{handler(){this.componentStyle=this.cssStyle,this.resolveCssStyle()},deep:!0,immediate:!0}},methods:{getImageUrl(e){return`data:image/svg+xml;base64,${e}`},setBorderSideModel(e){this.borderSideModel=e},setBorderRadiusModel(e){this.borderRadiusModel=e},backgroundHandler(e,t){if(null===t.type)return this.backgrounds[e].output="",void this.mutateBackgroundProps();t.type===f.COLOR&&""===t.color&&(this.backgrounds[e].output=""),t.type===f.COLOR&&""!==t.color&&(this.backgrounds[e].output=t.color),t.type===f.GRADIENT&&t.gradientType===y.LINEAR&&(this.backgrounds[e].output=`${H.LINEAR_GRADIENT}(${t.gradientDirection||0}deg, ${t?.gradientFirstColor||Q} ${t.gradientFirstColorOffset||0}%, ${t.gradientSecondColor||Q} ${t.gradientSecondColorOffset||0}%)`),t.type===f.GRADIENT&&t.gradientType===y.RADIAL&&(this.backgrounds[e].output=`${H.RADIAL_GRADIENT}(at ${t.centerX||0}% ${t.centerY||0}%, ${t.gradientFirstColor||Q} ${t.radius||0}%, ${t.gradientFirstColor||Q} ${t.gradientFirstColorOffset||0}%, ${t.gradientSecondColor||Q} ${t.gradientSecondColorOffset||0}%)`),t.type===f.FILE&&""!==t.file&&(this.backgrounds[e].output=`${H.URL}(${t.file}) ${t.repeat} ${t.position} / ${t.size}`),t.type===f.FILE&&""===t.file&&(this.backgrounds[e].output=""),this.mutateBackgroundProps()},borderHandler(e){if(e===B.BORDER){this.componentStyle.border=`${this.border.width} ${this.border.type} ${this.border.color??Q}`,this.componentStyle=Object.fromEntries(Object.entries(this.componentStyle).filter(([e,t])=>!L.includes(e)));const{border:e}=pe({css:this.componentStyle});return this.border=e,void this.$emit("prop-was-changed",this.componentStyle)}e===P.TOP_BORDER&&(this.componentStyle[B.BORDER_TOP]=`${this.border.topWidth} ${this.border.topType} ${this.border.topColor??Q}`,this.componentStyle=re(this.componentStyle,B.BORDER)),e===P.LEFT_BORDER&&(this.componentStyle[B.BORDER_LEFT]=`${this.border.leftWidth} ${this.border.leftType} ${this.border.leftColor??Q}`,this.componentStyle=re(this.componentStyle,B.BORDER)),e===P.BOTTOM_BORDER&&(this.componentStyle[B.BORDER_BOTTOM]=`${this.border.bottomWidth} ${this.border.bottomType} ${this.border.bottomColor??Q}`,this.componentStyle=re(this.componentStyle,B.BORDER)),e===P.RIGHT_BORDER&&(this.componentStyle[B.BORDER_RIGHT]=`${this.border.rightWidth} ${this.border.rightType} ${this.border.rightColor??Q}`,this.componentStyle=re(this.componentStyle,B.BORDER));const{border:t}=pe({css:this.componentStyle});this.border=t,this.$emit("prop-was-changed",this.componentStyle)},borderRadiusHandler(e){if(e===G)return this.componentStyle[B.BORDER_RADIUS]=this.border.radius,this.border=(0,d.A)(this.border,{topRightRadius:"",topLeftRadius:"",bottomLeftRadius:"",bottomRightRadius:""}),void this.$emit("prop-was-changed",this.componentStyle);this.border=(0,d.A)(this.border,{radius:""}),this.componentStyle[B.BORDER_RADIUS]=`${this.border.topLeftRadius||0} ${this.border.topRightRadius||0} ${this.border.bottomRightRadius||0} ${this.border.bottomLeftRadius||0}`,this.$emit("prop-was-changed",this.componentStyle)},boxShadowHandler(){const e=`${this.boxShadow.offsetX} ${this.boxShadow.offsetY} ${this.boxShadow.blurRadius} ${this.boxShadow.spreadRadius} ${this.boxShadow.color}`;this.boxShadow.type===V.INSET?this.componentStyle[B.BOX_SHADOW]=`${V.INSET} ${e}`:this.componentStyle[B.BOX_SHADOW]=e,this.$emit("prop-was-changed",this.componentStyle)},mutateBackgroundProps(){this.componentStyle.background=this.backgrounds.filter(({output:e})=>""!==e).map(({output:e})=>e).join(", "),0===this.backgrounds.length&&(this.componentStyle=re(this.componentStyle,B.BACKGROUND)),this.$emit("prop-was-changed",this.componentStyle)},moveBackgrounds(){this.mutateBackgroundProps()},addBackground(){this.backgrounds.push(J())},deleteBackground(e){this.backgrounds.splice(e,1),this.mutateBackgroundProps()},transformAngleHandler(){this.componentStyle.transform=`${Y}(${this.transformAngle}deg)`,this.$emit("prop-was-changed",this.componentStyle)},onStylePropChanged(e){this.componentStyle[e]=this.primitiveStyle[e],this.componentStyle=Object.fromEntries(Object.entries(this.componentStyle).filter(([e,t])=>""!==t)),this.$emit("prop-was-changed",this.componentStyle)},resolveCssStyle(){const{backgrounds:e,primitiveStyle:t,border:s,boxShadow:r,transformAngle:i}=pe({css:this.componentStyle});this.backgrounds=e,this.primitiveStyle=t,this.border=s,this.boxShadow=r,this.transformAngle=i}}},me=he;s(70048);var fe=s(81656),ge=(0,fe.A)(me,o,l,!1,null,"3098cf73",null);const ye=ge.exports,ve={extends:n.Panel,components:{UiBadge:a.Badge,WAdditionalStyleSettings:ye},meta:{name:"style",icon:"view-dashboard",isHidden:({type:e})=>"ElemTemplateContent"===e,index:100},props:{slotNames:{default(){return["default"]}}},static:{directions:[{id:"t",pos:"pos-top-center",icon:"mdi-arrow-collapse-up"},{id:"b",pos:"pos-bot-center",icon:"mdi-arrow-collapse-down"},{id:"l",pos:"pos-left-center",icon:"mdi-arrow-collapse-left"},{id:"r",pos:"pos-right-center",icon:"mdi-arrow-collapse-right"}]},data(){return{marginDirectionId:"",paddingDirectionId:""}},computed:{marginOptions(){return this.descriptor.props.marginT.options},paddingOptions(){return this.descriptor.props.paddingT.options},widthUnits(){return this.descriptor.props.widthUnit.options.map(({value:e})=>e).filter(e=>!!e)},heightUnits(){return this.descriptor.props.heightUnit.options.map(({value:e})=>e)},widthWithUnit:{get(){const{width:e,widthUnit:t}=this.props;return`${e}${t}`},set(e){const t=String(e).match(/^([\d.-]*)([a-z%]+)$/i),[s,r,i]=t||[];this.props.width=null==r?e:r,this.props.widthUnit=null==i?"":i}},heightWithUnit:{get(){const{height:e,heightUnit:t}=this.props;return`${e}${t}`},set(e){const t=String(e).match(/^([\d.-]*)([a-z%]+)$/i),[s,r,i]=t||[];this.props.height=null==r?e:r,this.props.heightUnit=null==i?"":i}},cssStyles:{get(){const{cssStyle:e={}}=this.props,t=[];for(const s in e)t.push(`${s}: ${e[s]}`);return t.sort()},set(e){const t=e.filter(e=>""!==e).reduce((e,t)=>{const s=this.getStyleDefObj(t);return s&&(e[s.key]=s.value),e},{});this.props.cssStyle=t}}},methods:{getStyleDefObj(e){const[t,s]=e.split(w);return null!=s?{key:t.trim(),value:s.trim()}:null},onStylePropChanged(e){this.props.cssStyle=e,this.propChanged("cssStyle")},changeStyle(){this.propChanged("cssStyle")}}},be=ve;s(72062);var Ee=(0,fe.A)(be,r,i,!1,null,"2cb95cf7",null);const _e=Ee.exports},7178:(e,t,s)=>{s.d(t,{$c:()=>v,HX:()=>B,Fp:()=>V.Fp,s5:()=>T,Pn:()=>D,yu:()=>ue,GK:()=>le,UI:()=>V.UI,X4:()=>V.X4,B5:()=>p,Lz:()=>de,fS:()=>m,np:()=>u,v6:()=>fe,eM:()=>_,af:()=>S,U3:()=>h,v2:()=>E,Xx:()=>F,Gb:()=>me,o1:()=>I,OV:()=>y,ko:()=>q,_k:()=>ne,lE:()=>ce,pQ:()=>A});var r=s(20330),i=s.n(r),a=s(14120),n=s(77500),o=s(97165),l=s(37364),d=s(29565);class c extends CustomEvent{constructor(e,{payload:t,instance:s}){super(e,{detail:{...null!=t&&{payload:t},instance:s}})}get instance(){return this.detail.instance}get payload(){return this.detail.payload}}const u=e=>`elem-${e}`;function p(e,{payload:t}={}){const s=new c(e,{payload:t,instance:this});this.$emit(s.type,this,t),document.dispatchEvent(s)}const h=e=>{const{$el:t,id:s,type:r}=e;t&&(t.__elem__=e,t.setAttribute&&(t.setAttribute("id",u(s)),t.setAttribute(o.$4,r)))},m=e=>{const{props:t}=e;return Object.entries(t).reduce((e,[t,s])=>{const{default:r}=s;return{...e,[t]:"function"===typeof r?r():r}},{})},f=(new(i())).$data.__ob__.constructor,g=new f({}),y=e=>{null!=e&&"object"===typeof e&&(null!=e.__ob__&&(e.__ob__=g),!1!==Array.isArray(e)?0!==e.length&&"object"===typeof e[0]&&e.forEach(y):Object.entries(e).forEach(y))},v=e=>("string"!==typeof e||(e=d.ColorManager.instance.interpolate(e),e=d.ConstManager.instance.interpolate(e)),e),b=e=>{if(null==e)return e;if(Array.isArray(e))return e.map(b);if("object"===typeof e){const t={...e};return Object.entries(t).forEach(([e,s])=>{t[e]=b(s)}),t}return"string"===typeof e?v(e):e},E=e=>Object.entries(e).reduce((e,[t,s])=>({...e,[t]:b(s)}),{}),_=(e={},t={})=>{const{panels:s=[],panelsDefault:r=[],cssVars:i,slotNames:a=[],isChildAllowed:n,descriptor:o,...d}=e,{panels:c=[],panelsDefault:u,cssVars:p,slotNames:h,isChildAllowed:m,descriptor:f,...g}=t;return{panels:[...s,...c],panelsDefault:u??r,cssVars:{...i,...p},slotNames:h??a,isChildAllowed:m??n,descriptor:()=>(0,l.A)(o&&o(),f&&f()),...d,...g}};i().config.optionMergeStrategies.meta=_;const S=e=>(e.vars=Object.entries(e.vars).reduce((e,[t,s])=>"string"==typeof s?{...e,[s]:{description:s}}:{...e,[t]:s},{}),e),I=(e,t,s)=>{Object.defineProperty(e,t,{value:s,writable:!1})},D=(e,t=o.q1)=>Object.fromEntries(Object.entries(e).map(([e,s])=>[`${t}-${e}`,(0,a.convertPxToRem)(String(s))])),M=(e,t)=>{if("function"===typeof e)return e(t);if("string"===typeof e)return(0,n.A)(t,e);if(Array.isArray(e)){const s=M(e[0],t);return s||e[1]}return e},x=(e,t)=>{const s=[e,t],r=s.find(e=>null==e||"object"!==typeof e);if(null!=r)throw new Error(`Error during building css vars: ${s.indexOf(r)+1} argument type or value is invalid: '${r}'`);return new Map(Object.entries(e).map(([e,s])=>{const r=M(s,t),i=[void 0,null,""].includes(r)?null:String(r);return[e,i]}))},T=(e,t)=>Object.fromEntries([...x(e,t)].filter(([,e])=>null!=e).map(([e,t])=>[e,v(t)]));var w=s(73663);const C=["_isVue","state","render","currentRoute"],A=({stateVars:e,descriptorVars:t,varAliases:s},{traceContext:r=A}={})=>{e=e.filter(e=>"string"===typeof e).filter(e=>!1===C.includes(e));const i=[],n=e.filter(e=>!1===t.includes(e));if(n.length>0){const e=new w.CoreWarning(`MISSED descriptor.vars['${n.map(String).join("', '")}']. (Variable should be described in descriptor.vars object to be available for configuration)`);Error.captureStackTrace&&Error.captureStackTrace(e,r),i.push(e)}const o=e.filter(e=>!1===s.includes(e));if(o.length>0){const e=new w.CoreWarning(`NOT ACTIVE props.varAliases['${o.map(String).join("', '")}']. (Variable should be activated by assigning Global Store Var in Variable Panel)`);Error.captureStackTrace&&Error.captureStackTrace(e,r),i.push(e)}return i.length>0?(0,a.fail)(i):(0,a.success)(!0)};var O=s(44757);const R=([e,t])=>![null,"",void 0].includes(t)||(setTimeout(()=>{throw new w.CoreError(`'${e}' key is required in 'subscribe' descriptor`)}),!1),N=({event:e,handler:t})=>[["event",e],["handler",t]].every(R),k=(e,t)=>[(0,O.A)(e,t),(0,O.A)(t,e)],P=e=>[e].flat().filter(e=>null!=e),U=e=>`__${e}`,L=e=>{const{descriptor:{events:t}}=e;return(e,s=null)=>{e=P(e),s=P(s);const[r,i]=k(e,s);i.forEach(e=>{const s=U(e);null!=t[s]&&delete t[s]}),r.forEach(e=>{const s=U(e);null==t[s]&&(t[s]={listen:e})})}},$=(e,{handler:t,once:s})=>{let r=()=>{};return i=>{r(),[null,"",void 0].includes(i)||(r=e.$eventListen(i,t,s))}},j=(e,{handler:t,once:s})=>(r,i=null)=>{r=P(r),i=P(i);const[a,n]=k(r,i);n.forEach(s=>{e.$eventBus.unlisten(s,t)}),a.forEach(r=>{const i=$(e,{handler:t,once:s});i(r)})},q=(e,t)=>{const{$options:{subscribe:s}}=e;if(!1===Array.isArray(s)||0===s.length)return;const{subscribe:r}=e;e.subscribe=()=>{r.call(e);const t=L(e);s.forEach(({event:s,handler:r,once:i})=>{if(!1===N({event:s,handler:r}))return;r=r.bind(e);const a=j(e,{handler:r,once:i});let n=s;"function"===typeof n&&(n=n.call(e,e),t(n)),a(n),!1!==e.isEditorMode&&("function"!==typeof s?[n].flat().forEach(t=>{const s=e.$eventBus.getEventTypeResolver(t);if(null==s)throw new w.CoreError(`[EventBus]: Elem.subscribe section descriptor "{ event: '${t}', ... }" has no descriptor.events['${t}'] mapping`);e.$watch(s,a)}):e.$watch(s.bind(e,e),(e,s)=>{t(e,s),a(e,s)}))})}},F=e=>{Object.entries(e.descriptor.events??{}).forEach(([t,s])=>{const r=[];if(Array.isArray(s))r.push(()=>(0,n.A)(e.props.events,t));else if("object"===typeof s){const t=Object.values(s).pop(),i=()=>(0,n.A)(e.props,t);r.push(i)}r.forEach(s=>{e.$eventBus.setEventTypeResolver(t,s)})})};class B{listen(){throw new w.CoreError("Usage of this.eventBusWrapper.listen now is DISABLED â€“ use Elem.$eventListen / Elem.subscribe section instead (https://gitlab.goodt.me/goodt/docs/-/blob/main/docs/widget/elem/guide/eventbus.md)")}trigger(){throw new w.CoreError("Usage of this.eventBusWrapper.trigger now is DISABLED â€“ use Elem.$eventTrigger method instead (https://gitlab.goodt.me/goodt/docs/-/blob/main/docs/widget/elem/guide/eventbus.md)")}}const H=(e=[],t=[])=>[...e,...t];i().config.optionMergeStrategies.subscribe=H;var V=s(30104);class z{type;name;constructor(e){if(null==e)throw new TypeError(`"type" argument invalid value: "${e}"`);this.type=e,this.name=`${this.type.name}[]`.toLowerCase()}}const W="watchStore",Q={ANY:"any",ALL:"all",ALL_VARS:"allVars"},G=({vars:e,all:t,when:s})=>null==e?Q.ALL_VARS:!0===t||!0===s?Q.ALL:Q.ANY,Y=(e,{varAliases:t,varsDescriptor:s})=>{const r=Object.keys(e).filter(e=>!1===["id","handler","vars","all","when"].includes(e));if(r.length>0)return(0,a.fail)(new w.CoreError(`[watchStore]: INVALID DESCRIPTOR: prop(s) '${r.join("', '")}' ${r.length>1?"are":"is"} unknown.`));const{id:i,handler:n,vars:o,all:l,when:d}=e;return null!=i&&!1===["string"].includes(typeof i)?(0,a.fail)(new w.CoreError("[watchStore]: INVALID DESCRIPTOR FORMAT: 'id' prop type is expected to be String.")):!1===["function","string"].includes(typeof n)?(0,a.fail)(new w.CoreError("[watchStore]: INVALID DESCRIPTOR FORMAT: 'handler' prop type is expected to be Function or String.")):null===o||!1!==Array.isArray(o)&&0!==o.length||"function"===typeof o?"boolean"!==typeof l?(0,a.fail)(new w.CoreError("[watchStore]: INVALID DESCRIPTOR FORMAT: 'all' prop type is expected to be Boolean")):!1===["function","string","boolean"].includes(typeof d)&&!1===Array.isArray(d)?(0,a.fail)(new w.CoreError("[watchStore] section invalid descriptor format. 'when' prop type is expected to be Function, String,  Boolean, Array<Function>")):null!==o||!0!==l&&!0!==d?Array.isArray(o)&&o.length>0?A({stateVars:o,descriptorVars:Object.keys(s),varAliases:Object.entries(t).filter(([,{listen:e}])=>null!=e).map(([e])=>e)}):(0,a.success)(!0):(0,a.fail)(new w.CoreError("[watchStore]: INVALID DESCRIPTOR FORMAT: 'all: true' or 'when: true' prop and empty 'vars' prop can't be used together")):(0,a.fail)(new w.CoreError("[watchStore] section invalid descriptor format: 'vars' type is expected to be non-empty Array<String> or Function"))},Z=(e,t)=>"function"===typeof e?e.bind(t):t[e].bind(t),K=(e,t)=>"function"===typeof e?e.call(t,t):e,X=(e,t)=>"function"===typeof e?e.bind(t):"string"===typeof e?t[e].bind(t):e,J=(e,t)=>null===e?t:e.reduce((e,s)=>({...e,[s]:t[s]}),{}),ee=(e,t,s)=>[].concat(s).filter(e=>"function"===typeof e).every(s=>s(e,t)),te=(e,{vars:t,when:s,handler:r})=>{const i=K(t,e);if("function"===typeof t&&0===i?.length)return;const a=J(i,e.$storeState),n=Object.values(a);ee(n,a,s)&&r(n,a)},se={[Q.ANY](e,{vars:t,when:s,handler:r}){return()=>{s=X(s,e),te(e,{vars:t,when:s,handler:r})}},[Q.ALL](e,{vars:t,handler:s,when:r}){return()=>{r=[e=>e.every(e=>void 0!==e),...[X(r,e)].flat()],te(e,{vars:t,when:r,handler:s})}},[Q.ALL_VARS](e,{handler:t}){return()=>{t(Object.values(e.$storeState),e.$storeState)}}},re=e=>{const t=se[e];if(null==t)throw new w.CoreError(`Watch store strategy '${e}' not implemented. Check your component '${W}' options`);return t},ie=(e,t,s={immediate:!0})=>{const{id:r,all:i=!1,vars:a=null,handler:n,when:o=!1}=t,{descriptor:{vars:l},props:{varAliases:d}}=e,{isError:c,error:u}=Y({...t,all:i,vars:a,when:o},{varAliases:d,varsDescriptor:l});c&&[u].flat().forEach(t=>{e.handleError(t,{scope:"watchStore"})});const p=()=>{const t=K(a,e)??[],s="function"===typeof a?t:[];return JSON.stringify(null===a?e.$storeState:t.map(t=>e.$storeState[t]).concat(s))},h=re(G({vars:a,all:i,when:o})),m=h(e,{id:r,vars:a,handler:Z(n,e),when:o}),f=e.$watch(p,()=>e.$nextTick(m),s);return{watcherDisposal:f,watcherHandler:m}};function ae({id:e,handler:t,vars:s,all:r=!1,when:i=!1}){return ie(this,{id:e,handler:t,vars:s,all:r,when:i})}const ne=e=>{const t=e.$options[W]??[],{disposals:s,handlersMap:r}=t.map(t=>({...ie(e,t),id:t.id})).reduce((e,{watcherDisposal:t,watcherHandler:s,id:r})=>{const{disposals:i,handlersMap:a}=e;return i.push(t),null!=r&&a.set(r,s),e},{disposals:[],handlersMap:new Map}),i=ae.bind(e);return i.applyWatcher=e=>{r.has(e)&&r.get(e).call()},{disposals:s,$watchStore:i}},oe=(e,t)=>null==e?t:e===Array?[t].flat():e instanceof z?[t].flat().map(t=>oe(e.type,t)):t instanceof Array?oe(e,t[0]):"function"===typeof e?e(t):t,le=({externalState:e,varAliases:t=null,varsDescriptor:s={}},{unwrapStoreValue:r=d.unwrapStoreValue}={})=>{if(null===t)return Object.entries(e).reduce((e,[t,s])=>({...e,[t]:r(s)}),{});const i=Object.entries(t).reduce((t,[s,i])=>{const{listen:a}=i;if(null==a||0===String(a).length)return t;if(a in e){const i=e[a];return{...t,[s]:r(i)}}return t},{});return i},de=(e,{varsDescriptor:t})=>{const s=Object.entries(e).reduce((e,[s,r])=>{const i=t[s]?.type;if(null==i)return{...e,[s]:r};const a=oe(i,r);return{...e,[s]:a}},{});return s},ce=(e,t,{varsDescriptor:s})=>{const r=Object.entries(e).reduce((e,[r,i])=>{if(null==s[r]||null==t[r])return e;let a=(typeof t[r]).toLowerCase();const{strict:n=!1}=s[r];if(!1===n)return e;let o=(typeof i).toLowerCase();if(o!==a)return Array.isArray(i)&&(o="array"),Array.isArray(t[r])&&(a="array"),e.push(new w.CoreWarning(`[Store]: typeof this.$storeState['${r}'] is "${o}" !== descriptor.vars['${r}'].type is "${a}")`,{reason:{storeValue:i,expectedValue:t[r]}})),e;if("object"!==a)return e;if(t[r].constructor.name!==i.constructor.name)return e.push(new w.CoreWarning(`[Store]: typeof this.$storeState['${r}'] is "${i.constructor.name.toLowerCase()}" !== descriptor.vars['${r}'].type is "${t[r].constructor.name.toLowerCase()}")`,{reason:{storeValue:i,expectedValue:t[r]}})),e;if(Array.isArray(i)){const s=i.find(e=>typeof e!==typeof t[r][0]);if(null!=s)return e.push(new w.CoreWarning(`[Store]: typeof this.$storeState['${r}'] "${typeof s}[]" !== descriptor.vars['${r}'].type is "${typeof t[r][0]}[]")`,{reason:{storeValue:i,expectedValue:t[r]}})),e}return e},[]);return r.length>0?(0,a.fail)(r):(0,a.success)(null)},ue=({internalState:e,varAliases:t=null,varsDescriptor:s={}},{buildStoreValue:r=d.buildStoreValue}={})=>{if(null===t){const t=Object.entries(e).reduce((e,[t,s])=>({...e,[t]:r(s)}),{});return t}const i=Object.entries(e).reduce((e,[s,i])=>{const{trigger:a,meta:n}=t[s]||{};return null!=a&&String(a).length>0?{...e,[a]:r(i,n)}:e},{});return i};var pe=s(46996),he=s(36380);function me(e,t){if(null==e)return t;const s=Object.entries(e).reduce((e,[s,r])=>{const i=t[s];if(null!==i&&"object"===typeof i&&!1===Array.isArray(i)){const t=me(r,i);return Object.keys(t).length>0||null==r?{...e,[s]:t}:e}return Object.hasOwn(t,s)?void 0===i?e:!1===(0,pe.A)(r,i)?{...e,[s]:i}:e:{...e,[s]:r}},{}),r=Object.keys(t);if(0===r.length)return s;const i=r.filter(t=>!Object.hasOwn(e,t)).reduce((e,s)=>({...e,[s]:t[s]}),{});return{...s,...i}}function fe(e,t){return(0,he.A)({},e,t,(e,t)=>void 0===t?e:null===t||Array.isArray(t)?t:"object"===typeof t?fe(e,t):t)}},7543:(e,t,s)=>{s.r(t),s.d(t,{DREMIO_CONFIG_DESCRIPTOR_PROPS_ACCESSOR:()=>c,DremioError:()=>E,DremioErrorMessages:()=>b,DremioPresentableError:()=>_,DremioServiceName:()=>o,DremioServiceSymbol:()=>l,Errors:()=>d.Errors,ProjectDataProviderRepository:()=>n,ProjectDataProviderRepositoryClass:()=>a,Query:()=>d.Query,SDK:()=>d.SDK,SDKFactory:()=>p,createDremioService:()=>x,mixin:()=>I,optionsSchema:()=>T,useDremio:()=>D,useDremioDescriptor:()=>f,useSDKDataProvider:()=>m,useSDKFactory:()=>h});var r=s(37364),i=s(89968);class a{_dataProvidersMap=new Map;get(){return[...this._dataProvidersMap.values()]}getById(e){return this._dataProvidersMap.get(e)}set(e){return this._dataProvidersMap=new Map(e.map(e=>[e.id,e])),this}getDefault(){const e=this.get(),t=e.find(({isDefault:e})=>e);return null!=t?t:e.length>0?e[0]:null}}const n=new a,o="Dremio",l=Symbol.for(o);var d=s(62274);const c="dremio",u=e=>{const t=n.getById(e)??n.getDefault();if(null!=t){const{connector:e,connection:s}=t;return{host:e.url,connection:s?.code}}return null},p=(e={},t={})=>{const{dataProviderId:s}=t,r=u(s);return null!=r&&(e.host=r.host,e.connection=r.connection),i.ServiceProvider.use(l).withOptions(e).get()},h=e=>{const t=e?.dataProviderId;return p(void 0,{dataProviderId:t})},m=(e,t)=>{if(null==t)return e;const s=u(t.dataProviderId);return null!=s&&(e.config.host=s.host,e.config.connection=s.connection),e},f=e=>()=>(0,r.A)({props:{[c]:{type:Object,default:null}}},e());var g=s(20903),y=s(17412),v=s(73663);const b={CANCEL:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±Ñ‹Ð»Ð° Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð°",COMMON:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ ÑÐµÑ€Ð²ÐµÑ€Ð°"};class E extends v.InfrastructureError{context;static createFromSDKError(e){const{message:t,...s}=e;return new E(t,s)}constructor(e,...t){super(e,...t),this.name="DremioError"}}class _ extends v.PresentableError{_reason;static createFromDremioError(e,{message:t}={}){const{code:s}=e,r=[t??b.COMMON];401===s&&r.push(": Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ."),500===s&&r.push(": Ð¿Ñ€Ð¸ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°.");const i=new _(r.join(""),{reason:e});return i}constructor(e,{reason:t}={}){super(e),this.name="DremioPresentableError",this._reason=t}toDebugString(){const{reason:e}=this,t=super.toString();return null!=e?`${t}\n${e}`:t}get reason(){return this._reason}setContext(e){null!=this._reason&&"context"in this._reason!==!1&&(this._reason.context=e)}}class S{isCancelled=!1;cancel(){this.isCancelled=!0}}const I={mixins:[(0,y.useFetchDataEventMixin)({methodName:"loadData"})],data(){return{offset:0,result:null,queryHelper:null,watchStoreState:!0,loadDataHooks:{defaults:{before:()=>{this.loading=!0},catch:e=>this.handleError(e),finally:()=>{this.loading=!1}},before:e=>this.loadDataHooks.defaults.before(e),then:e=>e,catch:e=>this.loadDataHooks.defaults.catch(e),finally:()=>this.loadDataHooks.defaults.finally()},loading:!1,error:null}},computed:{limit(){const{[c]:e}=this.props;return e&&null!=e.limit?e.limit:0},rowCount(){return this.result?this.result.rowCount:0},page:{set(e){this.offset=(e-1)*this.limit},get(){return this.limit?this.offset/this.limit+1:1}},pages(){return this.limit?Math.ceil(this.rowCount/this.limit):1},dremioStr(){try{return JSON.stringify(this.props[c])}catch{return null}}},created(){this.dremioSdk=h(this.props[c]),this.dremioVars=[],this.dremioHandler(),this.watchStoreState&&this.$watchStore({handler:(e,t)=>this.storeStateWatcher(t)}),this.isEditorMode&&(this.$watch(()=>this.props[c]?.dataProviderId,this.dataProviderChangeHandler),this.$watch("dremioStr",this.dremioHandler))},destroyed(){this.dremioSdk.cancelActiveRequests()},methods:{dataProviderChangeHandler(){this.dremioSdk=h(this.props[c])},loadData(){this.dremioSdk.cancelActiveRequests();const e=new S;if(this.loadDataHooks.before(e.cancel.bind(e)),!0===e.isCancelled)return;const t=this.queryHelper.buildQuery();this.dremioSdk.getData(t,this.offset,this.limit).then(e=>{this.result=e,this.loadDataHooks.then(e)}).catch(this.loadDataHooks.catch).finally(this.loadDataHooks.finally)},dremioHandler(){const{[c]:e}=this.props;null!=e?(this.queryHelper=new d.Query((0,g.A)(e)),this.setDremioVars(),this.loadData()):this.result=null},setDremioVars(){const e=this.getDremioQueryParamNames();this.dremioVars=this.dremioVars.reduce((t,s)=>e.includes(s)?(t.push(s),t):(this.$delete(this.descriptor.vars,s),t),[]),e.forEach(e=>{const t={description:e};this.$set(this.descriptor.vars,e,t),this.dremioVars.push(e)})},applyDremioFilters(e){if(null==this.queryHelper)return!1;let{query:t}=this.queryHelper,s=!1;const r=this.getDremioQueryParamNames();return Object.entries(e).filter(([e])=>r.includes(e)).forEach(([e,r])=>{const{[d.Query.KEY.FILTERS]:i}=t,a=this.createDremioFilter(e,r);null!=r&&!1!==d.Query.validateFilter(a)||!i.some(t=>Object.keys(t).some(t=>t===e))||(t=d.Query.queryRemoveFilter(t,e),s=!0),null!=r&&(t=d.Query.queryInsertUpdateFilter(t,a),s=!0)}),s},createDremioFilter(e,t){const s=Array.isArray(t),r=[t].flat(),i=r.includes(null),{FILTER_TYPE:a}=d.Query,n=i?a.IS:s?a.IN:a.EQ;return d.Query.createFilter({name:e,type:n,value:r})},getDremioQueryParamNames(){if(null==this.queryHelper)return[];const{query:e,dimensionList:t}=this.queryHelper,s=d.Query.queryMetricNames(e),r=Object.keys(t),i=d.Query.queryFieldNames(e);return[...s,...r,...i]},storeStateWatcher(e){0!==Object.keys(e).length&&this.$nextTick(()=>{this.applyDremioFilters(e)&&(this.offset=0,this.loadData())})},handleError(e){this.super().handleError.call(this,e),e instanceof _!==!1&&!1!==this.isEditorMode&&(this.error=e)}}},D=()=>({mixin:I}),M=(e,{humanReadableMessage:t}={})=>{if(e instanceof d.Errors.SDKCancelRequestError)return new v.RequestCancel(b.CANCEL);const s=E.createFromSDKError(e);return setTimeout(()=>{throw s}),_.createFromDremioError(s,{message:t})},x=(e={})=>{const{baseURL:t,...r}=e;try{const e=new d.SDK({host:t,beforeRequest:async()=>{const{AuthManager:t}=await s.e(9565).then(s.t.bind(s,29565,23)),{adapter:r}=t.instance;if(null!=r)try{await r.updateToken(),e.config.authToken=r.token}catch{}},processResponseError:M,processResponseResult:({rows:e,...t})=>({...t,rows:e.map(Object.freeze)}),...r});return e}catch(i){throw M(i,{humanReadableMessage:"Dremio instance creation error"})}},T={baseURL:window.location.origin}},8397:(e,t,s)=>{var r=s(12200);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("04e4b008",r,!0,{sourceMap:!1,shadowMode:!1})},9219:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".badge[data-v-9e7a1df6]{font-size:.8rem}.badge--default[data-v-9e7a1df6]{border:1px var(--color-muted) solid;background-color:transparent}",""]);const l=o},10058:(e,t,s)=>{s.r(t),s.d(t,{BaseEntity:()=>c,DomainError:()=>r,ModelError:()=>n,ModelValidator:()=>m,SimpleEntity:()=>h,ValidationError:()=>i});class r extends Error{}class i extends r{data={};constructor(e,t={}){super(e,t),this.data=t}toString(){return this.message}}var a=s(73663);class n extends r{_errors=[];static createFromErrors(e){return new this(void 0,e)}constructor(e="Model error",t=[]){super(e),this.name="ModelError",this._errors=t}get errors(){return this._errors}getError(e){if(null==e)throw new a.CoreError("condition argument required");return this._errors.find(({data:t})=>Object.entries(e).every(([e,s])=>t[e]===s))}hasError(e){return this._errors.some(({data:t})=>Object.entries(e).every(([e,s])=>t[e]===s))}isValid(e){return!this.hasError(e)}[Symbol.iterator](){return this._errors.values()}}var o=s(44526);class l{constructor(e){this.value=e}equals(e){return null!=e&&(e instanceof this.constructor&&e.toValue()===this.value)}toString(){return String(this.value)}toValue(){return this.value}}class d extends l{constructor(e){super(e??(0,o.A)())}}class c{_id;_props;static create(e,t){return new this(e,t)}constructor(e,t){this._id=void 0===t?new d:t,this._props=e}get id(){return this._id}}var u=s(20903),p=s(14120);class h extends c{constructor(...e){return super(...e),(0,p.decorateObjectWithProxy)(this,this._props)}toJSON(){return(0,u.A)(this._props)}toString(){return JSON.stringify(this.toJSON())}}class m{validate(e){return(0,p.success)(!0)}}},10232:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=s(4417),l=s.n(o),d=new URL(s(79651),s.b),c=n()(i()),u=l()(d);c.push([e.id,`.WidgetPlaceholder_root_V1ezq{min-height:60px}.WidgetPlaceholder_code_et7ao{padding:.5rem .5rem;border-top-right-radius:0;border-top-left-radius:0;min-height:100%;gap:8px}.WidgetPlaceholder_mark_MEmiW{padding:.25rem .5rem;border-bottom-right-radius:0;border-bottom-left-radius:0}.WidgetPlaceholder_slot_LjX1e{border:1px solid var(--color-muted);opacity:.4;-webkit-transition:opacity .5s;transition:opacity .5s;background:url(${u})}.WidgetPlaceholder_slot--active_pXJ9d{opacity:1;background:transparent;border:none}.WidgetPlaceholder_slot_LjX1e:hover:not(.WidgetPlaceholder_slot--active_pXJ9d){opacity:.65;cursor:copy;border:1px solid var(--color-green)}`,""]),c.locals={root:"WidgetPlaceholder_root_V1ezq d-flex flex-col",code:"WidgetPlaceholder_code_et7ao d-flex flex-col flex-grow flex-v-center flex-h-center",mark:"WidgetPlaceholder_mark_MEmiW",slot:"WidgetPlaceholder_slot_LjX1e d-flex w-100 pad-v-3 flex-v-center flex-h-center","slot--active":"WidgetPlaceholder_slot--active_pXJ9d"};const p=c},12200:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".ui-sidebar.is-size-normal[data-v-3d152656]{width:340px}.ui-sidebar.is-size-small[data-v-3d152656]{width:280px}",""]);const l=o},12382:(e,t,s)=>{s.d(t,{DC:()=>u,DE:()=>n,FG:()=>h,L7:()=>m,OX:()=>d,W6:()=>o,qi:()=>l,ug:()=>c});var r=s(29599),i=s(14120);const a={datasetMeta:{ALL:{url:"api/dataset-meta",options:{method:r.ApiClientMethod.GET}},SEARCH:{url:"api/dataset-meta/search",options:{method:r.ApiClientMethod.GET}},COUNT_BY_FOLDER:{url:"api/dataset-meta/count",options:{method:r.ApiClientMethod.GET}}},dataset:{GET:{url:"api/dataset/:id",options:{method:r.ApiClientMethod.GET}},SEARCH:{url:"api/dataset/search",options:{method:r.ApiClientMethod.GET}},UPLOAD:{url:"api/dataset/upload",options:{method:r.ApiClientMethod.POST}},CLONE:{url:"api/dataset/:id/clone",options:{method:r.ApiClientMethod.POST}},CREATE:{url:"api/dataset",options:{method:r.ApiClientMethod.POST}},UPDATE:{url:"api/dataset/:id",options:{method:r.ApiClientMethod.PUT}},DELETE:{url:"api/dataset/:id",options:{method:r.ApiClientMethod.DELETE}},CHANGE_OWNER:{url:"api/dataset/:id/object-owner-change",options:{method:r.ApiClientMethod.PUT}},PREVIEW:{url:"api/dataset/preview",options:{method:r.ApiClientMethod.POST}},CODE_EXISTS:{url:"/api/dataset/code/:code",options:{method:r.ApiClientMethod.GET}}},folder:{ALL:{url:"api/folder",options:{method:r.ApiClientMethod.GET}},GET:{url:"api/folder/:id",options:{method:r.ApiClientMethod.GET}},CREATE:{url:"api/folder",options:{method:r.ApiClientMethod.POST}},UPDATE:{url:"api/folder/:id",options:{method:r.ApiClientMethod.PUT}},DELETE:{url:"api/folder/:id",options:{method:r.ApiClientMethod.DELETE}},CHANGE_OWNER:{url:"api/folder/:id/object-owner-change",options:{method:r.ApiClientMethod.PUT}},CODE_EXISTS:{url:"/api/folder/code/:code",options:{method:r.ApiClientMethod.GET}},COUNT_BY_FOLDER:{url:"api/folder/children-count",options:{method:r.ApiClientMethod.GET}}},entity:{ALL:{url:"api/dataset-entity",options:{method:r.ApiClientMethod.GET}},BATCH_UPDATE:{url:"api/dataset-entity/batch-update",options:{method:r.ApiClientMethod.POST}}},variable:{ALL:{url:"api/variable",options:{method:r.ApiClientMethod.GET}},BATCH_UPDATE:{url:"api/variable/batch-update",options:{method:r.ApiClientMethod.POST}}},entityTemplate:{ALL:{url:"api/dataset-entity-template",options:{method:r.ApiClientMethod.GET}},SEARCH:{url:"api/dataset-entity-template/search",options:{method:r.ApiClientMethod.GET}},GET:{url:"api/dataset-entity-template/:id",options:{method:r.ApiClientMethod.GET}},CLONE:{url:"api/dataset-entity-template/:id/clone",options:{method:r.ApiClientMethod.POST}},CREATE:{url:"api/dataset-entity-template",options:{method:r.ApiClientMethod.POST}},UPDATE:{url:"api/dataset-entity-template/:id",options:{method:r.ApiClientMethod.PUT}},DELETE:{url:"api/dataset-entity-template/:id",options:{method:r.ApiClientMethod.DELETE}},CHANGE_OWNER:{url:"api/dataset-entity-template/:id/object-owner-change",options:{method:r.ApiClientMethod.PUT}},CODE_EXISTS:{url:"/api/dataset-entity-template/code/:code",options:{method:r.ApiClientMethod.GET}},COUNT_BY_FOLDER:{url:"api/dataset-entity-template/count",options:{method:r.ApiClientMethod.GET}}},entityTemplateFolder:{ALL:{url:"api/dataset-entity-template-folder",options:{method:r.ApiClientMethod.GET}},GET:{url:"api/dataset-entity-template-folder/:id",options:{method:r.ApiClientMethod.GET}},CREATE:{url:"api/dataset-entity-template-folder",options:{method:r.ApiClientMethod.POST}},UPDATE:{url:"api/dataset-entity-template-folder/:id",options:{method:r.ApiClientMethod.PUT}},DELETE:{url:"api/dataset-entity-template-folder/:id",options:{method:r.ApiClientMethod.DELETE}},CHANGE_OWNER:{url:"api/dataset-entity-template-folder/:id/object-owner-change",options:{method:r.ApiClientMethod.PUT}},CODE_EXISTS:{url:"/api/dataset-entity-template-folder/code/:code",options:{method:r.ApiClientMethod.GET}},COUNT_BY_FOLDER:{url:"api/dataset-entity-template-folder/count",options:{method:r.ApiClientMethod.GET}}},entityTemplateProject:{ALL:{url:"api/dataset-entity-template-project",options:{method:r.ApiClientMethod.GET}}},externalSource:{GET_TABLE_SCHEMA:{url:"api/external-source/table-schema",options:{method:r.ApiClientMethod.GET}},GET_FIELD_SCHEMA:{url:"/api/external-source/field-schema",options:{method:r.ApiClientMethod.GET}}},adapter:{ALL:{url:"api/v1/adapters",options:{method:r.ApiClientMethod.GET}}},adapterManager:{ALL:{url:"api/adapter-manager",options:{method:r.ApiClientMethod.GET}}},connection:{ALL:{url:"api/v1/connections",options:{method:r.ApiClientMethod.GET}},GET:{url:"api/v1/connections/:id",options:{method:r.ApiClientMethod.GET}},CREATE:{url:"api/v1/connections",options:{method:r.ApiClientMethod.POST}},UPDATE:{url:"api/v1/connections/:id",options:{method:r.ApiClientMethod.PUT}},DELETE:{url:"api/v1/connections/:id",options:{method:r.ApiClientMethod.DELETE}},CHANGE_OWNER:{url:"api/v1/connections/:id/object-owner-change",options:{method:r.ApiClientMethod.PUT}},CLONE:{url:"api/v1/connections/:id/clone",options:{method:r.ApiClientMethod.POST}},CODE_EXISTS:{url:"/api/v1/connections/code/:code",options:{method:r.ApiClientMethod.GET}}},materialization:{ALL:{url:"api/dataset-materialization",options:{method:r.ApiClientMethod.GET}},CREATE:{url:"api/dataset-materialization",options:{method:r.ApiClientMethod.POST}},UPDATE:{url:"api/dataset-materialization/:id",options:{method:r.ApiClientMethod.PUT}},DELETE:{url:"api/dataset-materialization/:id",options:{method:r.ApiClientMethod.DELETE}}},materializationPlanner:{GET_SCHEDULE:{url:"api/dataset-materialization-planner/schedule",options:{method:r.ApiClientMethod.GET}},UPDATE_SCHEDULE:{url:"api/dataset-materialization-planner/batch-update",options:{method:r.ApiClientMethod.POST}},REFRESH:{url:"api/dataset-materialization-planner/refresh",options:{method:r.ApiClientMethod.POST}}}},n={DATASET:1,REST:2},o={METRIC:1,DIMENSION:2},l={DEFAULT:1},d={INPROGRESS:"INPROGRESS",COMPLETED:"COMPLETED",FAILED:"FAILED"},c={RAW:1,INTERVAL:2,TIMESTAMP:3},u=(e,t)=>e.typeId===t,p=e=>{const{schema:t}=e;let s=t;if("string"===typeof t)try{s=JSON.parse(t)}catch(r){}return{...e,schema:s}};class h extends r.BaseApiService{context({url:e}){return this._client.baseURL=e,this}get adapter(){const e=()=>{const e=a.adapter.ALL,t=(0,r.buildRequest)({action:e});return this.request(t)};return{getAll:e}}get adapterManager(){const e=()=>{const e=a.adapterManager.ALL,t=(0,r.buildRequest)({action:e});return this.request(t)};return{getAll:e}}get connection(){const e=()=>{const e=a.connection.ALL,t=(0,r.buildRequest)({action:e});return this.request(t)},t=e=>{const t=a.connection.GET,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},s=e=>{const t=a.connection.CREATE,s=(0,r.buildRequest)({action:t,params:e});return this.request(s)},n=e=>{const t=a.connection.UPDATE,s=(0,r.buildRequest)({action:t,params:e,pathParams:{id:e.id}});return this.request(s)},o=e=>{const t=a.connection.DELETE,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},l=({id:e,ownerGroupId:t})=>{const s=a.connection.CHANGE_OWNER,i=(0,r.buildRequest)({action:s,pathParams:{id:e},params:{assignedOwnerGroupId:t}});return this.request(i)},d=e=>{const t=a.connection.CLONE,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},c=async({code:e,excludeId:t})=>{const s=a.connection.CODE_EXISTS,{error:n,isSuccess:o}=await super.request((0,r.buildRequest)({action:s,pathParams:{code:e},params:{excludeId:t}}));return o?(0,i.success)(!0):n instanceof r.ApiServiceError&&n.code===r.ApiServiceError.Code.NOT_FOUND?(0,i.success)(!1):(0,i.fail)(n)},u=e=>{const t=new Error("Method not yet implemented");return i.SafeResult.fail(t)};return{getAll:e,get:t,create:s,update:n,delete:o,clone:d,restore:u,codeExists:c,changeOwner:l}}get dataset(){const e=async({code:e})=>{const t=a.dataset.SEARCH,s=(0,r.buildRequest)({action:t,params:{query:e,field:"code",exact:!0}}),n=await this.request(s);return n.isError?n:0===n.result.length?i.SafeResult.fail(new r.ApiServiceError(`Dataset with code "${e}" not found in "${s.url}"`,{code:r.ApiServiceError.Code.NOT_FOUND})):i.SafeResult.success(p(n.result[0]))},t=async({id:e})=>{const t=a.dataset.GET,s=(0,r.buildRequest)({action:t,pathParams:{id:e}}),n=await this.request(s);return n.isSuccess?i.SafeResult.success(p(n.result)):n},s=async({name:e,file:t,folderId:s,config:n,onUploadProgress:o})=>{const l={folderId:s,name:e,config:JSON.stringify(n)},d=a.dataset.UPLOAD,c=new FormData;c.append("file",new File([t],t.name,{type:t.type})),c.append("res",new Blob([JSON.stringify(l)],{type:"application/json"}));const u=(0,r.buildRequest)({action:d,params:c,options:{onUploadProgress:o}}),h=await this.request(u);return h.isSuccess?i.SafeResult.success(p(h.result)):h},n=async({id:e,name:t,folderId:s})=>{const n=a.dataset.CLONE,o=(0,r.buildRequest)({action:n,params:{name:t,folderId:s},pathParams:{id:e}}),l=await this.request(o);return l.isSuccess?i.SafeResult.success(p(l.result)):l},o=async e=>{const t=a.dataset.CREATE,s=(0,r.buildRequest)({action:t,params:e}),n=await this.request(s);return n.isSuccess?i.SafeResult.success(p(n.result)):n},l=async({id:e,schema:t,...s})=>{const n=a.dataset.UPDATE,o=(0,r.buildRequest)({action:n,params:{...s,schema:""},pathParams:{id:e}}),l=await this.request(o);return l.isSuccess?i.SafeResult.success(p(l.result)):l},d=async({id:e})=>{const t=a.dataset.DELETE,s=(0,r.buildRequest)({action:t,pathParams:{id:e}}),n=await this.request(s);return n.isSuccess?i.SafeResult.success(p(n.result)):n},c=({id:e,ownerGroupId:t})=>{const s=a.dataset.CHANGE_OWNER,i=(0,r.buildRequest)({action:s,pathParams:{id:e},params:{assignedOwnerGroupId:t}});return this.request(i)},u=async({dataset:e,metrics:t=[],dimensions:s=[],variables:n=[],order:o=[],limit:l,offset:d})=>{const c={query:{$sql:e.definition,$metrics:t.map(({name:e,definition:t})=>({name:e,definition:t})),$dimensions:s.map(({name:e,definition:t})=>({name:e,definition:t})),$variables:n.map(({name:e,defaultValue:t,typeId:s,isNullable:r})=>({[e]:{defaultValue:t,typeId:s,isNullable:r}})),$order:o},limit:l,offset:d},u=a.dataset.PREVIEW,p=(0,r.buildRequest)({action:u,params:c}),h=await this.request(p);if(h.isSuccess){const{result:e}=h;return i.SafeResult.success({...e,limit:l,offset:d})}return h},h=async({code:e,excludeId:t=null})=>{const s=a.dataset.CODE_EXISTS,{error:n,isSuccess:o}=await super.request((0,r.buildRequest)({action:s,pathParams:{code:e},params:{excludeId:t}}));return o?(0,i.success)(!0):n instanceof r.ApiServiceError&&n.code===r.ApiServiceError.Code.NOT_FOUND?(0,i.success)(!1):(0,i.fail)(n)};return{codeExists:h,getByCode:e,get:t,upload:s,clone:n,create:o,update:l,delete:d,preview:u,changeOwner:c}}get datasetMeta(){const e=({id:e})=>Promise.all([this.dataset.get({id:e}),this.datasetEntity.getAll({datasetId:e}),this.variable.getAll({datasetId:e})]).then(([{result:e},{result:t},{result:s}])=>i.SafeResult.success({dataset:e,variables:s,metrics:t.filter(e=>u(e,o.METRIC)),dimensions:t.filter(e=>u(e,o.DIMENSION))})),t=async({folderId:e})=>{const t=a.datasetMeta.ALL,s=(0,r.buildRequest)({action:t,params:{folderId:e}}),n=await this.request(s);if(n.isSuccess){const e=n.result.map(({dataset:e,datasetEntity:t})=>({dataset:p(e),metrics:t.filter(e=>u(e,o.METRIC)),dimensions:t.filter(e=>u(e,o.DIMENSION))}));return i.SafeResult.success(e)}return n},s=async({query:e,templateId:t})=>{const s=a.datasetMeta.SEARCH,n=(0,r.buildRequest)({action:s,params:{query:e,templateId:t}}),l=await this.request(n);if(l.isSuccess){const e=l.result.map(({dataset:e,datasetEntity:t})=>({dataset:p(e),metrics:t.filter(e=>u(e,o.METRIC)),dimensions:t.filter(e=>u(e,o.DIMENSION))}));return i.SafeResult.success(e)}return l},n=({folderIds:e=[]})=>{const t=a.datasetMeta.COUNT_BY_FOLDER,s=(0,r.buildRequest)({action:t,params:{folderIds:e}});return this.request(s)};return{get:e,getAll:t,search:s,countChildren:n}}get datasetFolder(){const e=({parentFolderId:e=null}={})=>{const t=a.folder.ALL,s=(0,r.buildRequest)({action:t,params:{parentId:e}});return this.request(s)},t=({id:e})=>{const t=a.folder.GET,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},s=e=>{const t=a.folder.CREATE,s=(0,r.buildRequest)({action:t,params:e});return this.request(s)},n=e=>{const t=a.folder.UPDATE,s=(0,r.buildRequest)({action:t,params:e,pathParams:{id:e.id}});return this.request(s)},o=({id:e})=>{const t=a.folder.DELETE,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},l=({id:e,ownerGroupId:t})=>{const s=a.folder.CHANGE_OWNER,i=(0,r.buildRequest)({action:s,pathParams:{id:e},params:{assignedOwnerGroupId:t}});return this.request(i)},d=async({code:e,excludeId:t=null})=>{const s=a.folder.CODE_EXISTS,{error:n,isSuccess:o}=await super.request((0,r.buildRequest)({action:s,pathParams:{code:e},params:{excludeId:t}}));return o?(0,i.success)(!0):n instanceof r.ApiServiceError&&n.code===r.ApiServiceError.Code.NOT_FOUND?(0,i.success)(!1):(0,i.fail)(n)},c=({parentIds:e=[]}={})=>{const t=a.folder.COUNT_BY_FOLDER,s=(0,r.buildRequest)({action:t,params:{parentIds:e}});return this.request(s)};return{getAll:e,get:t,create:s,update:n,delete:o,codeExists:d,countChildren:c,changeOwner:l}}get datasetEntity(){const e=({datasetId:e})=>{const t=a.entity.ALL,s=(0,r.buildRequest)({action:t,params:{datasetId:e}});return this.request(s)},t=async({datasetId:e,metrics:t,dimensions:s})=>{const n=a.entity.BATCH_UPDATE,l={datasetId:e,datasetEntity:[...t,...s]},d=(0,r.buildRequest)({action:n,params:l}),c=await this.request(d);if(c.isSuccess){const{result:e}=c;return i.SafeResult.success({metrics:e.filter(e=>u(e,o.METRIC)),dimensions:e.filter(e=>u(e,o.DIMENSION))})}return c};return{getAll:e,batchUpdate:t}}get variable(){const e=({datasetId:e})=>{const t=a.variable.ALL,s=(0,r.buildRequest)({action:t,params:{datasetId:e}});return this.request(s)},t=async({datasetId:e,variables:t})=>{const s=a.variable.BATCH_UPDATE,i={datasetId:e,datasetVariable:t},n=(0,r.buildRequest)({action:s,params:i});return this.request(n)};return{getAll:e,batchUpdate:t}}get datasetEntityTemplate(){const e=({query:e})=>{const t=a.entityTemplate.SEARCH,s=(0,r.buildRequest)({action:t,params:{query:e}});return this.request(s)},t=({folderId:e=null}={})=>{const t=a.entityTemplate.ALL,s=(0,r.buildRequest)({action:t,params:{folderId:e}});return this.request(s)},s=({id:e})=>{const t=a.entityTemplate.GET,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},n=({id:e,name:t,folderId:s})=>{const i=a.entityTemplate.CLONE,n=(0,r.buildRequest)({action:i,params:{name:t,folderId:s},pathParams:{id:e}});return this.request(n)},o=e=>{const t=a.entityTemplate.CREATE,s=(0,r.buildRequest)({action:t,params:e});return this.request(s)},l=e=>{const t=a.entityTemplate.UPDATE,s=(0,r.buildRequest)({action:t,params:e,pathParams:{id:e.id}});return this.request(s)},d=({id:e})=>{const t=a.entityTemplate.DELETE,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},c=({id:e,ownerGroupId:t})=>{const s=a.entityTemplate.CHANGE_OWNER,i=(0,r.buildRequest)({action:s,pathParams:{id:e},params:{assignedOwnerGroupId:t}});return this.request(i)},u=async({code:e,excludeId:t=null})=>{const s=a.entityTemplate.CODE_EXISTS,{error:n,isSuccess:o}=await super.request((0,r.buildRequest)({action:s,pathParams:{code:e},params:{excludeId:t}}));return o?(0,i.success)(!0):n instanceof r.ApiServiceError&&n.code===r.ApiServiceError.Code.NOT_FOUND?(0,i.success)(!1):(0,i.fail)(n)},p=({folderIds:e=[]})=>{const t=a.entityTemplate.COUNT_BY_FOLDER,s=(0,r.buildRequest)({action:t,params:{folderIds:e}});return this.request(s)};return{search:e,getAll:t,get:s,clone:n,create:o,update:l,delete:d,codeExists:u,countChildren:p,changeOwner:c}}get datasetEntityTemplateFolder(){const e=({parentFolderId:e})=>{const t=a.entityTemplateFolder.ALL,s=null==e,i=(0,r.buildRequest)({action:t,params:{parentId:e,isRoot:s}});return this.request(i)},t=({id:e})=>{const t=a.entityTemplateFolder.GET,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},s=e=>{const t=a.entityTemplateFolder.CREATE,s=(0,r.buildRequest)({action:t,params:e});return this.request(s)},n=e=>{const t=a.entityTemplateFolder.UPDATE,s=(0,r.buildRequest)({action:t,params:e,pathParams:{id:e.id}});return this.request(s)},o=({id:e})=>{const t=a.entityTemplateFolder.DELETE,s=(0,r.buildRequest)({action:t,pathParams:{id:e}});return this.request(s)},l=({id:e,ownerGroupId:t})=>{const s=a.entityTemplateFolder.CHANGE_OWNER,i=(0,r.buildRequest)({action:s,pathParams:{id:e},params:{assignedOwnerGroupId:t}});return this.request(i)},d=async({code:e,excludeId:t=null})=>{const s=a.entityTemplateFolder.CODE_EXISTS,{error:n,isSuccess:o}=await super.request((0,r.buildRequest)({action:s,pathParams:{code:e},params:{excludeId:t}}));return o?(0,i.success)(!0):n instanceof r.ApiServiceError&&n.code===r.ApiServiceError.Code.NOT_FOUND?(0,i.success)(!1):(0,i.fail)(n)},c=({parentIds:e=[]})=>{const t=a.entityTemplateFolder.COUNT_BY_FOLDER,s=(0,r.buildRequest)({action:t,params:{parentIds:e}});return this.request(s)};return{getAll:e,get:t,create:s,update:n,delete:o,codeExists:d,countChildren:c,changeOwner:l}}get datasetEntityProject(){const e=()=>{const e=a.entityTemplateProject.ALL,t=(0,r.buildRequest)({action:e});return this.request(t)};return{getAll:e}}get externalSource(){const e=({connectionId:e,schema:t=[]})=>{const s=a.externalSource.GET_TABLE_SCHEMA,i=(0,r.buildRequest)({action:s,params:{connectionId:e,schema:t}});return this.request(i)},t=({connectionId:e,path:t=[]})=>{const s=a.externalSource.GET_FIELD_SCHEMA,i=(0,r.buildRequest)({action:s,params:{connectionId:e,path:t}});return this.request(i)};return{getTableSchema:e,getFieldSchema:t}}get materialization(){const{materialization:e}=a,t=e=>"string"===typeof e.schema?{...e,schema:JSON.parse(e.schema)}:e,s=async({datasetId:s})=>{const a=e.ALL,n=(0,r.buildRequest)({action:a,params:{datasetId:s}}),o=await this.request(n);return o.isError?o:i.SafeResult.success(o.result.map(e=>t(e)))},n=async s=>{const a=e.CREATE,n=(0,r.buildRequest)({action:a,params:s}),o=await this.request(n);return o.isError?o:i.SafeResult.success(t(o.result))},o=async s=>{const{id:a}=s,n=e.UPDATE,o=(0,r.buildRequest)({action:n,params:s,pathParams:{id:a}}),l=await this.request(o);return l.isError?l:i.SafeResult.success(t(l.result))},l=async({id:s})=>{const a=e.DELETE,n=(0,r.buildRequest)({action:a,pathParams:{id:s}}),o=await this.request(n);return o.isError?o:i.SafeResult.success(t(o.result))};return{getAll:s,create:n,update:o,delete:l}}get materializationPlanner(){const{materializationPlanner:e}=a,t=({materializationId:t})=>{const s=e.GET_SCHEDULE,i=(0,r.buildRequest)({action:s,params:{materializationId:t}});return this.request(i)},s=({materializationId:t,schedule:s})=>{const i=e.UPDATE_SCHEDULE,a=(0,r.buildRequest)({action:i,params:{materializationId:t,schedule:s}});return this.request(a)},i=({materializationId:t})=>{const s=e.REFRESH,i=(0,r.buildRequest)({action:s,params:{materializationId:t}});return this.request(i)};return{getSchedule:t,updateSchedule:s,refresh:i}}}const m=({client:e,options:t,transport:s}={})=>new h({client:e,options:t,transport:s})},12747:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var r=function(){var e=this,t=e._self._c;return t("w-panel",[t("ui-container",[t("ui-select",{attrs:{prop:e.getPropPath("refDatasetIndex"),options:e.datasetRequestsOptions}}),t("ui-select",{attrs:{prop:e.getPropPath("refDatasetKey"),options:e.buildDimensionsOptions(e.deviationsProp.refDatasetIndex)}}),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð²",slot:"default"}]}},[t("ui-container",[e._l(e.deviationsProp.datasets,function(s,r){return t("ui-collapse",{key:r,scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col col-vmid"},[e._v("Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº "+e._s(r))]),t("div",{staticClass:"col col-vmid col-auto"},[t("i",{staticClass:"mdi mdi-trash-can-outline color-red",on:{click:function(t){return t.stopPropagation(),e.onDeviationDatasetDelete(r)}}})])])]},proxy:!0}],null,!0)},[t("ui-container",[t("ui-select",{attrs:{prop:e.getPropPath(`datasets[${r}].index`),options:e.deviationDatasetOptions}}),t("ui-select",{attrs:{prop:e.getPropPath(`datasets[${r}].key`),options:e.buildDimensionsOptions(s.index)}})],1)],1)}),t("ui-button",{on:{click:e.onDeviationDatasetCreate}},[e._v("Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ñ")])],2)],1)]},proxy:!0}])},[t("ui-label",{attrs:{"label-size":"small",prop:e.getPropPath("datasets")}})],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ð¹",slot:"default"}]}},[t("ui-container",[e._l(e.deviationsProp.rules,function(s,r){return t("ui-collapse",{key:r,scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col col-vmid"},[e._v(e._s(s.name))]),t("div",{staticClass:"col col-vmid col-auto"},[t("i",{staticClass:"mdi mdi-content-copy mr-2",on:{click:function(t){return t.stopPropagation(),e.onDeviationRuleCopy(s)}}}),t("i",{staticClass:"mdi mdi-trash-can-outline color-red",on:{click:function(t){return t.stopPropagation(),e.onDeviationRuleDelete(r)}}})])])]},proxy:!0}],null,!0)},[t("ui-container",[t("ui-input",{attrs:{value:e.deviationsProp.rules[r].name},on:{change:t=>e.onRuleNameChange(t,r)}}),t("ui-textarea",{attrs:{value:e.deviationsProp.rules[r].formula,placeholder:"ÐšÐ’Ð”Ð¢($('0.ÐœÐµÑ‚Ñ€') - $('1.ÐœÐµÑ‚Ñ€'))"},on:{change:t=>e.onFormulaChange(t,r)},scopedSlots:e._u([{key:"hint",fn:function(){return[t("div",[e._v("Ð”Ð»Ñ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ñ‹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð²ÑÐµ Ð°Ñ€Ð¸Ñ„Ð¼ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ (+-*/).")]),t("p",[e._v("Ð˜ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸:")]),t("div",{staticClass:"grid"},[e._l(e.DeviationContext,function({name:s,summary:r}){return[t("code",{staticClass:"text-center",staticStyle:{"line-height":"1.33"}},[e._v(e._s(s))]),t("span",{staticClass:"text-right"},[e._v(e._s(r))])]})],2)]},proxy:!0}],null,!0)})],1)],1)}),t("ui-button",{on:{click:e.onDeviationRuleCreate}},[e._v("Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ðµ")])],2)],1)]},proxy:!0}])},[t("ui-label",{attrs:{"label-size":"small",prop:e.getPropPath("rules")}})],1)],1)],1)},i=[],a=s(21613),n=s(14120),o=s(35941),l=s(21230),d=s(91780),c=s(33706);const u={extends:a.Panel,meta:{name:"ÐžÑ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ñ",icon:"vector-selection",index:100},mixins:[o.uQ],static:{DEVIATIONS_PROP:l.R,DeviationContext:d.tR},computed:{datasetRequestsOptions(){return[{value:null,label:""},...this.datasetRequests.map(({name:e},t)=>({value:t,label:`${e} [${t}]`}))]},deviationDatasetOptions(){const{refDatasetIndex:e}=this.deviationsProp;return null==e?this.datasetRequestsOptions:this.datasetRequestsOptions.filter(({value:t})=>t!==e)},deviationsProp(){return this.props[this.DEVIATIONS_PROP]??{}},lastDeviationRuleIndex(){return this.deviationsProp.rules.map(({name:e})=>parseInt(e.replace(d._M,""),10)).reduce((e,t)=>Math.max(e,t),0)}},methods:{...o.xs,getPropPath(e,t=this.DEVIATIONS_PROP){return`${t}.${e}`},buildDimensionsOptions(e){const t=this.queryModels[e],s=(0,c.IE)([t],["dimensions"]);return this.buildOptions(s,{empty:!0})},saveDeviations(){this.propChanged(this.DEVIATIONS_PROP)},onDeviationRuleCreate(){const{props:e,descriptor:t,DEVIATIONS_PROP:s,lastDeviationRuleIndex:r}=this,{rules:i}=e[s],{createRule:a}=t.props[s].options,n=a({name:`${d._M} ${r+1}`});i.push(n),this.saveDeviations()},onDeviationRuleCopy(e){const{props:t,DEVIATIONS_PROP:s,lastDeviationRuleIndex:r}=this,{rules:i}=t[s];i.push({...e,name:`${d._M} ${r+1}`}),this.saveDeviations()},onDeviationRuleDelete(e){this.deviationsProp.rules.splice(e,1),this.saveDeviations()},onDeviationDatasetCreate(){const{datasets:e}=this.deviationsProp,{createDatasetProps:t}=this.descriptor.props[this.DEVIATIONS_PROP].options,s=t();e.push(s),this.saveDeviations()},onDeviationDatasetDelete(e){this.deviationsProp.datasets.splice(e,1),this.saveDeviations()},onFormulaChange(e,t){this.deviationsProp.rules[t].formula=this.sanitize(e),this.saveDeviations()},sanitize(e){const t=[...Object.values(d.tR).map(({name:e})=>e),...this.metrics].map(n.escapeRegExp),s=new RegExp(`(?:${[...d.U5,...t].join("|")})`,"g"),r=e.match(s);return r?.join("")??""},onRuleNameChange(e,t){this.deviationsProp.rules.map(({name:e})=>e).includes(e)?this.$forceUpdate():(this.deviationsProp.rules[t].name=e,this.saveDeviations())}}},p=u;s(91934);var h=s(81656),m=(0,h.A)(p,r,i,!1,null,"a6a9b23c",null);const f=m.exports},12792:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".badge[data-v-0529c1d6]{font-size:.8rem}.badge--default[data-v-0529c1d6]{border:1px var(--color-muted) solid;background-color:transparent}.badge--metric[data-v-0529c1d6]{background:var(--color-primary-focus)}.badge--dimension[data-v-0529c1d6]{background:var(--color-orange-focus)}.badge--variable[data-v-0529c1d6]{background:var(--color-green-focus)}",""]);const l=o},13210:()=>{},13763:(e,t,s)=>{var r=s(85088);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("fa3cfa60",r,!0,{sourceMap:!1,shadowMode:!1})},16542:(e,t,s)=>{s.d(t,{WP:()=>i,B2:()=>a,sI:()=>r,vV:()=>l});const r={METRICS_MISSED:'metric "{name}" are not longer exist in dataset schema',DIMENSIONS_MISSED:'dimension "{name}" are not longer exist in dataset schema',VARIABLES_MISSED:'variable "{name}" are not longer exist in dataset schema',DRILLDOWN_DIMENSIONS_MISSED:'drilldown "{name}" dimensions "{dimensions}" are not longer exist in dataset schema',QUERY_DIMENSION_MISSED:'dimension "{name}" are not longer exist in query',DRILLDOWN_MISSED_QUERY_DIMENSIONS:'drilldown "{name}" have dimensions "{dimensions}" that did not exist in query dimensions',DRILLDOWN_CONFLICTING_QUERY_PARAM:'drilldown "{name}" is equal to metrics or dimensions',SORT_MISSED_QUERY_PARAM:'sort "{name}" use dimensions or metrics that did not exist in query',FILTER_MISSED_QUERY_PARAM:'filter "{name}" use dimensions, metrics or fields that did not exist in query'},i={DATASET_NOT_FOUND_IN_DATA_PROVIDER:"dataset not found in current data provider",DATASET_DATAPROVIDER_NOT_EXISTS_IN_PROJECT:"specified dataset dataprovider does not exist in current project"},a={...r,...i},n={[a.METRICS_MISSED]:'ÐœÐµÑ‚Ñ€Ð¸ÐºÐ° "{name}" Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² ÑÑ…ÐµÐ¼Ðµ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°',[a.DIMENSIONS_MISSED]:'Ð˜Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ "{name}" Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² ÑÑ…ÐµÐ¼Ðµ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°',[a.VARIABLES_MISSED]:'ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ "{name}" Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² ÑÑ…ÐµÐ¼Ðµ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°',[a.DRILLDOWN_DIMENSIONS_MISSED]:'Ð˜Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ "{dimensions}" ÑÐ»Ð¾Ð¶Ð½Ð¾Ð³Ð¾ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ "{name}" Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² ÑÑ…ÐµÐ¼Ðµ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°',[a.QUERY_DIMENSION_MISSED]:'Ð˜Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ "{name}" Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² ÑÑ…ÐµÐ¼Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°',[a.DRILLDOWN_MISSED_QUERY_DIMENSIONS]:'Ð¡Ð»Ð¾Ð¶Ð½Ð¾Ðµ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ "{name}" ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ "{dimensions}" Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐµ Ð² ÑÑ…ÐµÐ¼Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°',[a.DRILLDOWN_CONFLICTING_QUERY_PARAM]:'Ð¡Ð»Ð¾Ð¶Ð½Ð¾t Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ "{name}" ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÐµÑ‚ Ñ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¸Ð· Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹ ÑÑ…ÐµÐ¼Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°',[a.SORT_MISSED_QUERY_PARAM]:'Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° "{name}" Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Ð² ÑÑ…ÐµÐ¼Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°',[a.FILTER_MISSED_QUERY_PARAM]:'Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ "{name}" Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Ð² ÑÑ…ÐµÐ¼Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°',[a.DATASET_NOT_FOUND_IN_DATA_PROVIDER]:"Ð”Ð°Ñ‚Ð°ÑÐµÑ‚ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¼ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…",[a.DATASET_DATAPROVIDER_NOT_EXISTS_IN_PROJECT]:"Ð£ÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¹ Ð² Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ"},o={...Object.fromEntries(Object.values(a).map(e=>[e,e]))},l={locale:"ru",fallbackLocale:"en",messages:{ru:n,en:o},silentTranslationWarn:!0}},17346:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".grid[data-v-3a186f3f]{display:grid;gap:1rem}",""]);const l=o},18705:(e,t,s)=>{s.d(t,{A:()=>p});var r=s(21587),i=s(6381);const a={default:["badge--default"],[i.ck.METRIC]:["badge--metric"],[i.ck.DIMENSION]:["badge--dimension"],[i.ck.DRILLDOWN]:["badge--dimension"],[i.ck.FIELD]:["badge--default"],[i.ck.VARIABLE]:["badge--variable"]},n={name:"BadgeDataset",extends:r.Badge,computed:{cssClass(){return a[this.type]}}},o=n;s(87730);var l,d,c=s(81656),u=(0,c.A)(o,l,d,!1,null,"0529c1d6",null);const p=u.exports},18843:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,'.border-wrapper[data-v-3098cf73]{display:-webkit-box;display:flex}.border-sides[data-v-3098cf73]{margin-right:10px;display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr;gap:5px 5px;grid-template-areas:". b ." "a e c" ". d ."}.border-sides__img[data-v-3098cf73]{cursor:pointer}.border-radiuses-options[data-v-3098cf73]{display:grid;grid-template-columns:1fr 1fr;margin-right:2rem;gap:10px}.border-radiuses-options__img[data-v-3098cf73]{cursor:pointer}.border-radiuses-wrapper[data-v-3098cf73]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.border-radiuses[data-v-3098cf73]{display:grid;grid-template-columns:auto 1fr}.border-radiuses__img[data-v-3098cf73]{margin-right:.5rem}',""]);const l=o},18850:(e,t,s)=>{var r=s(10232);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("47ea8368",r,!0,{sourceMap:!1,shadowMode:!1})},20100:(e,t,s)=>{var r=s(93898);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("50f7541f",r,!0,{sourceMap:!1,shadowMode:!1})},21230:(e,t,s)=>{s.d(t,{R:()=>i,r:()=>r});const r="datasets",i="deviations"},21308:(e,t,s)=>{s.r(t),s.d(t,{Components:()=>r,Const:()=>u.A,DescriptorTypes:()=>c.DescriptorTypes,Dremio:()=>n,Elem:()=>l.Elem,ElemEvent:()=>l.ElemEvent,ElemRoot:()=>l.ElemRoot,Managers:()=>i,Net:()=>o,Panel:()=>d.Panel,PanelEvent:()=>d.PanelEvent,Panels:()=>a,PropChangeContext:()=>d.PropChangeContext,PropChangeContextType:()=>d.PropChangeContextType,StoreOperation:()=>l.StoreOperation,addEventListener:()=>c.addEventListener,computedWhen:()=>c.computedWhen,defineDescriptor:()=>c.defineDescriptor,getDescriptorDefaultProps:()=>l.getDescriptorDefaultProps,getElemDomId:()=>l.getElemDomId,mergeWidgetMetaComponentOptionsStrategy:()=>l.mergeWidgetMetaComponentOptionsStrategy,normalizeDescriptorFormat:()=>l.normalizeDescriptorFormat,shouldWatch:()=>c.shouldWatch,useBrowserHistory:()=>c.useBrowserHistory,useComputedWhenMixin:()=>c.useComputedWhenMixin,useNavigate:()=>c.useNavigate,usePersistentStorage:()=>c.usePersistentStorage,useRouteQueryManager:()=>c.useRouteQueryManager,useWatchWhenMixin:()=>c.useWatchWhenMixin,watchWhen:()=>c.watchWhen,widget:()=>c.widget});var r=s(93650),i=s(39515),a=s(4666),n=s(7543),o=s(5900),l=s(92274),d=s(81195),c=s(75676),u=s(82903)},21707:(e,t,s)=>{var r=s(6345);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("56ee2c9f",r,!0,{sourceMap:!1,shadowMode:!1})},21914:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".Hint_hint_p_k_6{width:-webkit-fit-content!important;width:-moz-fit-content!important;width:fit-content!important;height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important}",""]),o.locals={hint:"Hint_hint_p_k_6"};const l=o},21920:(e,t,s)=>{var r=s(43342);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("0cdebbad",r,!0,{sourceMap:!1,shadowMode:!1})},22053:(e,t,s)=>{var r=s(20330),i=s.n(r),a=s(124),n=s.n(a);const o={install:e=>{e.mixin({beforeCreate(){"function"===typeof this.$options.static&&(this.$options.static=this.$options.static.call(this)),Object.assign(this,this.$options.static)}})}};i().config.optionMergeStrategies.static=(e={},t={})=>function(){return{..."function"===typeof e?e.call(this):e,..."function"===typeof t?t.call(this):t}},i().use(n()),i().use(o),i().config.optionMergeStrategies.provide=i().config.optionMergeStrategies.data},22280:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,'.collapse[data-v-2d9d3953]{border:1px solid var(--color-grey-light)}.collapse-header[data-v-2d9d3953]{overflow:hidden}.collapse-header[data-v-2d9d3953]:before{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;background:var(--color-primary-focus);-webkit-transition:all .2s ease;transition:all .2s ease;content:""}.collapse-header.open[data-v-2d9d3953]{position:sticky;top:0;z-index:1;color:var(--color-primary)}.collapse-header.open[data-v-2d9d3953]:before{opacity:1}',""]);const l=o},22369:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".ui-sidebar-collapse[data-v-9b37b6c2]{border-bottom:1px solid var(--color-border)}.ui-sidebar-collapse__header[data-v-9b37b6c2]{position:sticky;z-index:1;top:0;display:grid;grid-template-columns:1fr auto;gap:.25rem;-webkit-box-align:center;align-items:center;color:var(--color-grey-dark);background:var(--color-white);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui-sidebar-collapse__header.is-open[data-v-9b37b6c2],.ui-sidebar-collapse__header[data-v-9b37b6c2]:hover{color:var(--color-primary-hover)}.ui-sidebar-collapse__header.is-open[data-v-9b37b6c2]{border-bottom:1px solid var(--color-border)}.ui-sidebar-collapse__header.is-disabled[data-v-9b37b6c2]{color:var(--color-muted);pointer-events:none}.ui-sidebar-collapse__header.has-icon[data-v-9b37b6c2]{grid-template-columns:auto 1fr auto}.ui-sidebar-collapse__content[data-v-9b37b6c2]{position:relative;z-index:0}",""]);const l=o},23250:(e,t,s)=>{var r=s(81161);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("f37f6670",r,!0,{sourceMap:!1,shadowMode:!1})},26359:(e,t,s)=>{var r=s(17346);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("cf5c2f66",r,!0,{sourceMap:!1,shadowMode:!1})},30104:(e,t,s)=>{s.d(t,{Fp:()=>a,UI:()=>c,X4:()=>u});var r=s(61096);const i={READ:"listen",WRITE:"trigger"},a={ALL:[i.READ,i.WRITE],READ:[i.READ],WRITE:[i.WRITE]},n="varAliases",o=(e,t)=>Object.entries(e).filter(([,{[t]:e}])=>null!=e).map(([e])=>e);class l{_vm;_varAliases;constructor(e,t=null){this._vm=e,this._varAliases=t}use(e){return new this.constructor(this._vm,e)}get varAliases(){return this._varAliases??this._vm.props[n]}get read(){return o(this.varAliases,i.READ)}get write(){return o(this.varAliases,i.WRITE)}get readMap(){return this.read.reduce((e,t)=>({...e,[t]:this.varAliases[t][i.READ]}),{})}get writeMap(){return this.write.reduce((e,t)=>({...e,[t]:this.varAliases[t][i.WRITE]}),{})}}class d extends l{setVar({varAlias:e,storeVar:t=e,operation:s=a.ALL}){const{varAliases:r}=this;s.forEach(s=>{r[e]={...r[e],[s]:t}})}deleteVar({varAlias:e,operation:t=a.ALL}){const{varAliases:s}=this,i=(0,r.A)(s[e],t),{listen:n,trigger:o}=i;null!=n||null!=o?s[e]=i:delete s[e]}saveVars(){this._vm.propChanged(n)}}const c=e=>({get vars(){return new l(e)}}),u=e=>new d(e)},32534:(e,t,s)=>{var r=s(9219);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("4a88fc50",r,!0,{sourceMap:!1,shadowMode:!1})},33571:(e,t,s)=>{s.d(t,{AI:()=>u,_T:()=>n,k5:()=>a,Ps:()=>i,FG:()=>o,_P:()=>l,is:()=>d,S_:()=>h,Vg:()=>p,Bv:()=>r,Ot:()=>c});const r=Object.freeze(["px","rem","em","%","vh","vw"]),i=Object.freeze(["px","rem"]),a=Object.freeze(["px","rem","em"]),n=Object.freeze([{value:"none",label:"ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"},{value:"dotted",label:"Ð¢Ð¾Ñ‡ÐºÐ¸"},{value:"dashed",label:"ÐŸÑƒÐ½ÐºÑ‚Ð¸Ñ€"},{value:"solid",label:"Ð¡Ð¿Ð»Ð¾ÑˆÐ½Ð°Ñ"},{value:"double",label:"Ð”Ð²Ð¾Ð¹Ð½Ð°Ñ"},{value:"groove",label:"Ð’Ñ‹ÐµÐ¼ÐºÐ°"},{value:"ridge",label:"Ð“Ñ€ÐµÐ±ÐµÐ½ÑŒ "},{value:"inset",label:"Ð’Ð¾Ð³Ð½ÑƒÑ‚Ð°Ñ"},{value:"outset",label:"Ð’Ñ‹Ð¿ÑƒÐºÐ»Ð°Ñ"}]),o=Object.freeze([{label:"ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ð¹",value:"normal"},{label:"ÐšÑƒÑ€ÑÐ¸Ð²",value:"italic"},{label:"ÐÐ°ÐºÐ»Ð¾Ð½Ð½Ñ‹Ð¹",value:"oblique"}]),l=Object.freeze([{label:"Ð¡Ð²ÐµÑ€Ñ…Ñ‚Ð¾Ð½ÐºÐ¸Ð¹ (100)",value:"100"},{label:"ÐžÑ‡ÐµÐ½ÑŒ Ñ‚Ð¾Ð½ÐºÐ¸Ð¹ (200)",value:"200"},{label:"Ð¢Ð¾Ð½ÐºÐ¸Ð¹ (300)",value:"300"},{label:"ÐÐ¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ (400)",value:"400"},{label:"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ (500)",value:"500"},{label:"ÐŸÐ¾Ð»ÑƒÐ¶Ð¸Ñ€Ð½Ñ‹Ð¹ (600)",value:"600"},{label:"Ð–Ð¸Ñ€Ð½Ñ‹Ð¹ (700)",value:"700"},{label:"ÐžÑ‡ÐµÐ½ÑŒ Ð¶Ð¸Ñ€Ð½Ñ‹Ð¹ (800)",value:"800"},{label:"Ð¡Ð²ÐµÑ€Ñ…Ð¶Ð¸Ñ€Ð½Ñ‹Ð¹ (900)",value:"900"},{label:"Ð¢Ð¾Ð½ÑŒÑˆÐµ (lighter)",value:"lighter"},{label:"Ð¢Ð¾Ð»Ñ‰Ðµ (bolder)",value:"bolder"}]),d=Object.freeze([{value:"left",label:"Ð¡Ð»ÐµÐ²Ð°",icon:"mdi-format-align-left"},{value:"center",label:"ÐŸÐ¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ",icon:"mdi-format-align-center"},{value:"right",label:"Ð¡Ð¿Ñ€Ð°Ð²Ð°",icon:"mdi-format-align-right"}]),c=Object.freeze([{value:"top",label:"Ð¡Ð²ÐµÑ€Ñ…Ñƒ",icon:"mdi-format-align-top"},{value:"middle",label:"ÐŸÐ¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ",icon:"mdi-format-align-middle"},{value:"bottom",label:"Ð¡Ð½Ð¸Ð·Ñƒ",icon:"mdi-format-align-bottom"}]),u=Object.freeze([{value:"top",label:"Ð¡Ð²ÐµÑ€Ñ…Ñƒ",icon:"mdi-border-top-variant"},{value:"right",label:"Ð¡Ð¿Ñ€Ð°Ð²Ð°",icon:"mdi-border-right-variant"},{value:"all",label:"Ð’ÑÐµ",icon:"mdi-border-outside"},{value:"bottom",label:"Ð¡Ð½Ð¸Ð·Ñƒ",icon:"mdi-border-bottom-variant"},{value:"left",label:"Ð¡Ð»ÐµÐ²Ð°",icon:"mdi-border-left-variant"}]),p=Object.freeze([{value:"",label:"Ð’Ð½ÐµÑˆÐ½ÑÑ"},{value:"inner",label:"Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ"}]),h=Object.freeze([{label:"Ð¡Ð½Ð¸Ð·Ñƒ ÑÐ¿Ñ€Ð°Ð²Ð°",value:""},{label:"Ð¡Ð½Ð¸Ð·Ñƒ ÑÐ»ÐµÐ²Ð°",value:"b-r"},{label:"Ð¡Ð²ÐµÑ€Ñ…Ñƒ ÑÐ¿Ñ€Ð°Ð²Ð°",value:"t-r"},{label:"Ð¡Ð²ÐµÑ€Ñ…Ñƒ ÑÐ»ÐµÐ²Ð°",value:"t-l"}])},33706:(e,t,s)=>{s.d(t,{IE:()=>c,XA:()=>l,Xj:()=>p,i2:()=>n,nF:()=>u,qm:()=>o,r3:()=>d});var r=s(44757),i=s(77500),a=s(81644);const n=(e,t)=>Object.entries(e).reduce((e,[s,r])=>({...e,[s]:r.bind(t)}),{});class o{isCancelled=!1;cancel(){this.isCancelled=!0}}const l=(e,t)=>{const{IN:s,EQ:r}=a.QueryFilterOperator,i=["number","string","boolean"].includes(typeof t);if(i)return{name:e,operator:r,value:t};const n=Array.isArray(t);return n?{name:e,operator:s,value:t}:"object"===typeof t&&null!=t.__t?{...t,name:e}:null},d=(e,t)=>({name:e,value:t}),c=(e,t=["metrics","dimensions","fields"])=>{const s=e.filter(Boolean).flatMap(e=>t.flatMap(t=>(0,i.A)(e,t,[])).sort((t,s)=>{let r=e.order.indexOf(t),i=e.order.indexOf(s);return-1===r&&(r=Number.POSITIVE_INFINITY),-1===i&&(i=Number.POSITIVE_INFINITY),r-i}));return[...new Set(s)]},u=e=>{const t=e.filter(Boolean).flatMap(e=>e.variableNames);return[...new Set(t)]},p=(e,t)=>[(0,r.A)(e??[],t??[]),(0,r.A)(t??[],e??[])]},34198:(e,t,s)=>{s.d(t,{Fv:()=>l,X6:()=>d,Zr:()=>o,m$:()=>a,rP:()=>n,ri:()=>i["default"]});var r=s(21230),i=s(60554);const a=({isMultiple:e=!1,prop:t=r.r,mixins:i=[],meta:a}={})=>()=>Promise.resolve().then(s.bind(s,60554)).then(({default:s})=>({default:{...s,meta:{...s.meta,...a},mixins:[...s.mixins,...i],static:{...s.static,DATASET_PROP:t},props:{...s.props,isMultiple:{type:Boolean,default:e}}}})),n=()=>[],o=({isMultiple:e=!1,prop:t=r.r,mixins:s=[],meta:i}={})=>[a({isMultiple:e,prop:t,mixins:s,meta:i})],l=()=>s.e(4110).then(s.bind(s,84689)),d=()=>s.e(4110).then(s.bind(s,12747))},34814:(e,t,s)=>{var r=s(47437);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("e5131c5e",r,!0,{sourceMap:!1,shadowMode:!1})},35052:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".tiles-header[data-v-7d027ba0]{display:grid;grid-template-columns:1fr 1fr 12rem;padding-inline:1rem;gap:1rem;font-size:var(--font-size-xsmaller);text-transform:uppercase;font-weight:700}",""]);const l=o},35172:(e,t,s)=>{s.r(t),s.d(t,{ApiClientMethod:()=>g,ApiClientRequestCancel:()=>E,ApiHttpClient:()=>v,ApiHttpClientError:()=>m,ApiHttpClientErrorCode:()=>h,ApiServiceError:()=>a,ApiServiceErrorCode:()=>i,ApiServiceOptionsSchema:()=>C,BaseApiService:()=>M,BaseApiServiceBase:()=>D,HttpTransportToApiClientErrorCodeMap:()=>f,buildRequest:()=>n,createApiHttpClient:()=>b,processRequestResult:()=>T,useApiService:()=>P,useApiServiceMixin:()=>U,useExtensions:()=>w});var r=s(73663);const i=Object.freeze({INTERNAL:"internal",VALIDATION:"validation",FORBIDDEN:"forbidden",NOT_FOUND:"not_found",UNAUTHORIZED:"unauthorized",UNKNOWN:"unknown",CONFLICT:"conflict"});class a extends r.InfrastructureError{static Code=i;constructor(e,{code:t,data:s,reason:r}={}){super(e,{code:t,data:s,reason:r}),this.name="ApiServiceError"}}const n=({action:e,pathParams:t={},params:s={},queryParams:r,options:i})=>{const{url:a="",options:n}=e,o=Object.entries(t).reduce((e,[t,s])=>e.replace(new RegExp(`:${t}`,"g"),String(s)),a);return{url:o,params:s,options:{...n,...i,...r&&{params:r}}}};var o=s(67176),l=s(14120),d=s(52509),c=s(37110),u=s(21514),p=s(42781);const h=Object.freeze({INTERNAL:0,FORBIDDEN:403,NOT_FOUND:404,UNAUTHORIZED:401,INTERNAL_SERVER_ERROR:500,BAD_REQUEST:400,CONFLICT:409});class m extends r.InfrastructureError{static Code=h;constructor(e,{code:t,data:s,reason:r}={}){super(e,{code:t,data:s,reason:r}),this.name="ApiHttpClientError"}}const f=Object.freeze({[o.HttpTransportErrorCode.INTERNAL]:m.Code.INTERNAL,[o.HttpTransportErrorCode.BAD_REQUEST]:m.Code.BAD_REQUEST,[o.HttpTransportErrorCode.FORBIDDEN]:m.Code.FORBIDDEN,[o.HttpTransportErrorCode.NOT_FOUND]:m.Code.NOT_FOUND,[o.HttpTransportErrorCode.UNAUTHORIZED]:m.Code.UNAUTHORIZED,[o.HttpTransportErrorCode.INTERNAL_SERVER_ERROR]:m.Code.INTERNAL_SERVER_ERROR,[o.HttpTransportErrorCode.CONFLICT]:m.Code.CONFLICT}),g=Object.freeze({GET:"get",POST:"post",PATCH:"patch",PUT:"put",DELETE:"delete"}),y="x-widget-uid";class v{_transport;constructor(e){if(null==e)throw new m("Required `transport` instance is not provided",{code:m.Code.INTERNAL});this._transport=e}get baseURL(){return this._transport.baseURL}set baseURL(e){this._transport.baseURL=e}async request(e){const t=this._buildTransportRequest(e);try{const e=await this._transport.request(t);return this._processTransportResponse(e)}catch(s){const e=this._processTransportError(s);throw e}}getNextRequestCancel(){return this._transport.getNextRequestCancel()}dispose(){"function"===typeof this._transport.dispose&&this._transport.dispose()}_buildTransportRequest(e){if(null==e||"object"!==typeof e)throw new m("Invalid `request` method input argument type");const{url:t,params:s,options:{context:r,...i}={}}=e;if(""===t||null==t)throw new m("Empty url or pathname");const{method:a,...n}=this._buildTransportOptions(i,{context:r});return{url:t,method:a,...s&&{params:s},options:n}}_buildTransportOptions(e,t=null){const s={paramsSerializer:e=>{const t=Object.fromEntries(Object.entries(e).map(([e,t])=>{const s=[t].flat().filter((0,d.A)((0,c.A)(u.A),(0,c.A)(p.A)));return[e,s]}).filter(([,e])=>e.length>0));return decodeURIComponent(new URLSearchParams(t).toString())}};if(null!=t){const{context:{elemId:s}={}}=t;null!=s&&(e.headers={...e.headers,[y]:s})}return{...s,...e}}_processTransportResponse(e){const{data:t}=e;return t}_processTransportError(e){if(e instanceof r.SilentError)return e;const{message:t}=e;if(e instanceof o.HttpTransportError){const{code:s}=e,r=f[s];return new m(t,{code:r,reason:e})}return new m(t,{reason:e})}}const b=e=>new v(e);class E extends r.BaseError{}const _=Object.freeze({[m.Code.INTERNAL]:i.INTERNAL,[m.Code.BAD_REQUEST]:i.INTERNAL,[m.Code.FORBIDDEN]:i.FORBIDDEN,[m.Code.NOT_FOUND]:i.NOT_FOUND,[m.Code.UNAUTHORIZED]:i.UNAUTHORIZED,[m.Code.INTERNAL_SERVER_ERROR]:i.INTERNAL,[m.Code.CONFLICT]:i.CONFLICT}),S="api",I=(e,t)=>{const s=new RegExp(`/${t}/*$`);return s.test(e)?e:l.Url.join(e,t)};class D{_client;_options={};_apiBaseURLConfig={path:S};constructor({client:e,transport:t,options:s={}}={}){t??=(0,o.createTransport)(o.HttpAuthTransportSymbol,void 0,{globalError:!1}),e??=b(t),this._client=e,this.setOptions(s)}get apiBaseURL(){return this._client?.baseURL??null}set apiBaseURL(e){this._client.baseURL=this._buildBaseUrl(e)}_buildBaseUrl(e){const{path:t}=this._apiBaseURLConfig;return I(e,t)}setOptions(e){const{apiBaseURL:t,apiBaseURLConfig:s,...r}=e;this._options={...this._options,...r},null!=s&&(this._apiBaseURLConfig=s),null!=t&&(this.apiBaseURL=t)}async request(e){try{const t=this._buildApiClientRequest(e),s=await this._client.request(t);return(0,l.success)(s)}catch(t){const e=this._processError(t);return(0,l.fail)(e)}}dispose(){this._client.dispose()}getNextRequestCancel(){return this._client.getNextRequestCancel()}_buildApiClientRequest(e){return null!=this._options.context&&(e.options??={},e.options.context={...e.options.context,...this._options.context}),e}_processError(e){return e instanceof r.SilentError?e:this._buildApiServiceError(e)}_buildApiServiceError(e){const{message:t,code:s=a.Code.INTERNAL,reason:r=e}=e;let n=s;return e instanceof m&&(n=_[s]??i.INTERNAL),new a(t,{code:n,reason:r})}}class M extends D{_globalError=!0;setOptions(e){const{globalError:t,...s}=e;null!=t&&(this._globalError=t),super.setOptions(s)}request(e){return super.request(e).then(t=>{const{isError:s,error:i}=t;if(s){const t=!0===e.options?.globalError||null==e.options?.globalError&&!0===this._globalError;t&&(0,r.throwGlobal)(i,{context:this.request})}return t})}}var x=s(95697);const T=(e,t=x.BaseDto,{resultTransformer:s=e=>e}={})=>{const{isError:r,result:i}=e;if(r)return e;const a=s(i);return a instanceof t||"function"!==typeof t||"object"!==typeof a&&t===x.BaseDto?(0,l.success)(a):"object"===typeof a&&t===x.BaseDto||x.BaseDto.isPrototypeOf(t)?(0,x.buildDtoSafeResult)(t,a):(0,l.success)((0,x.applyConstructorOrFactory)(t,a))};function w(e,t){return Object.assign(e,t)}const C={baseURL:"https://goodt-dev.goodt.me:8480"};var A=s(77500);const O="$apiService",R="apiBaseURL",N=(e,t)=>{const s="function"===typeof t?t.bind(e):()=>(0,A.A)(e,t);return()=>s()},k=(e,t,s)=>{const{apiBaseURL:r,...i}=s,a={...i,apiBaseURL:N(e,r).call(e)};return Object.isPrototypeOf.call(M,t)?new t({options:a}):t(a)},P=(e,t,s={})=>{const{apiBaseURL:r=R}=t,{name:i=O}=s,a={created(){this[i]=k(this,e,t),this[i].setOptions({context:{elemId:this.id}}),this.isEditorMode&&this.$watch(N(this,r),e=>{this[i].apiBaseURL=e},{immediate:!0})},destroyed(){this[i].dispose()}};return{mixin:a}},U=(e,t,s={})=>P(e,t,s).mixin},35260:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var r=function(){var e=this,t=e._self._c;return t("w-panel",[t("ui-header-actions",{staticClass:"w-100",on:{clear:e.onClear,restore:e.onRestore}}),e._l(e.varsGroups,function(s,r){return[s.length>0?[t("div",{key:r,staticClass:"scope"},[e.scopeTitles[r]?t("component",e._b({staticClass:"mar-bot-2"},"component",e.scopeTitles[r],!1)):e._e(),e._l(s,function({name:s,alias:r,description:i,scopes:a,...n}){return t("ui-has-panel",{key:s,attrs:{icon:null},scopedSlots:e._u([{key:"default",fn:function({toggle:o}){return[t("div",{staticClass:"list-item",on:{click:o}},[t("div",{staticClass:"d-flex"},[t("i",{staticClass:"mdi mdi-arrow-down",class:{"text-muted":!r.listen},attrs:{title:`ÑÐ»ÑƒÑˆÐ°ÐµÑ‚: ${r.listen}`}}),t("i",{staticClass:"mdi mdi-arrow-up",class:{"text-muted":!r.trigger},attrs:{title:`Ð¿Ð¸ÑˆÐµÑ‚: ${r.trigger}`}})]),t("div",{staticClass:"list-item__text"},[t("component",e._b({},"component",e.resolveBadge({name:s,alias:r,description:i,scopes:a,...n}),!1))],1),r.listen||r.trigger?[t("i",{staticClass:"mdi cursor-pointer",class:{"mdi-earth-off color-grey":!r.meta.global,"mdi-earth color-primary":r.meta.global},attrs:{title:e.$t(r.meta.global?"global":"local")},on:{click:function(t){return t.stopPropagation(),e.toggleAliasMetaGlobal(r)}}})]:[t("i",{staticClass:"mdi mdi-earth color-muted",attrs:{title:e.$t("disabled")}})]],2)]}},{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:s,slot:"default"}]},scopedSlots:e._u([{key:"header",fn:function(){return[t("component",e._b({},"component",e.resolveBadge({name:s,alias:r,description:i,scopes:a,...n}),!1))]},proxy:!0}],null,!0)},[s!==i?t("div",{staticClass:"text-small p"},[e._v(" "+e._s(i)+" ")]):e._e(),t("ui-input",{staticClass:"p",on:{change:e.exportAliases},model:{value:r.listen,callback:function(t){e.$set(r,"listen",t)},expression:"alias.listen"}},[e._v(" Ð§Ð¸Ñ‚Ð°ÐµÑ‚ "),t("i",{staticClass:"mdi mdi-arrow-down"})]),t("ui-input",{on:{change:e.exportAliases},model:{value:r.trigger,callback:function(t){e.$set(r,"trigger",t)},expression:"alias.trigger"}},[e._v(" ÐŸÐ¸ÑˆÐµÑ‚ "),t("i",{staticClass:"mdi mdi-arrow-up"})])],1)]},proxy:!0}],null,!0)})})],2)]:e._e()]})],2)},i=[],a=s(46996),n=s(21613),o=s(93423),l=s(29565),d=s(71154);const c=({listen:e="",trigger:t="",meta:s=null}={})=>({listen:e,trigger:t,meta:s??l.ValueObject.defaultMeta()}),u={extends:n.Panel,components:{UiBadge:d.Ex,UiScopeTitle:d.BP,UiHeaderActions:d.lX},implicitCssModule:!0,meta:{name:"variables",icon:"variable-box",isMuted:({descriptor:e})=>0===Object.keys(e.vars).length,index:300},data(){return{descriptorVars:{},scopes:[],hasRestore:!1}},computed:{varsGroups(){const{varAliases:e}=this.props,t=Object.entries(this.descriptorVars).flatMap(([t,{type:s,scopes:r,...i}])=>{const a={name:t,scopes:r,...i,alias:c({...e[t]}),type:null!=s?s.name.toLowerCase():null};return void 0===r&&(r=[void 0]),r.map(e=>({...a,scope:e}))}),s=Object.groupBy(t,({scope:e})=>e),r=Object.entries(s).map(([e,t])=>{const s=this.createSortVariableInfos(e);return t.sort(s),[e,t]}).sort(([e])=>"undefined"===e?Number.NEGATIVE_INFINITY:0);return Object.fromEntries(r)},scopeTitles(){return Object.keys(this.varsGroups).reduce((e,t)=>{const s=this.resolveScopeTitle(t);return{...e,...s&&{[t]:s}}},{})}},watch:{"elementInstance.descriptor.vars":{handler(){this.descriptorVars=this.getDescriptorVars()},immediate:!0},varsGroups:{handler(e){this.scopes=Object.keys(e)},immediate:!0}},methods:{getDescriptorVars(){return{...(0,o.normalizeDescriptorFormat)(this.descriptor).vars,...this.elementInstance?.descriptor.vars}},exportAliases(){this.props.varAliases=Object.values(this.varsGroups).flat().reduce((e,{name:t,alias:s})=>{const{listen:r,trigger:i,meta:n}=s;return""===r&&""===i?e:{...e,[t]:{...r&&{listen:r},...i&&{trigger:i},...(0,a.A)(n,l.ValueObject.defaultMeta())||{meta:n}}}},{}),this.$storeMeta.saveVars()},clearVarAliases(){this.props.varAliases={},this.$storeMeta.saveVars()},toggleAliasMetaGlobal(e){e.meta.global=!e.meta.global,this.exportAliases()},resolveBadge(e){return{is:this.$options.components.UiBadge,text:e.name,description:this.$t(e.description),type:"default"}},resolveScopeTitle(e){return null},createSortVariableInfos(e){return(e,t)=>0},onClear(){this.clearVarAliases()},onRestore(){}}},p=u;var h=s(57098),m=s.n(h),f=s(81656);function g(e){this["$style"]=m().locals||m()}var y=(0,f.A)(p,r,i,!1,g,null,null);const v=y.exports},35859:(e,t,s)=>{var r=s(39625);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("0ff5fb78",r,!0,{sourceMap:!1,shadowMode:!1})},35941:(e,t,s)=>{s.d(t,{KW:()=>_,PP:()=>h,ry:()=>S,q:()=>m,uQ:()=>x.u,xs:()=>f,NM:()=>D,g0:()=>M,TA:()=>T});var r=s(17412);const i={_name:"ElemDatasetDrilldownMixin",static:{$drilldownStateMeta:{}},data(){return{mixinDrilldownState:{}}},computed:{$drilldown(){return{state:this.mixinDrilldownState,dimensions:Object.values(this.mixinDrilldownState).flatMap(({dimensions:e})=>e),canPopAny:Object.values(this.mixinDrilldownState).some(({canPop:e})=>e),canPushAny:Object.values(this.mixinDrilldownState).some(({canPush:e})=>e),push:this.$drilldownPush,pop:this.$drilldownPop,setIndex:this.$drilldownSetIndex,getDimension:this.$drilldownGetDimension,hasQueryFilter:this.$drilldownHasQueryFilter,canPop:this.$drilldownCanPop,canPush:this.$drilldownCanPush}}},computedEditor:{drilldowns(){return this.$queryGetParams(["drilldown.names"])}},watch:{requests:{handler(e){this.$drilldownSetup(e)}}},methods:{$drilldownSetup(){const{state:e,meta:t}=this.$drilldownGetState();this.mixinDrilldownState=e,this.$drilldownStateMeta=t},$drilldownGetState(e=this.requests){return e.filter(Boolean).reduce((e,t)=>{const{query:{drilldown:s}}=t;for(const r in s.models)e.meta[r]={requests:(e.meta[r]?.requests??[]).concat(t)},e.state=this.$drilldownUpdateState(e.state,s.models[r]);return e},{state:{},meta:{}})},$drilldownPush(e,t){const s=this.mixinDrilldownState[e];if(null==s)return!1;if(s.canPush){const{requests:s}=this.$drilldownStateMeta[e],r=s.reduce((s,{query:{drilldown:r}})=>r.push(e,t),null);return this.mixinDrilldownState=this.$drilldownUpdateState(this.mixinDrilldownState,r),this.$requestChanged(s),!0}return!1},$drilldownPop(e){const t=this.mixinDrilldownState[e];if(null==t)return!1;if(t.canPop){const{requests:t}=this.$drilldownStateMeta[e],s=t.reduce((t,{query:{drilldown:s}})=>s.pop(e),null);return this.mixinDrilldownState=this.$drilldownUpdateState(this.mixinDrilldownState,s),this.$requestChanged(t),!0}return!1},$drilldownSetIndex(e,t,s=[]){const r=this.mixinDrilldownState[e];if(null==r)return!1;if(t===r.index||t<0||t>r.length-1)return!1;const{requests:i}=this.$drilldownStateMeta[e],a=i.reduce((r,{query:{drilldown:i}})=>i.setIndex(e,t,s),null);return this.mixinDrilldownState=this.$drilldownUpdateState(this.mixinDrilldownState,a),this.$requestChanged(i),!0},$drilldownUpdateState(e,t){const{name:s,index:r,length:i,canPop:a,canPush:n,filters:o,dimension:l,dimensions:d}=t;return{...e,[s]:{name:s,index:r,length:i,canPop:a,canPush:n,filters:o,dimension:l,dimensions:d}}},$drilldownCanPop(e){return this.mixinDrilldownState?.[e]?.canPop??!1},$drilldownCanPush(e){return this.mixinDrilldownState?.[e]?.canPush??!1},$drilldownGetDimension(e){return this.mixinDrilldownState[e]?.dimension??null},$drilldownHasQueryFilter(e){const t=this.mixinDrilldownState[e]?.dimension;return null!=t&&this.$queryHasFilter(t)},$storeCommit(e,{hasMap:t=!0}={}){e=this.drilldowns.reduce((e,t)=>{if(t in e){const{[t]:s,...r}=e,{dimension:i}=this.mixinDrilldownState[t];return{...r,[i]:s}}return e},e),this.super().$storeCommit.call(this,e,{hasMap:t})}}};var a=s(73663),n=s(21230),o=s(79581),l=s(91780),d=s(20330),c=s.n(d);c().config.optionMergeStrategies.hooks=c().config.optionMergeStrategies.methods;var u=s(46996),p=s(81644);const h=void 0,m=void 0,f=void 0;var g=s(33706),y=s(71174),v=s(13354);const b={_name:"ElemDatasetWatchStoreMixin",data(){return{watchStoreState:!0,queryParamsByRequest:new WeakMap,...h}},computed:{$storeWatchHandlerQueryParams(){const e=this.requests.filter(Boolean).flatMap(e=>this.queryParamsByRequest.get(e));return[...new Set(e)]},$storeWatchHandlerVars(){const{$storeMeta:{vars:{read:e}}}=this;return this.$storeWatchHandlerQueryParams.filter(t=>e.includes(t))}},watchEditor:{$storeWatchHandlerVars(e,t){if(0===t.length)return;const[s,r]=(0,g.Xj)(e,t);if(0===r.length)return;const i=this.$queryRemoveParamsStoreFilters(r);i.length>0&&this.$requestChanged(i)},queryParamsByRequest(e){this.$storeUpdateDescriptorVars(e)}},watch:{requests:{handler(e,t){this.$queryUpdateParamsByRequest(e,t),this.$queryInitParamsStoreFilters(e,t)}}},created(){this.watchStoreState&&this.$watchStore({vars(){return this.$storeWatchHandlerVars},handler:(e,t)=>this.$storeWatchHandler(t)})},methods:{$queryInitParamsStoreFilters(e,t=[]){const s=(0,y.A)(this.$storeState,this.$storeWatchHandlerVars);this.$storeApplyQueryFilters(s)},$queryRemoveParamsStoreFilters(e){const t=(0,v.A)(e,Array(e.length).fill(void 0)),s=this.$storeApplyQueryFilters(t);return s.filter(Boolean)},$storeWatchHandler(e){const t=this.$storeApplyQueryFilters(e);this.$requestChanged(t)},$storeApplyQueryFilters(e){if(0===Object.keys(e).length)return Array(this.requests.length).fill(null);const t=(t,s)=>{if(null==t)return null;const{query:r}=t,{filters:i,variables:a}=r,n=this.queryParamsByRequest.get(t),{variables:l,filters:d}=Object.groupBy(n,e=>r.variableNames.includes(e)?"variables":"filters"),c=(0,y.A)(e,d);Object.entries(c).forEach(([e,t])=>{const i=null==t;if(i){if(!1===r.filterRemove(e))return;const t=new o.xA(this.datasetRequests[s].query),i=t.filterGetInfo(e);null!=i&&r.filterAdd(i)}else{const s=(0,g.XA)(e,t),i=null!=s&&r.filterAdd(s);!1===i&&this.$debugMessage(`Dataset Query filter "${e}" add failed: ${JSON.stringify(t)}`,{scope:"$storeApplyQueryFilters"})}});const p=(0,y.A)(e,l);Object.entries(p).forEach(([e,t])=>{const i=null==t;if(i){if(!1===r.variableRemove(e))return;const t=new o.xA(this.datasetRequests[s].query),i=t.variableGetInfo(e);null!=i&&r.variableAdd(i)}else{const s=(0,g.r3)(e,t);r.variableAdd(s)}});const{filters:h,variables:m}=r,f=!1===[(0,u.A)(i,h),(0,u.A)(a,m)].every(Boolean);return f?t:null};return this.requests.map(t)},$storeUpdateDescriptorVars(e){const t=e=>{const t=this.descriptor.vars[e];return t?.scopes??[]},s=(e,t)=>Object.freeze({description:e,scopes:t});Object.entries(this.descriptor.vars).forEach(([e,{scopes:t}])=>{void 0!==t&&this.$delete(this.descriptor.vars,e)}),this.requests.filter(Boolean).forEach(r=>{const i=r.name,a=e.get(r).filter(e=>this.$storeWatchHandlerQueryParams.includes(e));a.forEach(e=>{const r=[...new Set([...t(e),i])],a=s(e,r);this.$set(this.descriptor.vars,e,a)})})},$queryUpdateParamsByRequest(e,t=[]){const s=new WeakMap,r=0===e.length;if(r)return void(this.queryParamsByRequest=s);const i=e.reduce((e,r,i)=>{if(null==r){const s=this.queryParamsByRequest.has(t[i]);return s||e}const a=[r.query.getBaseModel()],n=[...(0,g.nF)(a),...(0,g.IE)(a,["metrics","dimensions","fields"])];return s.set(r,n),!(0,u.A)(n,this.queryParamsByRequest.get(r))||e},!1);i&&(this.queryParamsByRequest=s)}}};var E=s(58189);const _={_name:"ElemDatasetBaseMixin",mixins:[b],hooks:{},static(){const e=this;return{DATASET_PROP:n.r,loadDataHooks:{...e.loadDataHooks,...(0,g.i2)(e.$options.hooks,e)},...p}},data:()=>({isLoading:!1,results:[],requests:[],error:null,...h}),computedEditor:{$placeholder(){return{show:!this.hasDataset,toggle:!0,content:"No dataset selected"}},hasDataset(){return this.datasetRequests.filter(Boolean).length>0},datasetRequests(){return this.props[this.DATASET_PROP]??[]},dimensions(){return this.$queryGetParams(["dimensions"])},metrics(){return this.$queryGetParams(["metrics"])},fields(){return this.$queryGetParams(["fields"])},variables(){return this.$queryGetVariables()}},watch:{datasetRequests:{handler:"onDatasetRequestsChanged",immediate:!0},requests:{handler(e,t=[]){const s=e.filter((e,s)=>null!=e&&e!==t[s]);this.$requestChanged(s)}}},destroyed(){this.$requestCancel()},methods:{onDatasetRequestsChanged(e,t=[]){let s=e.length!==t.length;const r=e.map((e,r)=>(0,u.A)(e,t[r])?this.requests[r]:(s=!0,null==e?null:(0,o._N)(e)));s&&(this.requests=r)},$requestChanged(e){e=[e].flat();const[t,s]=this.requests.reduce(([t,s],r)=>{const i=null!=r&&e.includes(r);return[t||i,[...s,i?r:null]]},[!1,[]]);t&&(s.forEach(e=>{null!=e&&(e.offset=0,e.cancel())}),this.loadData(s))},async loadData(e=this.requests){if(this.$requestCancel(e),null!=this.loadDataHooks.before){const e=new g.qm;if(this.loadDataHooks.before.call(this,e.cancel.bind(e)),!0===e.isCancelled)return}try{this.isLoading=!0;const t=await Promise.all(e.map(e=>e?.send()??null));this.results=t.map((e,t)=>e??this.results?.[t]??null),this.loadDataHooks.then?.call(this,this.results)}catch(t){this.results=[],this.$handleError(t),this.loadDataHooks.catch?.call(this,t)}finally{this.isLoading=!1,this.loadDataHooks.finally?.call(this)}},cancelRequests(e){this.$requestCancel(e)},$requestCancel(e=this.requests){[e].flat().filter(Boolean).forEach(e=>e.cancel())},$handleError(e){e instanceof E.rq&&(e.context=this),this.super().$handleError.call(this,e),e instanceof E.rq!==!1&&!1!==this.isEditorMode&&(this.error=e)},$queryGetParams(e,t=this.requests){return(0,g.IE)([t].flat().filter(Boolean).map(({query:e})=>e),e)},$queryGetVariables(e=this.requests){return(0,g.nF)([e].flat().filter(Boolean).map(({query:e})=>e))},$queryGetParamName(e,t=this.requests){const s=[t].flat().filter(Boolean).find(({query:t})=>null!=t.getParamName(e));return s?.query.getParamName(e)??null},$queryHasFilter(e,t=this.requests){return[t].flat().filter(Boolean).some(({query:t})=>t.hasFilter(e))},$queryCreateStoreFilter(e){return(0,o.Y7)(e)}}},S={_name:"ElemDatasetMixin",data(){return{result:null,isLoading:!1,...m}},computed:{limit(){return this.request?.limit},offset:{get(){return this.request?.offset},set(e){null!=this.request&&(this.request.offset=e)}},page:{set(e){this.offset=(e-1)*this.limit},get(){return this.limit?this.offset/this.limit+1:1}},pages(){return this.limit?Math.ceil(this.rowCount/this.limit):1},rowCount(){return this.result?.rowCount??0},request(){return this.requests[0]??null}},watchEditor:{request:{handler(e,t){!1===(0,u.A)(t,e)&&(this.result=null)}}},methods:{async loadData(e=this.request){const[t]=[e].flat();if(null!=t){if(this.$requestCancel(t),null!=this.loadDataHooks.before){const e=new g.qm;if(this.loadDataHooks.before.call(this,e.cancel.bind(e)),!0===e.isCancelled)return}try{this.isLoading=!0,this.result=await t.send(),this.loadDataHooks.then?.call(this,this.result)}catch(s){this.result=null,this.$handleError(s),this.loadDataHooks.catch?.call(this,s)}finally{this.isLoading=!1,this.loadDataHooks.finally?.call(this)}}}}},I={_name:"ElemDatasetDeviationsMixin",static:{DEVIATIONS_PROP:n.R},computed:{deviations(){const{results:e,props:t}=this,{refDatasetIndex:s,rules:r}=t[n.R],i={rows:[],schema:r.map(({name:e})=>({name:e}))};if(null==e[s])return i;const a=e.map(({rows:e})=>e);return new Array(e[s].rowCount).fill(null).reduce((e,t,s)=>{const i=a.reduce((e,t)=>[...e,t[s]],[]),n=this.createContext(i),o=r.reduce((e,t)=>({...e,...this.calcDeviation(t,n)}),{});return e.rows=[...e.rows,o],e},i)}},methods:{async loadData(e=this.requests){const t=this.$options.mixins.flatMap(({mixins:e=[]})=>e).some(({_name:e})=>"ElemDatasetMixin"===e),{refDatasetIndex:s,datasets:r}=this.props[n.R];if(null==s){const s=this.super(t?S:_).loadData;return void s.call(this,e)}const i=e[s];if(this.$requestCancel(i),null!=this.loadDataHooks.before){const e=new g.qm;if(this.loadDataHooks.before.call(this,e.cancel.bind(e)),!0===e.isCancelled)return}if(null==i){const t=e.toSpliced(s,1,null),r=this.results[s];return this.isLoading=!0,this.results=await this.loadDeviationsData(t,r),void(this.isLoading=!1)}try{this.isLoading=!0;const e=await i.send();t&&(this.result=e);const s=this.datasetRequests.map((e,t)=>{const s=null!=r.find(({index:e})=>e===t);return s?(0,o._N)(e):null});this.results=await this.loadDeviationsData(s,e),this.loadDataHooks.then?.call(this,t?this.result:this.results)}catch(a){this.results=[],t&&(this.result=null),this.$handleError(a),this.loadDataHooks.catch?.call(this,a)}finally{this.isLoading=!1,this.loadDataHooks.finally?.call(this)}},async loadDeviationsData(e,t){this.$requestCancel(e);const{props:s,QueryFilterOperator:r}=this,{refDatasetKey:i,datasets:a}=s[n.R],o=t.rows.map(({[i]:e})=>e);try{const s=await Promise.all(e.map((e,t)=>{if(null==e)return Promise.resolve(this.results?.[t]??null);const s=a.find(({index:e})=>e===t)?.key??i;return e.query.filterAdd({name:s,operator:r.IN,value:o}),e.limit=0,e.send()}));return this.postprocessDeviationResults(s,t)}catch(l){return this.$handleError(l),[]}},postprocessDeviationResults(e,t){const{props:s}=this,{refDatasetIndex:r,refDatasetKey:i,datasets:a}=s[n.R],o=a.map(({index:t,key:s})=>null==e[t]?null:{index:t,result:e[t],key:s??i}).filter(Boolean);return t.rows.forEach(({[i]:e},t)=>{o.forEach(({key:s,result:r})=>{const{schema:i,rows:a}=r,n=a.find(({[s]:t})=>t===e);if(null==n){const r=i.map(({name:e})=>e),n=r.reduce((e,t)=>({[t]:null,...e}),{[s]:e});a.splice(t,0,n)}})}),e.forEach(e=>{null!=e&&(e.rowCount=t.rowCount)}),e.toSpliced(r,1,t)},createContext(e){const{datasets:t}=this.props[n.R];return{[l.tR.GET_BY_PATH.name]:s=>{const r=s.indexOf("."),[i,a]=[s.slice(0,r),s.slice(r+1)],{index:n}=t[i];return Number(e[n][a]??l.e)},[l.tR.ABS.name]:l.tR.ABS.func,[l.tR.SQUARE.name]:l.tR.SQUARE.func,[l.tR.SQRT.name]:l.tR.SQRT.func,[l.tR.PCT.name]:l.tR.PCT.func}},calcDeviation({name:e,formula:t},s){try{const r=new Function(...Object.keys(s),`return ${t}`),i=r(...Object.values(s));return{[e]:String(i)}}catch(r){return this.$handleError(new a.CoreError(r.toString())),{[e]:null}}}}},D=({prop:e=n.r,drilldown:t=!1,deviations:s=!1,panel:a={isMultiple:!0},fetchEvent:o={methodName:"loadData"}}={})=>{const d=(0,l.w$)({},{prop:e,panel:a,deviations:s});return{mixins:[_,(0,r.useFetchDataEventMixin)(o),...t?[i]:[],...s?[I]:[],{meta:d,static:{DATASET_PROP:e}}]}},M=({prop:e,drilldown:t=!1,deviations:s=!1,panel:r={isMultiple:!1},fetchEvent:i={methodName:"loadData"}}={})=>{const{mixins:a}=D({prop:e,panel:r,drilldown:t,deviations:s,fetchEvent:i}),[n,...o]=a;return{mixins:[n,S,...o]}};var x=s(70907);const T=({prop:e=n.r}={})=>({mixins:[x.u].concat([void 0,null,"",n.r].includes(e)?[]:{static:{DATASET_PROP:e}})})},36613:(e,t,s)=>{var r=s(77227);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("e0b38448",r,!0,{sourceMap:!1,shadowMode:!1})},38126:(e,t,s)=>{s.r(t),s.d(t,{DateTimeUnit:()=>w,MessageI18n:()=>ne,NumberFormat:()=>W.NumberFormat,NumberFormatPattern:()=>W.NumberFormatPattern,Queue:()=>S,ResultType:()=>a,SafeResult:()=>n,SizeConverter:()=>re,Url:()=>z,base64Decode:()=>r,base64Encode:()=>i,buildStylesHash:()=>f,camelizeObjectKeys:()=>p,convertCssVarToComputedValue:()=>se,convertPxToRem:()=>C,convertRgbaToHex:()=>O,createFormatNumber:()=>W.createFormatNumber,createPersonTitleFormatter:()=>Y,dayjs:()=>ue,dec2hex:()=>A,decorateObjectWithProxy:()=>b,deleteNode:()=>x,downloadBlobAsFile:()=>X,escapeRegExp:()=>K,extractDescriptorPropMeta:()=>_,fail:()=>o,findNode:()=>D,findParentNode:()=>M,formatCurrency:()=>W.formatCurrency,formatDecimal:()=>W.formatDecimal,formatNumber:()=>W.formatNumber,isSafeResult:()=>d,joinPathParts:()=>v,pluralize:()=>R,reactive:()=>P,resolveIconClass:()=>Z,spec:()=>ae,success:()=>l,traverse:()=>T,underscoreObjectKeys:()=>h,useEventHook:()=>E});const r=e=>{const t=e.replace(/-/g,"+").replace(/_/g,"/"),s=atob(t).split("").map(e=>e.codePointAt(0)),r=new Uint8Array(s),i=new TextDecoder;return i.decode(r)},i=e=>{const t=new TextEncoder,s=t.encode(e),r=String.fromCodePoint(...s);return btoa(r)},a={FAIL:Symbol("Fail"),SUCCESS:Symbol("Success")};class n{_type;_value;static success(e){return new n(a.SUCCESS,e)}static fail(e){return new n(a.FAIL,e)}constructor(e,t){this._type=e,this._value=t}get isError(){return this._type===a.FAIL}get isSuccess(){return this._type===a.SUCCESS}get result(){return this.isSuccess?this._value:null}get error(){return this.isError?this._value:null}}const{fail:o,success:l}=n,d=e=>e instanceof n;var c=s(38931),u=s.n(c);const p=e=>Object.fromEntries(Object.entries(e).map(([e,t])=>[u().camelize(e,!0),"object"===typeof t?t?p(t):null:t])),h=e=>Object.fromEntries(Object.entries(e).map(([e,t])=>[u().underscore(e,!0),"object"===typeof t?t?h(t):null:t]));var m=s(48621);const f=e=>Object.fromEntries((0,m.A)(e,"; ").split(";").map(e=>e.split(":").map(m.A)).map(([e,t])=>[(0,c.camelize)(e.replace("-","_"),!0),t])),g="://",y=(e,t="",s="")=>e.replace(/^\/+/,t).replace(/\/+$/,s),v=(...e)=>{const[t,...s]=e,r=(...e)=>{const t=[],[s,...r]=e,[i]=r.splice(-1);return null!=s&&t.push(y(s,"/")),r.length>0&&t.push(...r.map(e=>y(e))),null!=i&&t.push(y(i,"","/")),t.join("/")};if(t.includes(g)){const[e,i]=t.split(g);return[e,r(i,...s)].join(g)}return r(...e)},b=(e,t)=>{const s={get(e,s){const r=s in e?e:t,i=r?r[s]:void 0;return"function"===typeof i?i.bind(e):i},set(e,s,r){const i=s in e?e:t;return Reflect.set(i,s,r),!0},has(e,t){return Reflect.has(e,t)}};return new Proxy(e,s)},E=(e=new Set)=>({on(t){return e.add(t),{off:()=>this.off(t)}},off(t){e.has(t)&&e.delete(t)},trigger(...t){e.forEach(e=>e(...t))}}),_=(e,t,s)=>e.props[t];class S{_array=[];_mapper=()=>e=>e;constructor(e=[],{mapper:t}={}){null!=t&&(this._mapper=t),this.enqueue(e)}enqueue(e,...t){this._array.push(...e.map(this._mapper(...t)))}dequeue(){return this._array.shift()}get isEmpty(){return 0===this._array.length}}const I=e=>t=>[t,e];function D(e,t,s){const r=new S(e,{mapper:I});while(!r.isEmpty){const[e]=r.dequeue();if(s(e))return e;r.enqueue(e[t],e)}return null}function M(e,t,s){const r=new S(e,{mapper:I});while(!r.isEmpty){const[e]=r.dequeue();for(const r of e[t])if(s(r))return e;r.enqueue(e[t],e)}return null}function x(e,t,s){const r=new S(e,{mapper:I});while(!r.isEmpty){const[e,i]=r.dequeue();if(s(e)){const e=i[t].findIndex(s);return i[t].splice(e,1),!0}r.enqueue(e[t],e)}return!1}function T(e,t,s){const r=new S(e,{mapper:I});while(!r.isEmpty){const[e,i]=r.dequeue();s(e,i),r.enqueue(e[t],e)}}const w=Object.freeze({YEAR:"year",MONTH:"month",WEEK:"week",DAY:"day",HOUR:"hour",MINUTE:"minute",SECOND:"second"}),C=(e,t=16)=>{const s=e.matchAll(/(\d+px)\s/g);return Array.from(s).reduce((e,[,s])=>{const r=(Number.parseFloat(s)/t).toFixed(4);return e.replaceAll(s,`${r}rem`)},e)},A=(e=0)=>{e=Number(e)||0;const t=Math.round(Math.min(Math.max(0,e),255)).toString(16);return`0${t}`.slice(-2)};function O(e){const t=e.matchAll(/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+)\s*)?\)/g);return Array.from(t).reduce((e,[t,...s])=>{const r=e=>A(null==e?255:Number(e));return e.replace(t,`#${s.map(r).join("")}`)},e)}const R=(e,t=["","",""])=>{const s=[2,0,1,1,1,2];return t[e%100>4&&e%100<20?2:s[Math.min(e%10,5)]]};var N=s(20330),k=s.n(N);const P=e=>k().observable(e),U="https:",L="fake",$=U,j=["origin","protocol","host","hostname","username","password","port"],q=e=>e.host===L,F=e=>{try{return new globalThis.URL(e)}catch{return new globalThis.URL(e,[$,"//",L].join(""))}},B=e=>{const t=F(e);return new Proxy(t,{set(e,t,s){return"query"===t&&(e.search=new URLSearchParams(s).toString()),"path"===t&&(e.pathname=s),t in e&&(e[t]=s),!0},get(e,t,s){const r=q(e);if("href"===t)return s.toString();if("isAbsolute"===t)return!1===r;if("isRelative"===t)return r;if("query"===t){const{searchParams:t}=e,s=[...new Set(t.keys())];return s.reduce((e,s)=>{const r=t.getAll(s);return{...e,[s]:1===r.length?r[0]:r}},{})}if("path"===t)return e.pathname;if(r){if(j.includes(t))return;if("toString"===t)return()=>e.toString().replace([e.protocol,"//",e.host].join(""),"")}const i=e[t];return"function"===typeof i?i.bind(e):i},has(e,t){return(!q(e)||!j.includes(t))&&(Reflect.has(...arguments)||["isRelative","isAbsolute","query","path"].includes(t))}})},H=e=>{const{href:t,host:s,hostname:r,origin:i,path:a,pathname:n,searchParams:o,query:l,search:d,...c}=e,u=t??i??(r??s?[U,"//",r??s].join(""):null)??"",p=B(u);new URLSearchParams(l??d??o).forEach((e,t)=>{p.searchParams.append(t,e)});const h=a??n;return null!=h&&(p.pathname=h),Object.assign(p,c)},V=e=>{if(null===e)throw new Error(`Argument invalid value: '${e}'`);if("string"===typeof e)return B(e);if("object"===typeof e&&!1===e instanceof Array)return H(e);throw new Error(`Argument invalid type: '${typeof e}'`)};class z{static create(e=""){return new z(e)}static join=v;constructor(e=""){return V(e)}}var W=s(79369);const Q={surname:"s",name:"n",patronymic:"p"},G=e=>`{${e}}`,Y=(e,t=Q)=>{const s=RegExp(["{[",Object.values(t).reduce((e,t)=>e.concat(t).concat(t.toUpperCase()),""),"]}","[^[:alphanum]]*"].join(""),"g"),r=e.replace(/(\w)/g,G("$1"));return e=>Object.entries(e).reduce((e,[s,r])=>["",null,void 0].includes(r)?e:e.replace(G(t[s]),r[0]??"").replace(G(t[s].toUpperCase()),r),r).replace(s,"").replace(/\s+/g," ").replace(/(^\s|\s$)/,"")},Z=e=>`mdi mdi-${e}`,K=e=>{const t="string"===typeof e||e instanceof String?e:"";return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},X=(e,t,{URL:s,document:r}=window)=>{const{filename:i}=t,a=s.createObjectURL(e),n=r.createElement("a");n.setAttribute("download",i),n.setAttribute("href",a),r.body.appendChild(n),n.click(),s.revokeObjectURL(a),n.remove()};var J=s(73663),ee=s(21587);const te=Symbol("sizeConverterEnforcer"),se=(e,t)=>{const s=e=>t.getPropertyValue(e.substring(4,e.length-1))||e;return Array.isArray(e)?e.map(e=>se(e,t)):"object"===typeof e&&null!=e?Object.entries(e).reduce((e,[s,r])=>({...e,[s]:se(r,t)}),{}):/^var\(--/.test(e)?s(e):e};class re{static _instance;_gageElement;constructor(e){if(e!==te)throw new Error("Instantiation failed: use SizeConverter.instance");this._gageElement=re._createGageElement()}static get instance(){return null==re._instance&&(re._instance=new re(te)),re._instance}static _createGageElement(){const e=document.createElement("div");return e.style.display="none",document.body.append(e),e}static _extractCssVarValue(e,t){return t.getPropertyValue(e.substring(4,e.length-1))||e}convertCssVarToValue(e,t){return null==t&&(t=getComputedStyle(this._gageElement)),Array.isArray(e)?e.map(e=>this.convertCssVarToValue(e,t)):"object"===typeof e&&null!=e?Object.entries(e).reduce((e,[s,r])=>({...e,[s]:this.convertCssVarToValue(r,t)}),{}):/^var\(--/.test(e)?re._extractCssVarValue(e,t):e}convertToAbsoluteValue({size:e="",unit:t,value:s}={},r){if(e=this.convertCssVarToValue(String(e),r),t=t??e.match(/[a-zA-Z]+$/)?.[0]??"px",s=(s??parseFloat(e))||0,!1===ee.CanvasSizeUnits.includes(t))throw new J.CoreError(`Invalid unit type was passed and cannot be converted: "${t}"`);const i=this._gageElement;return i.style.fontSize=`${s}${t}`,parseFloat(getComputedStyle(i).getPropertyValue("font-size"))}}function ie(e){return"function"==typeof e?ae(e):e}function ae(e){return{is:t=>"function"===typeof e?e(t):e.is(t),and(e){return ae(t=>this.is(t)&&ie(e).is(t))},or(e){return ae(t=>this.is(t)||ie(e).is(t))},not(){return ae(e=>!this.is(e))}}}class ne{_message;_placeholders;static handler=(e,t)=>e.replace(/{\w+}/g,e=>t[e.substring(1,e.length-1)]||e);constructor(e,t){this._message=e,this._placeholders=t}toString(){return this.constructor.handler(this._message,this._placeholders)}toJSON(){return this.toString()}}var oe=s(57469),le=s.n(oe),de=s(93437);function ce(e,t,s){s.p.extendedCustomFormatPlugin=!0;const r=t.prototype,i=r.parse;r.parse=function(e){return i.call(this,e)}}le().extend(de.A),le().extend(ce);const ue=le()},38627:(e,t,s)=>{var r=s(21914);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("36e31acd",r,!0,{sourceMap:!1,shadowMode:!1})},39515:(e,t,s)=>{s.r(t),s.d(t,{AuthAdapterError:()=>z,AuthManager:()=>V,ColorManager:()=>F,ConstManager:()=>$,DatasetManager:()=>v,EB:()=>r,EventBus:()=>l,EventBusEvent:()=>n,EventBusWrapper:()=>u,FileManager:()=>I,PopupManager:()=>Z,Route:()=>ae,RouteManager:()=>ie,Store:()=>R,StoreManager:()=>i,ValueObject:()=>D,buildStoreValue:()=>C,createStore:()=>k,filterObject:()=>w,store:()=>P,unwrapStoreValue:()=>A,useEventBus:()=>h});var r={};s.r(r),s.d(r,{EventBus:()=>l,EventBusEvent:()=>n,EventBusWrapper:()=>u,useEventBus:()=>h});var i={};s.r(i),s.d(i,{Store:()=>R,ValueObject:()=>D,buildStoreValue:()=>C,createStore:()=>k,filterObject:()=>w,store:()=>P,unwrapStoreValue:()=>A});class a{static EVENT_NAVIGATE="navigate";static EVENT_STATE_CHANGE="state-change";ns;type;context;constructor(e,t="",s){return this.type=e,this.ns=t,this.context=s,Object.freeze(this)}get fullType(){return this.ns?`${this.type}.${this.ns}`:this.type}static create(e,...t){if(e instanceof a)return e;if("string"===typeof e)return new a(e,...t);throw new Error("Invalid argument type")}}const n=a;class o{_listeners;_hooks;constructor(){this._hooks=new Set,this._listeners=Object.create(null)}hook(e){return this._hooks.add(e),()=>this._hooks.delete(e)}listen(e,t,s=!1){const r=n.create(e);return this._listeners[r.type]||(this._listeners[r.type]=[]),this._listeners[r.type].push({event:r,handler:t,once:s}),()=>this.unlisten(r,t)}unlisten(e,t){const s=n.create(e),r=this._listeners[s.type];if(null==r)return!1;let i=0;for(let a=0;a<r.length;++a){const e=r[a];e.event.fullType===s.fullType&&e.handler===t&&(r.splice(a,1),a--,i++)}return 0===r.length&&delete this._listeners[s.type],i>0}has(e,t){const s=n.create(e),r=this._listeners[s.type];if(!r)return!1;const i=r.some(({event:e,handler:r})=>e.fullType===s.fullType&&r===t);return i}count(e){const t=n.create(e),s=this._listeners[t.type];return s?.length??0}trigger(e,t){const s=n.create(e),r=this._listeners[s.type];if(this._callHooks(s,t),r)for(let i=0;i<r.length;++i){const{event:e,handler:a,once:n}=r[i];e.fullType===s.fullType&&(this.callEventHandler(a,s,t),n&&(r.splice(i,1),i--))}}resetListeners(){this._listeners=Object.create(null)}resetHooks(){this._hooks=new Set}reset(e=!1){this.resetListeners(),e&&this.resetHooks()}callEventHandler(e,t,s){e.apply(this,[t,s])}_callHooks(e,t){this._hooks.forEach(s=>this.callEventHandler(s,e,t))}}const l=o;var d=s(73663);class c{_eb;_disposals=[];_eventTypeResolvers=new Map;_listenStateChange;_triggerStateChange;_listenRouteNavigate;_triggerRouteNavigate;constructor(e,{context:t,listenStateChange:s,listenRouteNavigate:r,triggerRouteNavigate:i,triggerStateChange:a}={}){if(null==e)throw new d.CoreError("`eventBus` could not be undefined or null");this._eb=e,this._context=t,this._listenStateChange=s,this._triggerStateChange=a,this._listenRouteNavigate=r,this._triggerRouteNavigate=i}listenNavigate(e,t=!1){const s=this._listenRouteNavigate((...r)=>{e(...r),t&&s()});return s}unlistenNavigate(e){}triggerNavigate({url:e,params:t={}}){const s=new RegExp("^(?:\\w*:(//)?)+","i");if(!1===s.test(e))return this._triggerRouteNavigate({url:e,params:t}),!0;if(null!=window){const s=encodeURIComponent,r=Object.keys(t).map(e=>`${e}=${s(t[e])}`).join("&"),i=e.indexOf("?")>=0?"&":"?";window.location=r.length?`${e}${i}${r}`:e}return!1}listenStateChange(e,t=!1,{global:s=!1}={}){const r=this._listenStateChange(s=>{e(new n(n.EVENT_STATE_CHANGE,void 0,this._context),s),t&&r()},{global:s});return r}unlistenStateChange(e){}triggerStateChange(e,{global:t=!1}={}){this._triggerStateChange(e,{global:t})}listen(e,t,s=!1){if(null==e||""===e)return console.warn('[EventBus]: Empty "eventType" argument specified to "listen"'),()=>{};const r=this.resolveEvent(e);if(null===r)return console.warn(`[EventBus]: Empty event for alias "${e}" trying to "listen"`),()=>{};if(r.type===n.EVENT_STATE_CHANGE)return this.listenStateChange(t,s,{global:!0}),()=>{};const i=this._eb.listen(r,t,s);return this._disposals.push(i),i}unlisten(e,t){["",void 0,null].includes(e)?console.warn('[EventBus]: Empty "eventType" argument specified to "unsubscribe"'):this._eb.unlisten(e,t)}trigger(e,t){if(["",null,void 0].includes(e))return void console.warn('[EventBus]: Empty "eventType" specified to "trigger"');const s=this.resolveEvent(e);null!==s?s.type!==n.EVENT_STATE_CHANGE?this._eb.trigger(s,t):this.triggerStateChange(t,{global:!0}):console.warn(`[EventBus]: Empty event for alias "${e}" trying to "trigger"`)}has(e,t){const s=this.resolveEventType(e);return this._eb.has(s,t)}count(e){const t=this.resolveEvent(e);return null==t?0:this._eb.count(t)}dispose(){this._disposals.forEach(e=>e()),this._disposals=[]}destroy(){this.dispose()}resolveEvent(e){const t=this.resolveEventType(e);return null==t?null:t instanceof n?t:new n(t,void 0,this._context)}resolveEventType(e){const t=this.getEventTypeResolver(e);if(null!=t){const e=t();return""===e?null:e}return e}setEventTypeResolver(e,t){this._eventTypeResolvers.set(e,t)}getEventTypeResolver(e){return this._eventTypeResolvers.get(e)}}const u=c,p=new l,h=()=>({eventBus:p});let m=null;const f=Symbol("datasetManagerEnforcer"),g=new l,y={BROWSE:"browse",PICK:"pick",CANCEL:"cancel"};class v{constructor(e){if(e!==f)throw new Error("Instantiation failed: use DatasetManager.instance")}static get instance(){return m||(m=new v(f)),m}browse(e){return new Promise(t=>{const s={options:e,resolve:t};g.trigger(new n(y.BROWSE),s)})}pick(e){return new Promise(t=>{const s={options:e,resolve:t};g.trigger(new n(y.PICK),s)})}cancel(e=null){return new Promise(t=>{const s={options:e,resolve:t};g.trigger(new n(y.CLOSE),s)})}onBrowse(e){const t=new n(y.BROWSE),s=(t,s)=>{e(s)};return g.listen(t,s)}onPick(e){const t=new n(y.PICK),s=(t,s)=>{e(s)};return g.listen(t,s)}onCancel(e){const t=new n(y.CLOSE),s=(t,s)=>{e(s)};return g.listen(t,s)}}let b=null;const E=Symbol("fileManagerEnforcer"),_=new l,S={BROWSE:"browse"};class I{constructor(e){if(e!==E)throw new Error("Instantiation failed: use FileManager.instance")}static get instance(){return b||(b=new I(E)),b}browse({selectAccept:e=[],selectMultiple:t=!0}={}){return new Promise(s=>{const r={selectAccept:e,selectMultiple:t};_.trigger(new n(S.BROWSE),{options:r,resolve:s})})}onBrowse(e){const t=new n(S.BROWSE);return _.listen(t,(t,s)=>e(s))}}class D{static defaultMeta=()=>({global:!0});static getValue=e=>e instanceof D?e.value:e;value;meta=D.defaultMeta();constructor(e,t=null){this._validateMeta(t),this.value=e,this.meta={...this.meta,...t}}_validateMeta(e){if("object"!==typeof e)throw new d.CoreError("Invalid type of 'meta'")}}const M=(e,t=null)=>new D(e,t);var x=s(20330),T=s.n(x);const w=(e,t)=>Object.fromEntries(Object.entries(e).filter(t)),C=(e,t=null)=>e instanceof D?e:M(e,t),A=e=>D.getValue(e),O=Symbol("stateManagerObservable");class R{constructor(){this[O]=T().observable({state:{}}),this._commitHandlers=[]}get state(){return this[O].state}commit(e,t={}){const s=w({...this[O].state,...e},([,e])=>void 0!==e);this[O].state=s;const{isInvokeCommitHandlers:r=!0,...i}=t;r&&this._commitHandlers.forEach(t=>{t(e,i)})}replace(e){this[O].state=e}addCommitHandler(e){this._commitHandlers.push(e)}removeCommitHandler(e){this._commitHandlers=this._commitHandlers.filter(t=>t!==e)}}const N=new R,k=()=>new R,P=N;let U=null;const L=Symbol("constManagerenforcer");class ${_constants={};constructor(e=L){if(e!==L)throw new Error("Instantiation failed: use ConstManager.instance");this._constants={}}static get instance(){return U||(U=new $),U}static isConstant(e){return null!==e.match(/^%[^%]+%$/)}interpolate(e){return e.replace(/(%[^%]+%)/g,e=>this.getConstValue(e))}getConstValue(e){return"string"===typeof e&&this._constants[e]?this._constants[e]:e}setConstantsHash(e={}){this._constants=e}getConstantsHash(){return this._constants}}let j=null;const q=Symbol("colorManagerEnforcer");class F{_hash={};constructor(e=q){if(e!==q)throw new Error("Instantiation failed: use ColorManager.instance");this._hash={}}static get instance(){return j||(j=new F),j}static isConstant(e){return null!==e.match(/^%color#[^%]+%$/)}interpolate(e){return e.replace(/%color#([^%]+)%/g,(e,t)=>this.getValue(t)??e)}getValue(e){return"string"===typeof e&&this._hash[e]?this._hash[e].value:null}setHash(e={}){this._hash=Object.fromEntries(Object.entries(e).map(([e,t])=>[e,{...t,id:`%color#${e}%`}]))}getHash(){return this._hash}}let B=null;const H=Symbol("authManagerEnforcer");class V{_adapters=[];_authErrorHandlers=[];_loginHandlers=[];_logoutHandlers=[];setAdapters(e){this._adapters=e}constructor(e){if(e!==H)throw new Error("Instantiation failed: use AuthManager.instance");this._adapter=null}static get instance(){return null==B&&(B=new V(H)),B}static create(){return new V(H)}async init(e,t={}){return this._adapter=this._createAdapter(e,t),this._adapter.init()}destroy(){return new Promise(e=>{this.adapter?this.adapter.destroy().finally(()=>{this._adapter=null,e()}):e()})}login(){return Promise.all(this._loginHandlers.map(e=>e()))}logout(){return Promise.all(this._logoutHandlers.map(e=>e()))}authError(e){this._authErrorHandlers.forEach(t=>{t(e)})}onAuthError(e){return this._authErrorHandlers.push(e),()=>{this._authErrorHandlers=this._authErrorHandlers.filter(t=>t!==e)}}onLogin(e){return this._loginHandlers.push(e),()=>{this._loginHandlers=this._loginHandlers.filter(t=>t!==e)}}onLogout(e){return this._logoutHandlers.push(e),()=>{this._logoutHandlers=this._logoutHandlers.filter(t=>t!==e)}}get adapter(){return this._adapter}get adaptersList(){return this._adapters}get adaptersInfo(){const e=Object.entries(this._adapters).map(([e,t])=>({name:e,config:(new t).configDefault}));return e}_createAdapter(e,t){const s=this._adapters[e];if(null==s)throw new d.CoreError(`AuthManager adapter not found: ${e}`);try{return new s(t)}catch(r){const t=new d.CoreError(`AuthManager adapter "${e}" create failed`,{reason:r});throw Error.captureStackTrace&&Error.captureStackTrace(t,this._createAdapter),t}}}class z extends d.InfrastructureError{constructor(...e){super(...e),this.name="AuthAdapterError"}}let W=null;const Q=Symbol("instanceEnforcer"),G=new l,Y=Object.freeze({OPEN:"open",CLOSE:"close"});class Z{_isOpenResolver=()=>!1;static get instance(){return null==W&&(W=new Z(Q)),W}get isOpen(){return this._isOpenResolver()}setIsOpenResolver(e){this._isOpenResolver=e}constructor(e){if(e!==Q)throw new Error("Instantiation failed: use PopupManager.instance")}open(e){return new Promise(t=>{G.trigger(new n(Y.OPEN),{...e,resolve:t})})}close(){return new Promise(e=>{G.trigger(new n(Y.CLOSE),{resolve:e})})}onOpen(e){const t=new n(Y.OPEN);return G.listen(t,(t,s)=>e(s))}onClose(e){const t=new n(Y.CLOSE);return G.listen(t,(t,s)=>e(s))}}var K=s(14120);let X=null;const J=new l,ee=Symbol("routeManagerEnforcer"),te=Symbol("routeManagerObservable"),se=Object.freeze({NAVIGATE:"navigate"}),re=({path:e,query:t},s="")=>{const r=new K.Url({path:e,query:t}).toString();return""===s?r:new K.Url({href:s,hash:r}).toString()};class ie{routeStringifier=re;_routeHandlers=[];constructor(e){if(e!==ee)throw new Error("Instantiation failed: use RouteManager.instance");this[te]=T().observable({route:null})}static get instance(){return null==X&&(X=new ie(ee)),X}get route(){return this[te].route}setRoute(e,t=!0){this[te].route=e,t&&this._routeHandlers.forEach(t=>t(e))}navigate({path:e,query:t={}}){J.trigger(new n(se.NAVIGATE),{path:e,query:t})}onNavigate(e){const t=new n(se.NAVIGATE);return J.listen(t,(t,s)=>e(s))}addRouteHandler(e){this._routeHandlers.push(e)}removeRouteHandler(e){this._routeHandlers=this._routeHandlers.filter(t=>t!==e)}buildRouteString({path:e,query:t},s=""){return this.routeStringifier({path:e,query:t},s)}}class ae{routeStringifier=ie.instance.routeStringifier;path="";query={};constructor({path:e="",query:t={}}={}){this.path=e,this.query=t}toString(){return this.routeStringifier(this)}}},39625:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".data-item[data-v-4a6f04b7]{font-size:var(--w-tooltip-item_font-size);font-family:var(--w-tooltip-item_font-family);font-weight:var(--w-tooltip-item_font-weight);text-align:var(--w-tooltip-item_text-align);color:var(--w-tooltip-item_color)}.data-item__prefix[data-v-4a6f04b7]{margin-right:var(--w-tooltip-item-prefix_margin-right);font-size:var(--w-tooltip-item-prefix_font-size);font-family:var(--w-tooltip-item-prefix_font-family);font-weight:var(--w-tooltip-item-prefix_font-weight);color:var(--w-tooltip-item-prefix_color)}.data-item__postfix[data-v-4a6f04b7]{margin-left:var(--w-tooltip-item-postfix_margin-left);font-size:var(--w-tooltip-item-postfix_font-size);font-family:var(--w-tooltip-item-postfix_font-family);font-weight:var(--w-tooltip-item-postfix_font-weight);color:var(--w-tooltip-item-postfix_color)}",""]);const l=o},41082:(e,t,s)=>{s.r(t),s.d(t,{BaseDto:()=>l,Mapper:()=>d,SimpleMapper:()=>c,applyConstructorOrFactory:()=>n,buildDtoSafeResult:()=>o});var r=s(14120),i=s(73663);const a=(e,t)=>Array.isArray(t)?t.map(e):e(t),n=(e,t)=>{if([Number,Boolean,String,Symbol].includes(e))return a(e,t);try{return a(t=>new e(t),t)}catch{return a(e,t)}},o=function(e,t){try{return(0,r.success)(a(t=>new e(t),t))}catch(s){return s instanceof i.BaseError&&s.captureStackTrace(this),setTimeout(()=>{throw s}),(0,r.fail)(s)}};class l{constructor(e){return this._validate(e),Object.freeze(Object.assign(this,e))}_validate(e){}}class d{static toEntity(e){}static toDto(){}}class c extends d{static Map={};static toEntity(e){return Object.fromEntries(Object.entries(this.Map).map(([t,s])=>[t,e[s]]))}static toDto(e){return Object.fromEntries(Object.entries(this.Map).map(([t,s])=>[s,e[t]]))}}},42435:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".aside[data-v-23d19376]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:25rem;height:100%}.content-grid[data-v-23d19376]{display:grid;gap:.5rem}",""]);const l=o},42906:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cf",class:e.cssClass,style:e.cssStyle},[e._t("default",function(){return[e.isEditorMode?t("code",[e._v("default slot")]):e._e()]})],2)},i=[],a=s(99960);const n=()=>({props:{height:{type:String,default:"100"}}}),o={extends:a.A,data:()=>({descriptor:n()})},l=o;var d=s(81656),c=(0,d.A)(l,r,i,!1,null,null,null);const u=c.exports},43154:(e,t,s)=>{var r=s(99165);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("41ce0148",r,!0,{sourceMap:!1,shadowMode:!1})},43157:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".filter-panel__textarea[data-v-6ce0ea74] .textarea{min-height:5rem;max-height:20rem}.filter-panel__badge[data-v-6ce0ea74]{height:1.225rem}",""]);const l=o},43342:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".tooltip[data-v-1d60716e]{padding:var(--w-tooltip_v-padding) var(--w-tooltip_h-padding);color:var(--w-tooltip_color);background-color:var(--w-tooltip_bg-color);border-width:var(--w-tooltip_border-width);border-color:var(--w-tooltip_border-color);border-style:var(--w-tooltip_border-style);border-radius:var(--w-tooltip_border-radius);-webkit-box-shadow:var(--w-tooltip_box-shadow);box-shadow:var(--w-tooltip_box-shadow)}.tooltip__title[data-v-1d60716e]{text-align:var(--w-tooltip-title_text-align);color:var(--w-tooltip-title_color);font-size:var(--w-tooltip-title_font-size);font-family:var(--w-tooltip-title_font-family);font-weight:var(--w-tooltip-title_font-weight)}.tooltip__title+.tooltip__data-items[data-v-1d60716e]{margin-top:.5rem}.tooltip__data-item+.tooltip__data-item[data-v-1d60716e]{margin-top:.25rem}",""]);const l=o},43545:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".textarea[data-v-43bad34a]{min-height:15rem}",""]);const l=o},45413:(e,t,s)=>{var r=s(64131);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("767009c2",r,!0,{sourceMap:!1,shadowMode:!1})},46586:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".VariablePanel_scope_oVkRP{}.VariablePanel_scope_oVkRP+.VariablePanel_scope_oVkRP{margin-top:var(--spacer4)}.VariablePanel_list-item__0Z2i{display:grid;grid-template-columns:auto 1fr auto}.VariablePanel_list-item__text_WgwHj{}",""]),o.locals={scope:"VariablePanel_scope_oVkRP d-flex flex-col mar-bot-4 gap-1 .5 pad-h-2","list-item":"VariablePanel_list-item__0Z2i cursor-pointer gap-2","list-item__text":"VariablePanel_list-item__text_WgwHj overflow-hidden w-100"};const l=o},47403:(e,t,s)=>{var r=s(66357);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("9d18dfa4",r,!0,{sourceMap:!1,shadowMode:!1})},47437:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".textarea.resizable[data-v-14cfa7f8]{resize:both}",""]);const l=o},47508:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".form-control[data-v-1e30684a]{z-index:0}",""]);const l=o},49164:(e,t,s)=>{var r=s(3006);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("6934cd12",r,!0,{sourceMap:!1,shadowMode:!1})},49234:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".tooltip[data-v-5aef6748]{border:1px solid var(--color-red)}",""]);const l=o},49782:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".Label_label_Mn6gR{}.Label_hint_sI_Aq{}",""]),o.locals={label:"Label_label_Mn6gR form-label text-truncate",hint:"Label_hint_sI_Aq icon cursor-help w-fitc h-fitc"};const l=o},49808:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".layout[data-v-e7e47930]{position:relative;display:-webkit-box;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;background:var(--color-white)}.layout__footer[data-v-e7e47930]{display:grid;grid-template-columns:1fr auto;border-top:1px solid var(--color-border)}.table[data-v-e7e47930]{--bg-header:#edf4fe}.table thead[data-v-e7e47930]{position:sticky;top:0;z-index:1}.table td[data-v-e7e47930],.table th[data-v-e7e47930]{padding-inline:1rem}.table th[data-v-e7e47930]{padding-block:.75rem;background:var(--bg-header)}.table td[data-v-e7e47930],.table th[data-v-e7e47930]{border-right:1px solid var(--color-border)}.table td[data-v-e7e47930]:first-child{position:sticky;left:0;background:var(--bg-header)}.is-hidden[data-v-e7e47930]{visibility:hidden}",""]);const l=o},50291:(e,t,s)=>{var r=s(52642);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("b785ac1e",r,!0,{sourceMap:!1,shadowMode:!1})},51861:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".btn-action[data-v-038df654]{color:var(--color-grey-dark)!important}.btn-action[data-v-038df654]:active,.btn-action[data-v-038df654]:focus,.btn-action[data-v-038df654]:hover{color:var(--color-primary)!important}",""]);const l=o},51970:(e,t,s)=>{var r=s(22280);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("5205d94f",r,!0,{sourceMap:!1,shadowMode:!1})},52642:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".grid-layout[data-v-2f18b902]{display:grid;grid-template-columns:auto 1fr auto;height:100%}.grid-layout__content[data-v-2f18b902]{overflow:auto;height:0;min-height:100%}",""]);const l=o},52681:(e,t,s)=>{s.r(t),s.d(t,{ComponentOptions:()=>w,default:()=>k});var r=s(20903),i=s(73663),a=s(29565),n=s(85701),o=s(21587),l=s(7178),d=function(e,t){return e("div",t._g({key:"placeholder",class:{[t.$style.root]:!0,"cursor-pointer":null!=t.listeners.click},attrs:{title:`${t.parent.type} placeholder`}},{...t.listeners.click&&{click:()=>t.listeners.click(t.$event)}}),[e("mark",{class:t.$style.mark},[t._v(t._s(t.data.attrs&&t.data.attrs.title||t.parent.$t(t.parent.$attrs["data-name"]||t.parent.type)))]),e("code",{class:t.$style.code},[null!=t.scopedSlots.default?e("div",[t._t("default")],2):t._e(),null!=t.scopedSlots.slot?e("div",{class:{[t.$style.slot]:!0,[t.$style["slot--active"]]:t.injections.hasSlotContent({parent:t.parent})},attrs:{title:"slot area"}},[t._t("slot",function(){return[t._v("Slot content")]})],2):t._e()])])},c=[];const u={inject:{hasSlotContent:{from:"hasSlotContent",default:()=>({parent:e})=>null!=e&&e.getSlotNames().some(t=>Boolean(e.$scopedSlots[t]))}}},p=u;var h=s(18850),m=s.n(h),f=s(81656);function g(e){this["$style"]=m().locals||m()}var y=(0,f.A)(p,d,c,!0,g,null,null);const v=y.exports;var b=function(e,t){return e("component",t._g(t._b({},"component",{is:t.data.attrs&&t.data.attrs.tag||"div",...t.injections.resolveRootNodeProps({data:t.data,parent:t.parent,props:t.props})},!1),t.listeners),[t.injections.hasPlaceholder({data:t.data,listeners:t.listeners,parent:t.parent})?t._t("placeholder",function(){return[e(t.injections.placeholder,t._g({tag:"component",scopedSlots:t._u([t.injections.hasSlot({scopedSlots:t.scopedSlots,parent:t.parent})?{key:"slot",fn:function(){return[t._t("slot",function(){return[e(t.injections.parentSlotDefault,{tag:"component"})]})]},proxy:!0}:null],null,!0)},{...t.listeners.placeholder&&{click:(...e)=>t.listeners.placeholder(...e)}}),[[t._t("placeholder-content",function(){return[t.data.attrs&&t.data.attrs.placeholder&&"string"===typeof t.data.attrs.placeholder.content?[t._v(" "+t._s(t.parent.$t(t.data.attrs.placeholder.content))+" ")]:t.data.attrs&&t.data.attrs.placeholder&&"object"===typeof t.data.attrs.placeholder.content?[e(t.data.attrs.placeholder.content,{tag:"component"})]:t._e()]})]],2)]}):t._e(),t.parent.isEditorMode&&null!=t.scopedSlots["editor-mode"]?[e("div",{staticClass:"w-100 d-flex"},[t._t("editor-mode")],2)]:t._e(),t.injections.isShowDefaultSlot({injections:t.injections,data:t.data,listeners:t.listeners,parent:t.parent})?t._t("default",null,null,t.injections.resolveRootNodeProps({data:t.data,parent:t.parent})):t._e()],2)},E=[];const _={inject:{placeholder:{from:Symbol("placeholder"),default:v},hasSlot:{from:Symbol("hasSlot"),default:()=>({parent:{isChildAllowed:e,getSlotNames:t,slotDefault:s,$scopedSlots:r},scopedSlots:i})=>null!=r[s]||e()&&(null!=i.slot||t().includes(s))},resolveRootNodeProps:{from:Symbol("resolveRootNodeProps"),default:()=>({data:{attrs:{placeholder:e,...t}={},style:s={},class:r="",staticClass:i=""},parent:a})=>({class:[a.cssClass,i].concat([r].flat()),style:[a.cssStyle,s].flat(),iseditormode:void 0,...t})},hasPlaceholder:{from:Symbol("isPlaceholderMode"),default:()=>({data:{attrs:{placeholder:e}={}},listeners:t,parent:s})=>s.isEditorMode&&("object"===typeof e?!0===e?.show:!1===[!1,null,void 0].includes(e)||null!=t?.placeholder)},isShowDefaultSlot:{from:Symbol("isShowDefaultSlot"),default:()=>({injections:e,data:t,listeners:s,parent:r})=>!0!==t.attrs?.placeholder?.toggle||!1===e.hasPlaceholder({data:t,listeners:s,parent:r})},parentSlotDefault:{from:Symbol("parentSlotDefault"),default:()=>({functional:!0,render:(e,{parent:t})=>{const{$scopedSlots:s,slotDefault:r}=t;return s[r]?.()||["default slot"]}})}}},S=_;var I=(0,f.A)(S,b,E,!0,null,null,null);const D=I.exports,M={height:[{value:"",label:"inherit"}],sizeUnits:[{value:"",label:"inherit"},{value:"1-12",label:"1/12"},{value:"2-12",label:"2/12"},{value:"3-12",label:"3/12"},{value:"4-12",label:"4/12"},{value:"5-12",label:"5/12"},{value:"6-12",label:"6/12"},{value:"7-12",label:"7/12"},{value:"8-12",label:"8/12"},{value:"9-12",label:"9/12"},{value:"10-12",label:"10/12"},{value:"11-12",label:"11/12"},{value:"12-12",label:"12/12"}],marginPadding:[{value:"",label:"inherit"},{value:"auto",label:"auto"},{value:"none",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"l1",label:"layout 1"},{value:"l2",label:"layout 2"},{value:"l3",label:"layout 3"},{value:"l4",label:"layout 4"},{value:"l5",label:"layout 5"},{value:"l6",label:"layout 6"},{value:"l7",label:"layout 7"}]},x=()=>({props:{slot:{type:String,default:"default"},position:{type:String,default:"",options:[{value:"",label:"inherit"},{value:"pos-static",label:"static"},{value:"pos-abs",label:"absolute"},{value:"pos-rel",label:"relative"},{value:"pos-fixed",label:"fixed"},{value:"pos-sticky",label:"sticky"}]},display:{type:String,default:"",options:[{value:"",label:"inherit"},{value:"d-block",label:"block"},{value:"d-inline",label:"inline"},{value:"d-inline-block",label:"inline-block"},{value:"d-flex",label:"flex"},{value:"d-inline-flex",label:"inline-flex"}]},width:{type:String,default:"",options:M.sizeUnits},widthUnit:{type:String,default:"",options:[{value:"",label:"size"},{value:"%",label:"%"},{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"},{value:"vw",label:"vw"}]},height:{type:String,default:"",options:M.height},heightUnit:{type:String,default:"%",options:[{value:"%",label:"%"},{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"},{value:"vh",label:"vh"}]},marginT:{type:String,default:"",options:M.marginPadding},marginR:{type:String,default:"",options:M.marginPadding},marginB:{type:String,default:"",options:M.marginPadding},marginL:{type:String,default:"",options:M.marginPadding},paddingT:{type:String,default:"",options:M.marginPadding},paddingR:{type:String,default:"",options:M.marginPadding},paddingB:{type:String,default:"",options:M.marginPadding},paddingL:{type:String,default:"",options:M.marginPadding},cssClass:{type:Array,default(){return[]}},cssStyle:{type:Object,default(){return{}}},varAliases:{type:Object,default(){return{}}}},vars:{},events:{},cssVars:{}});var T=s(97165);const w={__name:"Elem",mixins:[(0,n.useWatchWhenMixin)(),(0,n.useComputedWhenMixin)()],components:{WElem:D},meta:{descriptor:x,panels:[],panelsDefault:[o.StylePanelAsync,o.EventPanelAsync,o.VariablePanelAsync],cssVars:{},isChildAllowed:!0,slotNames:["default"]},provide(){return{$widget:(0,n.widget)(this)}},inject:["$errorService"],props:{id:{type:String,default:""},type:{type:String,default:""},initProps:{type:Object,default(){return{}}},slotData:{type:Object,default(){return{}}}},data(){return{cssClass:{},cssStyle:{},slotDefault:"default",descriptor:this.meta.descriptor()}},computedEditor:{propsDefault(){return(0,l.fS)(this.descriptor)},props(){const e=(0,r.A)(this.initProps),t=(0,l.v6)(this.propsDefault,e);return this.processPropsConst(t)},$cssVarsStatic(){const{props:e,descriptor:{cssVars:t},meta:{cssVars:s}={}}=this;return(0,l.s5)({...t,...s},e)},$cssVarsStyle(){return this.$genCssVarsStyle(this.$cssVarsStatic)},isDebugMode(){return!1===this.$root.constructor.config.silent}},computed:{$storeState(){const{state:e}=a.store,[,t]=this.buildInternalStateFromExternal(e);return t},$routeCurrent(){return a.RouteManager.instance.route},isEditorMode(){return this.$root.isEditorMode}},watch:{descriptor:{handler:l.af,immediate:!0}},constructed(){},beforeCreate(){this.meta=this.$options.meta,this.$storeMeta=(0,l.UI)(this)},created(){this.$watch("$cssVars",this.genCssStyle,{immediate:!0}),this.isEditorMode?(this.$watch("props.cssClass",this.genCssClass,{immediate:!0}),this.$watch("props.cssStyle",this.genCssStyle,{immediate:!0}),this.$watch("$cssVarsStatic",this.genCssStyle,{immediate:!0})):(this.genCssClass(),(0,l.OV)([this.descriptor,this.$props,this.cssClass,this.cssStyle]));const{$watchStore:e}=(0,l._k)(this);(0,l.o1)(this,"$watchStore",e);const{eventBus:t}=(0,a.useEventBus)();this.setEventBus(t),l.B5.call(this,T.U2.CREATED)},mounted(){this._mounted()},beforeDestroy(){this.$eventBus.dispose(),l.B5.call(this,T.U2.DESTROYED)},methods:{super(e,{mixins:t=!0,parent:s=!0}={}){null==e&&(e=w);const r=e=>e?e.flatMap(({methods:e={},mixins:t})=>[...r(t),e]):[],i=({methods:e={},extends:t,mixins:s}={})=>[...null!=t?i(t):[],...r(s),e],a=[...!0===s?i(e.parent):[],...!0===t?r(e.mixins):[],e.methods];return Object.assign({},...a)},genCssClass(){const{props:e}=this,t={[T.wy]:!0};return["display","position","cssClass"].forEach(s=>{[].concat(e[s]).filter(Boolean).forEach(e=>{t[e]=!0})}),T.Kz.forEach((s,r)=>{const{[r]:i}=e;i&&(t[`${s}-${i}`]=!0)}),""===e.widthUnit&&""!==e.width&&(t[`w-${e.width}`]=!0),this.$set(this,"cssClass",t),t},genCssStyle(){const e={...this.props.cssStyle};"size"===this.props.widthUnit||Number.isNaN(this.props.width)||""===this.props.width||(e.width=`${this.props.width}${this.props.widthUnit}`),Number.isNaN(this.props.height)||""===this.props.height||(e.height=`${this.props.height}${this.props.heightUnit}`),this.$set(this,"cssStyle",{...this.$cssVarsStyle,...e})},$buildCssVarsStyle(e,t=this.props){return this.$genCssVarsStyle((0,l.s5)(e,t))},$genCssVarsStyle:l.Pn,getSlotNames(){return"function"===typeof this.meta.slotNames?this.meta.slotNames.call(this,this):this.meta.slotNames},getPanels(){return[]},isChildAllowed(e){return"function"===typeof this.meta.isChildAllowed?this.meta.isChildAllowed.call(this,e,this):this.meta.isChildAllowed},setEventBus(e){if(null!=this.$eventBus)return;const t=new a.EventBusWrapper(e,{context:{id:this.id,type:this.type},listenStateChange:(e,{global:t=!1}={})=>!1===t?this.$watchStore({handler(t,s){e(s)}}):this.$watch(()=>a.store.state,t=>{const s=this.buildInternalStateFromExternal(t,{hasMap:!1});e(s)}),triggerStateChange:(e,{global:t=!1}={})=>this.$storeCommit(e,{hasMap:!1===t}),listenRouteNavigate:e=>this.$watch("$routeCurrent",e),triggerRouteNavigate:({url:e,params:t})=>this.$routeNavigate({path:e,query:t})});(0,l.o1)(this,"$eventBus",t),null!=this.$root.$options.sandbox?(0,l.o1)(this,"eventBusWrapper",new l.HX):(0,l.o1)(this,"eventBusWrapper",t),(0,l.Xx)(this),this.$nextTick(()=>this.subscribe()),(0,l.ko)(this)},$storeCommit(e,{global:t=!1,hasMap:s=null,validate:r=!0}={}){const i=this.buildExternalStateFromInternal(e,{hasMap:null===s?!1===t:s,validate:r});Object.keys(i).length>0&&a.store.commit(i,{context:this})},buildExternalStateFromInternal(e,{hasMap:t=!0,validate:s=!0,buildExternalStateValue:r}={}){const{vars:i}=this.descriptor,a=t?this.props.varAliases:null,n=(0,l.yu)({internalState:e,varAliases:a,varsDescriptor:i},{buildStoreValue:r});return n},buildInternalStateFromExternal(e,{hasMap:t=!0}={}){const{vars:s}=this.descriptor,{varAliases:r}=this.props,i=(0,l.GK)({externalState:e,varAliases:t?r:null,varsDescriptor:s}),a=(0,l.Lz)(i,{varsDescriptor:s});return[i,a]},$routeNavigate({path:e,query:t={}},{hasMap:s=!1}={}){s&&(t=this.buildExternalStateFromInternal(t,{hasMap:s,buildExternalStateValue:e=>e})),a.RouteManager.instance.navigate({path:e,query:t})},$c:l.$c,subscribe(){},$eventTrigger(e,t){this.$eventBus.trigger(e,t)},$eventListen(e,t,s=!1){return this.$eventBus.listen(e,t,s)},$eventCount(e){return this.$eventBus.count(e)},_mounted(e=!0){(0,l.U3)(this),e&&l.B5.call(this,T.U2.MOUNTED)},processPropsConst(e){return(0,l.v2)(e)},handleError(e,{scope:t="handleError"}={}){e.isCancel||(null==e.scope&&(e.scope=t),this.$errorService.handleError({error:e,context:this,scope:e.scope}))},$handleError(e,{scope:t="handleError"}={}){this.handleError(e,{scope:t})},$debugMessage(e,{type:t="warning",scope:s="method"}={}){const r=new i.WidgetDebugMessage(e,{},{type:t,scope:s});this.$errorService.handleError({error:r,context:this,scope:s})},propChanged(){const{propsDefault:e,props:t}=this,s=(0,l.Gb)(e,t);l.B5.call(this,T.U2.PROPS_CHANGE,{payload:{props:s}})}},resolvePanels({type:e=""}={}){return"default"===e?this.meta.panelsDefault:[...this.meta.panels,...this.methods.getPanels()]}},C=w,A=C;var O,R,N=(0,f.A)(A,O,R,!1,null,null,null);const k=N.exports},54149:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".node__content[data-v-7d8569dc]{--depth-padding:calc(var(--depth, 0)*1rem);display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:.5rem 1rem;padding-left:calc(var(--depth-padding) + 1rem);-webkit-box-align:center;align-items:center;-webkit-transition:background .1s ease;transition:background .1s ease}.node__content.selected[data-v-7d8569dc],.node__content[data-v-7d8569dc]:hover{background:var(--color-primary-focus)}",""]);const l=o},54535:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,'.node[data-v-2a0a95df]{--depth-padding:calc(var(--depth, 0)*1rem)}.node__content[data-v-2a0a95df]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:.5rem 1rem;padding-left:calc(var(--depth-padding) + 1rem);-webkit-box-align:center;align-items:center;-webkit-transition:background .1s ease;transition:background .1s ease}.node__content.selected[data-v-2a0a95df],.node__content[data-v-2a0a95df]:hover{background:var(--color-primary-focus)}.node__children[data-v-2a0a95df]{position:relative}.node__children[data-v-2a0a95df]:before{position:absolute;left:calc(var(--depth-padding) + 1.5rem);top:0;border-left:1px solid var(--color-grey-light);width:2px;height:100%;content:""}',""]);const l=o},55943:(e,t,s)=>{s.r(t),s.d(t,{useFetchDataEventMixin:()=>a});var r=s(96578);const i=()=>Promise.all([s.e(4110),s.e(4648),s.e(1613)]).then(s.bind(s,543)),a=(e={methodName:""})=>({meta:{panels:[i]},data:()=>({descriptor:{props:{[r.Hv]:{...r.IN}},events:{[r.H6]:{listen:r.Hv}}}}),subscribe:[{event:r.H6,handler(){this[e.methodName]?.()}}]})},56196:(e,t,s)=>{s.r(t),s.d(t,{ServiceProvider:()=>o});var r=s(73663);const i={SINGLETON:Symbol.for("singleton"),TRANSIENT:Symbol.for("transient")},a={FACTORY:Symbol("factory"),CONSTRUCTOR:Symbol("ctor"),CONSTANT:Symbol("constant")};class n{_registry=new Map;_artifactory=new WeakMap;static create(){return new n}setOptions(e,t={},s=!1){if(!1===this._registry.has(e))throw new r.CoreError(`Service "${e.toString()}" does not exist in container to apply "setOptions".`);const a=this._registry.get(e),n=this._artifactory.get(a),{config:{lifetime:o}}=a;if(o===i.SINGLETON&&null!=n.instance)throw new r.CoreError(`Unable to apply "setOptions" to "${e.toString()}" due to lifetime type is "${i.SINGLETON.toString()} and instance exists"`);return n.options=s?{...n?.options,...t}:t,this}register(e,t,s){const r={value:t,config:s};return this._registry.set(e,r),this._artifactory.set(r,{}),this}remove(e){return this._registry.delete(e),this}get(e,t){if(!1===this.has(e))return null;const s=this._registry.get(e),{value:a,config:{type:n,lifetime:o}}=s,l=this._artifactory.get(s),{options:d}=l;if(null==a&&[i.TRANSIENT,i.SINGLETON].includes(o))throw new r.CoreError(`Failed to get "${e.toString()}" from "ServiceContainer": unable to create instance for "${e.toString()}" cause "instantiator" is not callable.`,{reason:s});return o===i.TRANSIENT?this._createInstance(a,{...d,...t},n):o===i.SINGLETON?(l.instance??=this._createInstance(a,d,n),l.instance):a}has(e){return this._registry.has(e)}_createInstance(e,t,s){if(s===a.FACTORY)return e(t);if(s===a.CONSTRUCTOR){const s=e;return new s(t)}return"function"===typeof e.setOptions&&e.setOptions(t),e}}class o{static container=n.create();static meta=new Map;static setup({configs:e=[]}={}){return e.forEach(({id:e,value:t,config:s,meta:r})=>{this.container.register(e,t,s),null!=r&&this.meta.set(e,r)}),this}static init(e,{force:t=!0}={}){return e.forEach(({id:e,merge:s,options:i})=>{const a=Symbol.for(e);if(!1!==t||!this.container.has(a))try{this.container.setOptions(a,i,s)}catch(n){window.requestIdleCallback(()=>{throw new r.CoreWarning(n.message,{reason:n})})}}),this}static get(e,t){return this.container.get(e,t)}}const l=e=>t=>{const s={setOptions:(r,i)=>(e.setOptions(t,r,i),s),get:()=>e.get(t),withOptions:s=>({get:()=>e.get(t,s)})};return s};o.use=function(e){return l(this.container)(e)}},56413:(e,t,s)=>{s.r(t),s.d(t,{HttpTransportCacheService:()=>p,HttpTransportCacheServiceSymbol:()=>h,createHttpTransportCacheService:()=>m});var r=s(20903),i=s(14120),a=s(52509),n=s(37110),o=s(21514),l=s(42781);const d=e=>Object.fromEntries(Object.entries(e).map(([e,t])=>{const s=[t].flat().filter((0,a.A)((0,n.A)(o.A),(0,n.A)(l.A)));return[e,s]}).filter(([,e])=>e.length>0).sort(([e],[t])=>e.localeCompare(t))),c=(e,t)=>e.startsWith("http")?e:i.Url.join(t,e);class u{_http;_cacheService;constructor({http:e,cacheService:t}){this._http=e,this._cacheService=t}get baseURL(){return this._http.baseURL}set baseURL(e){this._http.baseURL=e}dispose(){this._http.dispose()}async request(e){const{baseURL:t}=this._http;if(!1===this._cacheService.isCachingRequired(e,{baseURL:t})){const s=this._http.request(e);return this._cacheService.wrapResponse(e,s,{baseURL:t})}const s=this._cacheService.serializeRequest(e,{baseURL:t}),r=this._cacheService.getResponseFromCache(s);if(null!=r)return this._cacheService.log(`${s}: CACHE`),r;const i=this._http.request(e);return this._cacheService.log(`${s}: NETWORK`),this._cacheService.putResponseToCache(s,i,e),i}}class p{_isEnabled=!1;_isDebugMode=!1;lifetime=1e3;_cachingUrls=new Set;_cachedResponses=new Map;constructor(){this.log(this._isEnabled?"ON":"OFF")}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled=e,this.log(this._isEnabled?"ON":"OFF")}setDebugMode(e){this._isDebugMode=Boolean(e)}addUrl(e){this._cachingUrls.add(e)}removeUrl(e){this._cachingUrls.delete(e)}clearUrls(){this._cachingUrls.clear()}clearCache(){this._cachedResponses.clear()}wrap(e){return new u({http:e,cacheService:this})}isCachingRequired(e,{baseURL:t}){if(!1===this.isEnabled)return!1;const{url:s,method:r="get",options:{cache:i}={}}=e,a=c(s,t);return!1!==i&&(!![...this._cachingUrls].some(e=>a===e)||("get"===r.toLowerCase()||![!1,void 0,null].includes(i))&&[...this._cachingUrls].some(e=>a.startsWith(e)))}wrapResponse(e,t,{baseURL:s}){const{method:r="get",url:i}=e,a=[...this._cachingUrls].some(e=>c(i,s).startsWith(e));return"get"!==r.toLowerCase()&&a?new Promise(e=>{setTimeout(()=>e(t))}):t}getResponseFromCache(e){const t=this._cachedResponses.get(e);return null==t?null:t.expire>Date.now()?t.response.then(r.A):(this._cachedResponses.delete(e),null)}putResponseToCache(e,t,s){const{options:{cache:r={}}={}}=s,{lifetime:i=null}=r;this._cachedResponses.set(e,{response:t,expire:Date.now()+6e4}),t.then(()=>{const t=this._cachedResponses.get(e);t.expire=Date.now()+(null==i?this.lifetime:i)}).catch(()=>{this._cachedResponses.delete(e)})}serializeRequest(e,{baseURL:t}){const{url:s,params:r,options:{params:a}={}}=e,n={...a,...r},o=c(s,t),l=i.Url.create({href:o,query:d(n)});return decodeURIComponent(l.toString())}log(...e){this._isDebugMode&&console.log("HTTP CACHE",...e)}}const h=Symbol("HttpClientCacheServiceSymbol"),m=()=>new p},57098:(e,t,s)=>{var r=s(46586);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("4c3a9ad6",r,!0,{sourceMap:!1,shadowMode:!1})},57646:(e,t,s)=>{s.r(t),s.d(t,{Components:()=>r.Components,Const:()=>r.Const,DescriptorTypes:()=>r.DescriptorTypes,Dremio:()=>r.Dremio,Elem:()=>r.Elem,ElemEvent:()=>r.ElemEvent,ElemRoot:()=>r.ElemRoot,Managers:()=>r.Managers,Net:()=>r.Net,Panel:()=>r.Panel,PanelEvent:()=>r.PanelEvent,Panels:()=>r.Panels,PropChangeContext:()=>r.PropChangeContext,PropChangeContextType:()=>r.PropChangeContextType,StoreOperation:()=>r.StoreOperation,addEventListener:()=>r.addEventListener,computedWhen:()=>r.computedWhen,defineDescriptor:()=>r.defineDescriptor,getDescriptorDefaultProps:()=>r.getDescriptorDefaultProps,getElemDomId:()=>r.getElemDomId,mergeWidgetMetaComponentOptionsStrategy:()=>r.mergeWidgetMetaComponentOptionsStrategy,normalizeDescriptorFormat:()=>r.normalizeDescriptorFormat,shouldWatch:()=>r.shouldWatch,useBrowserHistory:()=>r.useBrowserHistory,useComputedWhenMixin:()=>r.useComputedWhenMixin,useNavigate:()=>r.useNavigate,usePersistentStorage:()=>r.usePersistentStorage,useRouteQueryManager:()=>r.useRouteQueryManager,useWatchWhenMixin:()=>r.useWatchWhenMixin,watchWhen:()=>r.watchWhen,widget:()=>r.widget});s(22053);var r=s(21308),i=s(13210),a={};for(const n in i)["default","Components","Const","DescriptorTypes","Dremio","Elem","ElemEvent","ElemRoot","Managers","Net","Panel","PanelEvent","Panels","PropChangeContext","PropChangeContextType","StoreOperation","addEventListener","computedWhen","defineDescriptor","getDescriptorDefaultProps","getElemDomId","mergeWidgetMetaComponentOptionsStrategy","normalizeDescriptorFormat","shouldWatch","useBrowserHistory","useComputedWhenMixin","useNavigate","usePersistentStorage","useRouteQueryManager","useWatchWhenMixin","watchWhen","widget"].indexOf(n)<0&&(a[n]=()=>i[n]);s.d(t,a)},58189:(e,t,s)=>{s.d(t,{Qq:()=>h,rq:()=>d,FG:()=>g.FG,Ue:()=>f,HY:()=>n,QH:()=>o,W6:()=>g.W6,DE:()=>g.DE,Nh:()=>r,ug:()=>g.ug,OX:()=>g.OX,qi:()=>g.qi,DC:()=>g.DC,L7:()=>g.L7,y6:()=>m});const r={STRING:1,NUMBER:2,SQL:3,FIELD:4,ENTITY:5};var i=s(67176),a=s(89968);const n="DatasetClient",o=Symbol.for(n);var l=s(73663);class d extends l.InfrastructureError{context;constructor(e,{code:t,data:s,reason:r}={}){super(e,{code:t,data:s,reason:r}),this.name="DataClientRequestError"}}const c={isAdmin:!1,processResponseError:null,processResponseResult:null},u=(e={})=>({DATA:{url:"api/dataset/data",options:{method:"post",...e}}}),p=({action:e,baseURL:t="",params:s={},pathParams:r={}})=>{const i=Object.entries(r).reduce((e,[t,s])=>e.replace(new RegExp(`:${t}`,"g"),String(s)),e.url);return{url:i,method:e.options.method,params:s,options:{baseURL:t,...e.options}}};class h{_transport;config;constructor(e={}){this.config={...c,...e};const{isAdmin:t}=this.config;this._transport=(0,i.createTransport)(i.HttpAuthTransportSymbol,{headers:{"x-dremio-admin":t}},{globalError:!1})}async getData({query:e,url:t,limit:s=10},{offset:r=0,debug:i=!1}={}){const a={query:e,limit:s,offset:r,debug:i??void 0},n=await this.requestAction({action:u().DATA,params:a,baseURL:t});return n}cancelActiveRequests(){this._transport.dispose()}requestAction({action:e,baseURL:t="",params:s={},pathParams:r={},options:a={}}){const{processResponseError:n,processResponseResult:o}=this.config;return this._transport.request(p({action:e,baseURL:t,params:s,pathParams:r,options:a})).then(e=>null!=o?o(e):e).catch(e=>{if(null!=n&&n(e),e instanceof i.HttpTransportRequestCancel)throw e;throw new d(e.message,{reason:e})})}}const m=e=>new h({processResponseResult:({data:{rows:e,...t}})=>({...t,rows:e.map(Object.freeze)}),...e}),f=e=>a.ServiceProvider.use(o).withOptions(e).get();var g=s(12382)},59411:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".btn-action[data-v-7decfcf7]{color:var(--color-grey-dark)!important}.btn-action[data-v-7decfcf7]:active,.btn-action[data-v-7decfcf7]:focus,.btn-action[data-v-7decfcf7]:hover{color:var(--color-primary)!important}",""]);const l=o},60554:(e,t,s)=>{s.r(t),s.d(t,{default:()=>mr});var r=function(){var e=this,t=e._self._c;return t("w-panel",[t("ui-panel-container",[t("div",{staticClass:"dataset-grid"},[e.canAddDataset?t("div",{staticClass:"dataset-grid__head"},[t("ui-button",{on:{click:e.onDatasetCreate}},[e._v("ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…")]),t("ui-button",{staticClass:"color-grey",attrs:{type:"ghost",icon:""},on:{click:function(t){e.isDatasetImportShown=!0}}},[t("div",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-18px mdi-database-import"})])])],1):e._e(),e._l(e.datasetRequests,function(s,r){return t("div",{key:r,staticClass:"dataset-grid__item"},[t("ui-button",{staticClass:"color-grey",attrs:{type:"ghost",icon:""},on:{click:function(t){return e.onDatasetRequestPropsCopy(s)}}},[t("div",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-18px mdi-content-copy"})])]),t("ui-button",{staticClass:"text-truncate color-primary",attrs:{type:"secondary",title:e.getDatasetName(s)},on:{click:function(t){return e.onDatasetEdit(s,r)}}},[t("div",{staticClass:"icon mar-right-2"},[t("i",{staticClass:"mdi mdi-18px mdi-database"})]),t("div",{staticClass:"text-truncate text-left text-sm flex-grow"},[e._v(" "+e._s(e.getDatasetName(s))+" ")])]),t("ui-button",{staticClass:"color-grey",attrs:{type:"ghost",icon:""},on:{click:function(t){return e.onDatasetDelete(r)}}},[t("div",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-18px mdi-delete-outline"})])])],1)})],2),e.isDatasetEditorShown?t("ui-dataset-editor",e._b({attrs:{show:e.isDatasetEditorShown,dataset:e.editDataset},on:{close:e.onDatasetEditorClose,save:e.onDatasetEditorSave}},"ui-dataset-editor",{dataset:e.editDataset,dataProviders:e.dataProviders,dataProviderDefaultId:e.dataProviderDefaultId},!1)):e._e(),t("ui-dataset-import-popup",{attrs:{show:e.isDatasetImportShown},on:{close:function(t){e.isDatasetImportShown=!1},import:e.onDatasetImport}})],1),t("ui-portal",[t("transition",{attrs:{name:"toast",appear:""}},[e.toast.isActive?t("div",{staticClass:"toast pos-fixed pos-bot-center mar-bot-l5",class:e.toast.type},[e._v(e._s(e.toast.text)+" ")]):e._e()])],1)],1)},i=[],a=s(37557),n=s(60997),o=s(30213),l=s(70907),d=s(46996),c=s(33706);const u={created(){const{descriptor:e}=this,t=e.dataset?.vars;if(null!=t){const{metric:{operation:e=[]}={},dimension:{operation:s=[]}}=t;e.length>0&&this.$watch("queryParams.metrics",this.$createHandler(e)),s.length>0&&this.$watch("queryParams.dimensions",this.$createHandler(s))}},methods:{$createHandler(e){return(t,s=[])=>{if(0===t.length&&0===s.length)return;const[r]=(0,c.Xj)(t,s);0!==r.length&&this.$storeAutoMapVarAliases(r,e)}},$storeAutoMapVarAliases(e,t){e.forEach(e=>{this.$storeMeta.setVar({varAlias:e,operation:t})}),this.$storeMeta.saveVars()}}},p={mixins:[u],data:()=>({queryParams:{metrics:[],dimensions:[],fields:[],variables:[]}}),watch:{queryModels:{handler:"$queryUpdateParams",immediate:!0},queryParams:{handler(e,t){const s=["metrics","dimensions","fields","variables"].flatMap(s=>{const[,r]=(0,c.Xj)(e[s],t[s]);return r});this.$storeRemoveVarAliases(s)}}},methods:{$queryUpdateParams(e=(this.queryModels=[])){const t=e.filter(Boolean).map(e=>e.getBaseModel()),s=["variables","metrics","dimensions","fields"].reduce((e,s)=>({...e,[s]:"variables"===s?(0,c.nF)(t):(0,c.IE)(t,[s])}),{});!1===(0,d.A)(s,this.queryParams)&&(this.queryParams=s)},$storeRemoveVarAliases(e){e.length>0&&(e.forEach(e=>{this.$storeMeta.deleteVar({varAlias:e})}),this.$storeMeta.saveVars())}}};var h=s(39529),m=s(21613);const f={methods:{onDatasetRequestsChanged(e,t){if((0,d.A)(e,t))return;const s=(0,h.A)(e,t,(s,r)=>{const i=e.indexOf(s),a=t.indexOf(r);return(0,d.A)(s,r)&&i===a}),r=(0,h.A)(t,e,(s,r)=>{const i=t.indexOf(s),a=e.indexOf(r);return(0,d.A)(s,r)&&i===a});return this.$createDatasetsChangedContext(s,r)},$createDatasetsChangedContext(e,t){const{id:s}=this.elementInstance;let r=[],i=[];return e.length>0&&(r=e.map(({query:{$from:e},dataProviderId:t})=>({widgetId:s,datasetCode:e,dataProviderId:t}))),t.length>0&&(i=t.map(({query:{$from:e},dataProviderId:t})=>({widgetId:s,datasetCode:e,dataProviderId:t}))),new m.PropChangeContext({prop:this.DATASET_PROP,type:m.PropChangeContextType.DATASET,details:{added:r,deleted:i}})}}};var g=s(21230),y=function(){var e=this,t=e._self._c;return t("ui-portal",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.$root.isSandbox||e.currentView===e.View.EDIT,expression:"$root.isSandbox || currentView === View.EDIT"}],staticClass:"layout"},[t("div",{staticClass:"layout__header header pad-left-l1 pad-right-l4 pad-top-l1 pad-bot-l1 shadow"},[t("div",{staticClass:"layout-controls text-truncate"},[e.$root.isSandbox&&e.currentView===e.View.PICK?[t("h3",{staticClass:"last"},[e._v("Ð’Ñ‹Ð±Ð¾Ñ€ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ð°")])]:e._e(),e.currentView===e.View.EDIT?[t("ui-button",{attrs:{icon:"arrow-left",type:"ghost-alt",title:"Ð’Ñ‹Ð±Ð¾Ñ€ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ð°"},on:{click:e.nextView}}),t("h3",{staticClass:"last text-truncate",attrs:{title:e.datasetPropsMutable.name}},[e._v(" "+e._s(e.datasetPropsMutable.name)+" ")]),t("ui-button",{staticClass:"color-green",attrs:{icon:"table-edit",type:"ghost-alt",title:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ð°",disabled:e.errors.length>0||null===e.datasetQueryEditor.browseDataset},on:{click:e.onBrowseDataset}})]:e._e()],2),t("ui-group",[e.currentView!==e.View.NO_DATA_PROVIDERS?[e.hasError?t("span",{staticClass:"badge badge-error text-xsmall cursor-pointer",on:{click:function(t){e.isErrorShown=!e.isErrorShown}}},[e._v(" Ð¾ÑˆÐ¸Ð±ÐºÐ° ")]):e._e(),t("ui-select",{staticClass:"layout-controls__dataproviders",attrs:{options:e.dataProviderOptions},on:{change:e.onDataProviderChange},model:{value:e.dataProviderId,callback:function(t){e.dataProviderId=t},expression:"dataProviderId"}})]:e._e(),t("ui-button",{attrs:{type:"secondary"},on:{click:e.onClose}},[e._v("ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ")]),e.currentView===e.View.EDIT?[t("ui-button",{attrs:{type:"primary",disabled:e.hasError||!e.isChanged},on:{click:e.onSave}},[e._v(" Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ")])]:e._e()],2)],1),t("div",{staticClass:"layout__content bg-grey-lighter"},[e.$root.isSandbox&&e.currentView===e.View.PICK?[t("ui-dataset-picker",e._b({on:{select:t=>e.onDatasetMetaSelect(t,e.dataProviderId)}},"ui-dataset-picker",{dataProviderId:e.dataProviderId,dataProviderUrl:e.dataProviderUrl},!1))]:e._e(),e.currentView===e.View.EDIT?[t("ui-dataset-query-editor",e._b({on:{api:e.onDatasetQueryEditorApi,change:e.onDatasetPropsChanged}},"ui-dataset-query-editor",{datasetProps:e.datasetPropsMutable,dataProviderUrl:e.dataProviderUrl},!1))]:e._e(),e.currentView===e.View.NO_DATA_PROVIDERS?[t("div",{staticClass:"w-100 h-100 d-flex flex-center bg-white"},[t("div",{staticClass:"text-h2 text-muted"},[e._v("Ð£ Ð²Ð°Ñ Ð½ÐµÑ‚ Ð½Ð¸ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ….")])])]:e._e()],2),t("ui-popup",{attrs:{visible:e.isErrorShown},on:{"update:visible":function(t){e.isErrorShown=t}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"debug-info"},[t("h3",[e._v("ÐžÑˆÐ¸Ð±ÐºÐ°")]),e._l([...e.errors,...e.datasetQueryEditor.errors],function(s){return t("div",{staticClass:"alert alert-error mar-bot-l1"},[t("div",{staticClass:"alert-body text-xsmall"},[e._v(e._s(e.$t(s.message)))]),t("div",{staticClass:"pos-abs pos-bot-right mar-1"},[t("ui-button",{attrs:{icon:"content-copy",type:"secondary",size:"small"},on:{click:function(t){e.writeToClipboard(s.toString())}}})],1)])})],2)]},proxy:!0},{key:"footer",fn:function(){return[t("ui-group",{staticClass:"w-100",attrs:{justify:"end"}},[t("ui-button",{attrs:{type:"secondary"},on:{click:e.onClearError}},[e._v("ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ")]),t("ui-button",{attrs:{type:"primary"},on:{click:function(t){e.isErrorShown=!1}}},[e._v("Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ")])],1)]},proxy:!0}])})],1),!e.$root.isSandbox&&[e.View.BROWSE,e.View.PICK].includes(e.currentView)?t("div",{staticClass:"w-100 h-100 d-flex flex-center pos-abs pos-top"},[t("ui-preloader",{attrs:{size:"large"}})],1):e._e()])},v=[],b=s(20903),E=s(42302),_=s(2770),S=s(29565),I=s(85701),D=s(5021),M=s(14120),x=function(){var e=this,t=e._self._c;return t("ui-grid-layout",{scopedSlots:e._u([{key:"left",fn:function(){return[t("div",{staticClass:"aside pad-top-l1"},[t("ul",{staticClass:"tabs tabs-grow text-center"},e._l(e.viewOptions,function({label:s,view:r}){return t("li",{key:r,class:{active:r===e.currentView}},[t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.setView(r)}}},[e._v(e._s(s))])])}),0),t("div",{staticClass:"pad-l1"},[e.currentView===e.View.DATASET?[t("ui-search-input",{attrs:{placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ"},model:{value:e.datasets.searchByQuery.query,callback:function(t){e.$set(e.datasets.searchByQuery,"query",t)},expression:"datasets.searchByQuery.query"}})]:e._e(),e.currentView===e.View.LIBRARY?[t("ui-search-input",{attrs:{placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ"},model:{value:e.entityTemplate.search.query,callback:function(t){e.$set(e.entityTemplate.search,"query",t)},expression:"entityTemplate.search.query"}})]:e._e()],2),t("div",{staticClass:"flex-grow scroll-y h-0"},[e.currentView===e.View.DATASET?[t("ui-dataset-folder-tree",e._b({},"ui-dataset-folder-tree",{selectedId:e.folder.selectedId,selectNode:e.setDatasetFolderSelected,getNodes:e.fetchDatasetFolders,key:`folder-tree-${e.dataProviderId}`},!1))]:e._e(),e.currentView===e.View.LIBRARY?[e.entityTemplate.search.isActive?[e.entityTemplate.search.isLoading?t("div",{staticClass:"pad-h-l1"},[t("div",{staticClass:"preloader"})]):0===e.entityTemplate.search.data.length?t("div",{staticClass:"pad-h-l1"},[e._v(" ÐŸÐ¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ "),t("em",{staticClass:"color-primary"},[e._v(e._s(e.entityTemplate.search.query))]),e._v(" Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ "),t("br"),t("br"),t("span",{staticClass:"link",on:{click:e.resetEntityTemplateSearch}},[e._v("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº")])]):e._e(),e._l(e.entityTemplate.search.data,function(s){return t("ui-entity-template",e._b({},"ui-entity-template",{entity:s,selectedEntityId:e.entityTemplate.selectedId,selectEntity:e.setEntityTemplateSelected,key:s.id},!1))})]:[t("ui-project-list",e._b({},"ui-project-list",{selectedEntityId:e.entityTemplate.selectedId,selectEntity:e.setEntityTemplateSelected,getEntities:e.fetchEntityTemplates,getFolders:e.fetchEntityTemplateFolders,getProjects:e.fetchEntityProjects,key:`project-list-${e.dataProviderId}`},!1))]]:e._e()],2)])]},proxy:!0},{key:"center",fn:function(){return[t("div",{staticClass:"content-grid"},[e.areDatasetResultsLoading?t("div",{staticClass:"preloader"}):[e.datasetsSeach.isActive?[t("div",{staticClass:"p"},[e.datasetsSeach.data.length?[e._v(" Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¿Ð¾Ð¸ÑÐºÐ° "),t("em",{staticClass:"color-primary"},[e._v(e._s(e.datasetsSeach.query))])]:[e._v(" ÐŸÐ¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ "),t("em",{staticClass:"color-primary"},[e._v(e._s(e.datasetsSeach.query))]),e._v(" Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ "),t("br"),t("br"),t("span",{staticClass:"link",on:{click:e.resetDatasetsSearchByQuery}},[e._v("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº")])]],2)]:e._e(),e.datasetsResults.length?t("ui-dataset-tiles-header"):e._e(),e._l(e.datasetsResults,function({dataset:s,metrics:r,dimensions:i}){return t("ui-dataset-tile",e._b({key:s.id,nativeOn:{click:function(t){return e.setDatasetSelected({dataset:s,metrics:r,dimensions:i})}}},"ui-dataset-tile",{dataset:s,metrics:r,dimensions:i,selectedId:e.datasets.selected.id},!1))})]],2)]},proxy:!0},{key:"right",fn:function(){return[e.datasets.selected.id?t("ui-dataset-card",e._b({on:{select:e.confirmDatasetSelected}},"ui-dataset-card",{meta:e.datasets.selected.meta,isLoading:e.datasets.selected.isLoading},!1)):e._e()]},proxy:!0}])})},T=[],w=function(e,t){return e("div",{staticClass:"grid-layout bg-grey-lighter"},[e("div",{staticClass:"grid-layout__content bg-white"},[t._t("left")],2),e("div",{staticClass:"grid-layout__content pad-l2"},[t._t("center")],2),e("div",{staticClass:"bg-white"},[t._t("right")],2)])},C=[],A=(s(50291),s(81656)),O={},R=(0,A.A)(O,w,C,!0,null,"2f18b902",null);const N=R.exports;var k=function(){var e=this,t=e._self._c;return t("div",[e.isLoading?t("div",{staticClass:"preloader mar-l1"}):e._e(),e._l(e.nodes,function(s){return t("ui-folder-node",e._b({key:s.id},"ui-folder-node",{node:s,selectedId:e.selectedId,selectNode:e.selectNode,getNodes:e.getNodes},!1))})],2)},P=[],U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"node"},[t("div",{staticClass:"node__content",class:{selected:e.isSelected},on:{click:e.onNodeClick}},[t("i",{staticClass:"mdi mdi-folder mdi-18px color-primary"}),t("div",{staticClass:"flex-grow pad-left-3 text-truncate",attrs:{title:e.node.name}},[e._v(" "+e._s(e.node.name)+" ")]),e.isLoading?[t("span",{staticClass:"preloader"})]:[!e.isFirstFetch&&e.nodes.length?[t("span",{staticClass:"text-xsmall"},[e._v("("+e._s(e.nodes.length)+")")])]:e._e(),e.displayIcons?[t("i",{staticClass:"mdi mdi-18px color-grey mar-left-3",class:[e.isOpen?"mdi-chevron-up":"mdi-chevron-down"]})]:e._e()]],2),e.isOpen?t("div",{staticClass:"node__children",style:{"--depth":e.depth+1}},e._l(e.nodes,function(s){return t("ui-folder-node",e._b({key:s.id},"ui-folder-node",{depth:e.depth+1,node:s,selectedId:e.selectedId,getNodes:e.getNodes,selectNode:e.selectNode},!1))}),1):e._e()])},L=[];const $={name:"UiFolderNode",props:{depth:{type:Number,default:0},node:{type:Object,default:null},selectedId:{type:[Number,String],default:""},getNodes:{type:Function,default:e=>[]},selectNode:{type:Function,default:e=>[]}},data(){return{isOpen:!1,isLoading:!1,isFirstFetch:!0,nodes:[]}},computed:{isSelected(){return this.node.id===this.selectedId},displayIcons(){const{isFirstFetch:e,nodes:t}=this;return e||t.length>0}},methods:{async onNodeClick(){const{id:e}=this.node;this.isOpen=!this.isOpen,this.selectNode(e),this.isOpen&&this.isFirstFetch&&(this.isLoading=!0,this.nodes=await this.getNodes(e),this.isLoading=!1,this.isFirstFetch=!1)}}},j=$;s(61062);var q=(0,A.A)(j,U,L,!1,null,"2a0a95df",null);const F=q.exports,B={components:{UiFolderNode:F},props:{selectedId:{type:[Number,String],default:0},selectNode:{type:Function,default:e=>{}},getNodes:{type:Function,default:()=>[]}},data(){return{nodes:[],isLoading:!1}},async created(){this.isLoading=!0,this.nodes=await this.getNodes(),this.isLoading=!1}},H=B;var V=(0,A.A)(H,k,P,!1,null,null,null);const z=V.exports;var W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card pad-l2 pad-top-l1"},[e.meta?[t("div",{staticClass:"card__header"},[t("h2",{staticClass:"last"},[e._v(e._s(e.meta.dataset.name))]),t("div",{staticClass:"text-muted text-small"},[e._v(e._s(e.formatDate(e.meta.dataset.dateFrom)))])]),t("div",{staticClass:"card__body"},[e.meta.dataset.description?t("div",[e._v(e._s(e.meta.dataset.description))]):e._e(),t("div",[t("b",[e._v("ÐÐ²Ñ‚Ð¾Ñ€")]),t("div",{staticClass:"text-truncate"},[e.meta.dataset.authorKeycloakPreferredUsername?[e._v(" "+e._s(e.meta.dataset.authorKeycloakPreferredUsername)+" ")]:[e._v("unnamed")]],2)]),t("div",[t("b",[e._v("ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸")]),t("div",e._l(e.meta.metrics,function({id:s,name:r}){return t("ui-entity",{key:s,staticClass:"mar-right-3",attrs:{type:"metric"}},[e._v(" "+e._s(r)+" ")])}),1)]),t("div",[t("b",[e._v("Ð˜Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ")]),t("div",e._l(e.meta.dimensions,function({id:s,name:r}){return t("ui-entity",{key:s,staticClass:"mar-right-3",attrs:{type:"dimension"}},[e._v(" "+e._s(r)+" ")])}),1)]),t("div",{staticClass:"scroll-x"},[e.isLoading?t("div",{staticClass:"preloader mar-l1"}):t("table",{staticClass:"table table-borders table-hover w-100 text-small"},[e._m(0),t("tbody",e._l(e.meta.dataset.schema.fields,function(s){return t("tr",{key:s.name},[t("td",{staticClass:"text-truncate",attrs:{title:s.name}},[e._v(e._s(s.name))]),t("td",[t("code",[e._v(e._s(s.type))])])])}),0)])])]),t("div",{staticClass:"card__footer"},[t("button",{staticClass:"btn btn-primary",on:{click:e.onSelectClick}},[e._v("Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ")])])]:[t("div",{staticClass:"preloader"})]],2)},Q=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("ÐŸÐ¾Ð»Ðµ")]),t("th",{staticClass:"table-w-auto"},[e._v("Ð¢Ð¸Ð¿")])])])}],G=function(){var e=this,t=e._self._c;return e.type?t("span",{staticClass:"badge text-xsmall color-body u-select-none",class:{[`badge--${e.type}`]:!0,"badge--multiline":e.multiline,"badge--clickable":e.clickable,"badge--draggable":e.draggable}},[e._t("default")],2):e._e()},Y=[],Z=s(6381);const K={props:{type:{type:String,default:"metric",validation(e){return Object.values(Z.ck).includes(e)}},multiline:{type:Boolean,default:!0},clickable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}}},X=K;s(80639);var J=(0,A.A)(X,G,Y,!1,null,"36677141",null);const ee=J.exports,te={components:{UiEntity:ee},props:{meta:{type:Object,default:null},isLoading:{type:Boolean,default:!1}},methods:{onSelectClick(){this.$emit("select")},formatDate(e){return(0,M.dayjs)(e).format("DD.MM.YYYY, HH:mm")}}},se=te;s(60627);var re=(0,A.A)(se,W,Q,!1,null,"1d271028",null);const ie=re.exports;var ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dataset tile",class:{selected:e.isSelected}},[t("div",[t("i",{staticClass:"mdi mdi-table-large mdi-18px color-green mar-right-3 v-mid"}),e._v(" "+e._s(e.dataset.name)+" ")]),t("div",[t("div",e._l(e.metrics,function({id:s,name:r,templateId:i}){return t("ui-entity",{key:s,staticClass:"mar-right-3",attrs:{type:"metric"}},[null!=i?t("i",{staticClass:"mdi mdi-library-shelves mar-right-2 color-grey"}):e._e(),t("span",[e._v(e._s(r))])])}),1),t("div",e._l(e.dimensions,function({id:s,name:r,templateId:i}){return t("ui-entity",{key:s,staticClass:"mar-right-3",attrs:{type:"dimension"}},[null!=i?t("i",{staticClass:"mdi mdi-library-shelves mar-right-2 color-grey"}):e._e(),t("span",[e._v(e._s(r))])])}),1)]),t("div",[t("div",{staticClass:"text-truncate",attrs:{title:e.dataset.authorKeycloakPreferredUsername}},[e.dataset.authorKeycloakPreferredUsername?[e._v(" "+e._s(e.dataset.authorKeycloakPreferredUsername)+" ")]:[e._v("unnamed")]],2),t("div",{staticClass:"text-muted text-small"},[e._v(e._s(e.formatDate(e.dataset.dateFrom)))])])])},ne=[];const oe={components:{UiEntity:ee},props:{selectedId:{type:[Number,String],default:""},dataset:{type:Object,default:null},metrics:{type:Array,default:()=>[]},dimensions:{type:Array,default:()=>[]}},computed:{isSelected(){return this.dataset.id===this.selectedId}},methods:{formatDate(e){return(0,M.dayjs)(e).format("DD.MM.YYYY, HH:mm")}}},le=oe;s(43154);var de=(0,A.A)(le,ae,ne,!1,null,"0cb732c6",null);const ce=de.exports;var ue=function(e,t){return t._m(0)},pe=[function(e,t){return e("div",{staticClass:"tiles-header"},[e("div",[t._v("Ð”Ð°Ñ‚Ð°ÑÐµÑ‚")]),e("div",[t._v("ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ / Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ")]),e("div",[t._v("ÐÐ²Ñ‚Ð¾Ñ€")])])}],he=(s(93313),{}),me=(0,A.A)(he,ue,pe,!0,null,"7d027ba0",null);const fe=me.exports;var ge=function(){var e=this,t=e._self._c;return t("div",[e.isLoading?t("div",{staticClass:"preloader mar-l1"}):e._e(),e._l(e.folders,function(s){return t("ui-project-folder-node",e._b({key:s.id},"ui-project-folder-node",{selectedEntityId:e.selectedEntityId,node:s,getNodes:e.getFolders,getEntities:e.getEntities,selectEntity:e.selectEntity},!1))})],2)},ye=[],ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"node"},[t("div",{staticClass:"node__content",on:{click:e.onNodeClick}},[t("i",{staticClass:"mdi mdi-folder mdi-18px color-primary"}),t("div",{staticClass:"flex-grow pad-left-3 text-truncate",attrs:{title:e.node.name}},[e._v(" "+e._s(e.node.name)+" ")]),e.isLoading?[t("span",{staticClass:"preloader"})]:[e.isFirstFetch||!e.nodes.length&&!e.entities.length?e._e():[t("span",{staticClass:"text-xsmall"},[e._v("("+e._s(e.nodes.length+e.entities.length)+")")])],e.displayIcons?[t("i",{staticClass:"mdi mdi-18px color-grey mar-left-3",class:[e.isOpen?"mdi-chevron-up":"mdi-chevron-down"]})]:e._e()]],2),e.isOpen?t("div",{staticClass:"node__children",style:{"--depth":e.depth+1}},[e._l(e.nodes,function(s){return t("ui-domain-folder-node",e._b({key:s.id},"ui-domain-folder-node",{depth:e.depth+1,node:s,selectedEntityId:e.selectedEntityId,getNodes:e.getNodes,getEntities:e.getEntities,selectEntity:e.selectEntity},!1))}),e._l(e.entities,function(s){return t("ui-entity-template-node",e._b({key:s.id},"ui-entity-template-node",{depth:e.depth+1,entity:s,selectedEntityId:e.selectedEntityId,selectEntity:e.selectEntity},!1))})],2):e._e()])},be=[],Ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"node",style:{"--depth":e.depth}},[t("div",{staticClass:"node__content",class:{selected:e.isSelected},on:{click:e.onClick}},[t("i",{staticClass:"mdi mdi-file-outline mdi-18px"}),t("div",{staticClass:"flex-grow pad-left-3"},[e._v(" "+e._s(e.entity.name)+" ")]),t("ui-entity",{attrs:{type:e.entityType.name}},[e._v(e._s(e.entityType.title))])],1)])},_e=[];const Se={components:{UiEntity:ee},props:{depth:{type:Number,default:0},entity:{type:Object,default:null},selectedEntityId:{type:[Number,String],default:""},selectEntity:{type:Function,default:()=>{}}},computed:{isSelected(){return this.selectedEntityId===this.entity.id},entityType(){return 1===this.entity.typeId?{name:"metric",title:"Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ°"}:{name:"dimension",title:"Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ"}}},methods:{async onClick(){this.selectEntity(this.entity)}}},Ie=Se;s(82368);var De=(0,A.A)(Ie,Ee,_e,!1,null,"7d8569dc",null);const Me=De.exports,xe={name:"UiDomainFolderNode",components:{UiEntityTemplateNode:Me},props:{selectedEntityId:{type:[Number,String],default:""},depth:{type:Number,default:0},node:{type:Object,default:null},getNodes:{type:Function,default:e=>[]},getEntities:{type:Function,default:e=>[]},selectEntity:{type:Function,default:()=>{}}},data(){return{isOpen:!1,isLoading:!1,isFirstFetch:!0,nodes:[],entities:[]}},computed:{displayIcons(){const{isFirstFetch:e,nodes:t}=this;return e||t.length>0}},methods:{onNodeClick(){const{id:e}=this.node;this.isOpen=!this.isOpen,this.isOpen&&this.isFirstFetch&&(this.isLoading=!0,this.isFirstFetch=!1,Promise.all([this.getNodes(e),this.getEntities(e)]).then(([e,t])=>{this.nodes=e,this.entities=t}).finally(()=>{this.isLoading=!1}))}}},Te=xe;s(76065);var we=(0,A.A)(Te,ve,be,!1,null,"b4e6a294",null);const Ce=we.exports,Ae={components:{UiProjectFolderNode:Ce},props:{selectedEntityId:{type:[Number,String],default:0},selectEntity:{type:Function,default:e=>{}},getEntities:{type:Function,default:()=>[]},getFolders:{type:Function,default:()=>[]},getProjects:{type:Function,default:()=>[]}},data(){return{folders:[],isLoading:!1}},async created(){this.isLoading=!0,this.folders=await this.getFolders(),this.isLoading=!1}},Oe=Ae;var Re=(0,A.A)(Oe,ge,ye,!1,null,null,null);const Ne=Re.exports;var ke=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-control form-control-icon-both w-100"},[e._m(0),t("input",{staticClass:"input w-100",attrs:{placeholder:e.placeholder},domProps:{value:e.value},on:{change:e.onChange,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onClear.apply(null,arguments)}}}),e.value.length?t("div",{staticClass:"icon cursor-pointer",on:{click:e.onClear}},[t("i",{staticClass:"mdi mdi-close mdi-18px"})]):e._e()])},Pe=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-magnify mdi-18px"})])}];const Ue={props:{value:{type:String,default:""},placeholder:{type:String,default:""}},methods:{onChange({target:{value:e}}){this.$emit("input",e.trim())},onClear(){this.$emit("input","")}}},Le=Ue;var $e=(0,A.A)(Le,ke,Pe,!1,null,null,null);const je=$e.exports,qe={DATASET:"dataset",LIBRARY:"library"},Fe={components:{UiGridLayout:N,UiDatasetFolderTree:z,UiDatasetCard:ie,UiDatasetTile:ce,UiDatasetTilesHeader:fe,UiProjectList:Ne,UiEntityTemplate:Me,UiSearchInput:je},inject:["$handleError","$service"],props:{dataProviderId:{type:[String,Number],default:null},dataProviderUrl:{type:String,default:""}},static:{View:qe,viewOptions:[{label:"Ð”Ð°Ñ‚Ð°ÑÐµÑ‚Ñ‹",view:qe.DATASET},{label:"Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ°",view:qe.LIBRARY}]},data(){return{currentView:qe.DATASET,datasets:{data:[],isLoading:!1,selected:{id:null,meta:null,isLoading:!1},searchByQuery:{isActive:!1,isLoading:!1,data:[],query:"",minLength:2}},folder:{selectedId:null},entityTemplate:{selectedId:null,search:{isActive:!1,isLoading:!1,data:[],query:"",minLength:2}}}},computed:{areDatasetResultsLoading(){const{datasets:e}=this;return e.isLoading||e.searchByQuery.isLoading},datasetsResults(){const{datasets:e,currentView:t}=this,{searchByQuery:s}=e;return t===qe.DATASET&&s.isActive?s.data:e.data},datasetsSeach(){const{datasets:e,currentView:t}=this;if(t===qe.LIBRARY)return{isLoading:!1,isActive:!1,data:[]};const{isLoading:s,isActive:r,data:i,query:a}=e.searchByQuery;return{isLoading:s,isActive:r,data:i,query:a}}},watch:{dataProviderId(){const{datasets:e,folder:t,entityTemplate:s}=this;e.data=[],e.selected.id=null,e.meta=null,t.selectedId=null,s.selectedId=null,this.$handleError()},["datasets.searchByQuery.query"](){this.handleDatasetSearchByQuery()},["entityTemplate.search.query"](){this.handleEntityTemplateSearch()}},methods:{getService(){const{$service:e,dataProviderUrl:t}=this;return e.context({url:t})},setView(e){this.currentView=e},confirmDatasetSelected(){const{meta:e}=this.datasets.selected;this.$emit("select",e)},async setDatasetFolderSelected(e){const{folder:t,datasets:s}=this;this.resetDatasetsSearchByQuery(),t.selectedId!==e&&(t.selectedId=e,s.selected.id=null,s.isLoading=!0,s.data=await this.fetchDatasets(e),s.isLoading=!1)},async setDatasetSelected({dataset:e,metrics:t,dimensions:s}){const{selected:r}=this.datasets;r.id!==e.id&&(r.id=e.id,r.meta={dataset:e,metrics:t,dimensions:s})},async setEntityTemplateSelected({id:e}){const{entityTemplate:t,datasets:s}=this;t.selectedId!==e&&(t.selectedId=e,s.isLoading=!0,s.data=await this.searchDatasetsByQuery({templateId:e}),s.isLoading=!1)},async handleDatasetSearchByQuery(){const{searchByQuery:e}=this.datasets,{query:t,minLength:s}=e;e.isActive=t.length>=s,0!==t.length?e.isActive&&(e.isLoading=!0,e.data=[],e.data=await this.searchDatasetsByQuery({query:t}),e.isLoading=!1):e.data=[]},async handleEntityTemplateSearch(){const{entityTemplate:{search:e}}=this,{query:t,minLength:s}=e;e.isActive=t.length>=s,0!==t.length?e.isActive&&(e.isLoading=!0,e.data=[],e.data=await this.searchEntityTemplatesByQuery(t),e.isLoading=!1):e.results=[]},resetDatasetsSearchByQuery(){const{datasets:{searchByQuery:e}}=this;e.isActive=!1,e.isLoading=!1,e.data=[],e.query=""},resetEntityTemplateSearch(){const{search:e}=this.entityTemplate;e.isActive=!1,e.query="",e.data=[]},async fetchDatasetFolders(e){const t=this.getService(),s=await t.datasetFolder.getAll({parentFolderId:e});return s.isError?(this.$handleError(s.error),[]):s.result},async fetchDatasetSchema(e){const t=this.getService(),s=await t.dataset.getSchema({datasetId:e});return s.isError?(this.$handleError(s.error),[]):s.result},async fetchDatasets(e){const t=this.getService(),s=await t.datasetMeta.getAll({folderId:e});return s.isError?(this.$handleError(s.error),[]):s.result},async fetchEntityTemplates(e){const t=this.getService(),s=await t.datasetEntityTemplate.getAll({folderId:e});return s.isError?(this.$handleError(s.error),[]):s.result},async fetchEntityProjects(){const e=this.getService(),t=await e.datasetEntityProject.getAll();return t.isError?(this.$handleError(t.error),[]):t.result},async fetchEntityTemplateFolders(e){const t=this.getService(),s=await t.datasetEntityTemplateFolder.getAll({parentFolderId:e});return s.isError?(this.$handleError(s.error),[]):s.result},async searchDatasetsByQuery({query:e=null,templateId:t=null}){const s=this.getService(),r=await s.datasetMeta.search({query:e,templateId:t});return r.isError?(this.$handleError(r.error),[]):r.result},async searchEntityTemplatesByQuery(e){const t=this.getService(),s=await t.datasetEntityTemplate.search({query:e});return s.isError?(this.$handleError(s.error),[]):s.result}}},Be=Fe;s(71136);var He=(0,A.A)(Be,x,T,!1,null,"23d19376",null);const Ve=He.exports;var ze=function(){var e=this,t=e._self._c;return t("ui-grid-layout",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-sidebar",{staticClass:"pos-rel",attrs:{chromeless:""}},[e.datasetInfo.error?t("ui-shim",{attrs:{"z-index":2,overlay:""}},[t("ui-hero-placeholder",{attrs:{icon:"alert-circle-outline"}},[e._v("ÐžÑˆÐ¸Ð±ÐºÐ°")])],1):e._e(),t("div",{staticClass:"aside pad-l2"},[t("ui-sidebar-collapse",{attrs:{open:"",icon:"speedometer",loading:e.datasetInfo.isLoading},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸/Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ")]},proxy:!0},{key:"tools",fn:function(){return[e.isQuerySectionHasError([e.EntityType.METRIC,e.EntityType.DIMENSION,e.EntityType.DRILLDOWN])?t("ui-tooltip-error",{attrs:{message:"Ð•ÑÑ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸"}}):e._e(),e.queryModel.metrics.length+e.queryModel.dimensions.length>0?t("span",{staticClass:"text-xsmall"},[e._v(" "+e._s(e.queryModel.metrics.length+e.queryModel.dimensions.length)+" ")]):e._e()]},proxy:!0}])},[t("ui-entities",e._b({on:{change:e.onQueryParamsChanged}},"ui-entities",{model:e.queryModel,availableMetrics:e.datasetInfo.metrics,availableDimensions:e.datasetInfo.dimensions},!1))],1),t("ui-sidebar-collapse",e._b({attrs:{icon:"variable"},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",[e._v("ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ")])]},proxy:!0},{key:"tools",fn:function(){return[e.isQuerySectionHasError(e.EntityType.VARIABLE)?t("ui-tooltip-error",{attrs:{message:"Ð•ÑÑ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸"}}):e._e(),e.queryModel.variables.length?t("span",{staticClass:"text-xsmall"},[e._v(" "+e._s(e.queryModel.variables.length)+" ")]):e._e()]},proxy:!0}])},"ui-sidebar-collapse",{loading:e.datasetInfo.isLoading,disabled:!e.hasVariables,...e.hasVariables||{open:!1}},!1),[t("ui-variables",e._b({on:{change:e.onVariablesChanged}},"ui-variables",{variables:e.queryModel.variables,availableVariables:e.datasetInfo.variables},!1))],1),t("ui-sidebar-collapse",{attrs:{icon:"filter",loading:e.datasetInfo.isLoading},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹")]},proxy:!0},{key:"tools",fn:function(){return[e.isQuerySectionHasError(e.EntityType.FILTER)?t("ui-tooltip-error",{attrs:{message:"Ð•ÑÑ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸"}}):e._e(),e.queryModel.filters.length?t("span",{staticClass:"text-xsmall"},[e._v(" "+e._s(e.queryModel.filters.length)+" ")]):e._e()]},proxy:!0}])},[t("ui-filters",e._b({on:{change:e.onFiltersChanged}},"ui-filters",{filters:e.queryModel.filters,names:[...e.metricAndDimensionNameOptions,...e.fieldNameOptions],operators:e.QueryFilterOperatorOptions,placeholders:e.QueryFilterPlaceholders},!1))],1),t("ui-sidebar-collapse",{attrs:{icon:"sort",loading:e.datasetInfo.isLoading},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°")]},proxy:!0},{key:"tools",fn:function(){return[e.isQuerySectionHasError(e.EntityType.SORT)?t("ui-tooltip-error",{attrs:{message:"Ð•ÑÑ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸"}}):e._e(),e.queryModel.sort.length?t("span",{staticClass:"text-xsmall"},[e._v(" "+e._s(e.queryModel.sort.length)+" ")]):e._e()]},proxy:!0}])},[t("ui-sort",e._b({on:{change:e.onSortChange}},"ui-sort",{sort:e.queryModel.sort,names:e.metricAndDimensionNameOptions,directions:e.QuerySortDirectionOptions},!1))],1),t("ui-sidebar-collapse",{attrs:{icon:"content-copy",loading:e.datasetInfo.isLoading},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"collapse-header"},[e._v("ÐŸÐ°Ð³Ð¸Ð½Ð°Ñ†Ð¸Ñ")])]},proxy:!0},{key:"tools",fn:function(){return[e.limit>0?t("span",{staticClass:"text-xsmall",attrs:{title:`ÐŸÐ¾ ${e.limit} Ð·Ð°Ð¿Ð¸ÑÐµÐ¹`}},[e._v(" "+e._s(e.limit)+" ")]):e._e()]},proxy:!0}])},[t("ui-pagination",{attrs:{limit:e.limit},on:{change:e.onLimitChange}})],1)],1)],1)]},proxy:!0},{key:"center",fn:function(){return[t("div",{staticClass:"dataset-preview"},[t("ui-preview",e._b({on:{"filter-change":e.onDatasetPreviewFilterChange,"sort-change":e.onDatasetPreviewSortChange,"page-change":e.onDatasetPreviewPageChange},scopedSlots:e._u([{key:"header-cell",fn:function({isLoading:s,column:r,letter:i,onSortChange:a,onFilterChange:n}){return[t("ui-preview-header-cell",e._b({on:{"sort-change":e=>a(e),"filter-change":e=>n(e)},scopedSlots:e._u([{key:"default",fn:function({isSorted:s,isSortable:i,toggleSort:a}){return[e.getQueryEntityError(["metrics","dimensions","drilldowns"],r.name)?t("ui-entity-badge-error",[e._v(" "+e._s(r.name)+" ")]):t("ui-entity-badge",e._b({attrs:{clickable:i}},"ui-entity-badge",{type:e.getQueryEntityType(r.name),multiline:!1},!1),[e.hasEntityTemplate(r.name)?t("ui-icon",{staticClass:"mar-right-2 color-grey",attrs:{name:"library-shelves",size:"small",box:!1}}):e._e(),t("span",{class:{link:s},on:{click:a}},[e._v(e._s(r.name))])],1),r.name!==r.alias?t("span",{staticClass:"mar-left-1 text-xsmall"},[e._v(" ("+e._s(r.alias)+") ")]):e._e()]}},r.type?{key:"type",fn:function(){return[e._v(e._s(r.type))]},proxy:!0}:null],null,!0)},"ui-preview-header-cell",{isLoading:s,letter:i,...r},!1))]}},{key:"footer",fn:function(){return[t("span",{staticClass:"link",attrs:{role:"button"},on:{click:function(t){e.datasetInfo.isDebug=!0}}},[e._v(" ÐžÑ‚Ð»Ð°Ð´Ð¾Ñ‡Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ ")]),t("span",{staticClass:"badge badge-error mar-left-3 text-xsmall cursor-pointer",class:{"is-hidden":null==e.datasetPreview.error},attrs:{role:"button"},on:{click:function(t){e.datasetPreview.isErrorDebug=!0}}},[e._v(" Ð¾ÑˆÐ¸Ð±ÐºÐ° ")]),t("ui-popup",{attrs:{visible:e.datasetInfo.isDebug},on:{"update:visible":function(t){return e.$set(e.datasetInfo,"isDebug",t)}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"debug-info"},[t("code",[e._v("Ð´Ð°Ñ‚Ð°ÑÐµÑ‚.def")]),t("div",{staticClass:"pos-rel p"},[t("pre",{staticClass:"debug-info__code text-xsmall"},[e._v(e._s(e.datasetInfo.dataset))]),t("div",{staticClass:"btn btn-secondary btn-icon btn-small pos-abs pos-bot-right mar-1",on:{click:function(t){return e.$writeToClipboard(e.datasetInfo.dataset)}}},[t("i",{staticClass:"mdi mdi-content-copy"})])]),t("div",{staticClass:"pos-rel"},[t("code",[e._v("Ð´Ð°Ñ‚Ð°ÑÐµÑ‚.sql")]),t("pre",{staticClass:"debug-info__code text-xsmall text-preline"},[e._v(e._s(e.datasetPreview.result.sql))]),t("div",{staticClass:"btn btn-secondary btn-icon btn-small pos-abs pos-bot-right mar-1",on:{click:function(t){return e.$writeToClipboard(e.datasetPreview.result.sql)}}},[t("i",{staticClass:"mdi mdi-content-copy"})])])])]},proxy:!0}])}),t("ui-popup",{attrs:{visible:e.datasetPreview.isErrorDebug},on:{"update:visible":function(t){return e.$set(e.datasetPreview,"isErrorDebug",t)}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"debug-info"},[t("h3",[e._v("ÐžÑˆÐ¸Ð±ÐºÐ°")]),t("div",{staticClass:"alert alert-error"},[t("div",{staticClass:"alert-body"},[t("div",[e._v("Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹:")]),t("ul",[t("li",[e._v("Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð°Ð³Ñ€ÐµÐ³Ð°Ñ†Ð¸Ð¹ Ñƒ Ð¼ÐµÑ‚Ñ€Ð¸Ðº;")]),t("li",[e._v("Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ð¿Ð¾Ð»ÐµÐ¹;")]),t("li",[e._v("Ð¾Ð¿ÐµÑ‡Ð°Ñ‚ÐºÐ¸.")])]),t("div",{staticClass:"p"},[e._v("ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°.")]),t("pre",{staticClass:"debug-info__code text-xsmall text-preline"},[t("span",{staticClass:"link",on:{click:function(t){e.datasetPreview.isErrorShortMode=!e.datasetPreview.isErrorShortMode}}},[e._v("Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ÑÑ‚Ð¸")]),e._v("\n"+e._s(e.previewErrorMessageAdaptive))])]),t("div",{staticClass:"btn btn-secondary btn-icon btn-small pos-abs pos-bot-right mar-1",on:{click:function(t){e.$writeToClipboard(e.datasetPreview.error.toString())}}},[t("i",{staticClass:"mdi mdi-content-copy"})])])])]},proxy:!0}])})]},proxy:!0}])},"ui-preview",{...e.datasetPreview.result,isLoading:e.datasetPreview.isLoading,limit:e.datasetPreview.limit,sort:e.queryModel.sort,filters:e.queryModel.filters,columns:e.previewColumns},!1))],1),e.filterEditor.isShown?t("ui-float-panel",{attrs:{position:"bottom",target:e.filterEditor.target},on:{close:function(t){e.filterEditor.isShown=!1}}},[t("ui-filter-panel",e._b({on:{save:e.onFilterEditorSave,delete:e.onFilterEditorDelete}},"ui-filter-panel",{deletable:!0,filter:e.filterEditor.filter,filters:e.queryModel.filters,nameDefault:e.filterEditor.name,names:[...e.metricAndDimensionNameOptions,...e.fieldNameOptions],operators:e.QueryFilterOperatorOptions,placeholders:e.QueryFilterPlaceholders},!1))],1):e._e()]},proxy:!0}])})},We=[],Qe=s(29599),Ge=s(12382),Ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pos-abs"},[t("ui-popover",e._b({ref:"popover"},"ui-popover",e.popoverBinds,!1),[t("div",{staticClass:"panel events-all"},[t("div",{staticClass:"panel-header cursor-move",on:{mousedown:e.onPanelHeaderMouseDown}},[t("div",{staticClass:"close cursor-pointer pos-abs pos-top-right mar-2",on:{click:e.onClose}},[t("i",{staticClass:"mdi mdi-close color-grey"})])]),t("div",{staticClass:"panel-body u-select-none"},[e._t("default")],2)])])],1)},Ze=[];const Ke={components:{UiPopover:_.Popover},props:{target:{type:String,default:""},position:{type:String,default:"right"}},data(){return{dragStart:{x:0,y:0},panelPos:{x:0,y:0}}},computed:{popoverBinds(){const{position:e,target:t,panelStyle:s}=this;return{appendToBody:!0,shouldRespondToPointerEvents:!1,show:!0,position:e,target:t,style:s,zIndex:1}},panelStyle(){const{x:e,y:t}=this.panelPos;return{transform:`translate3d(${e}px, ${t}px, 0)`}}},mounted(){setTimeout(()=>{const e=this.$refs.popover.$el.getBoundingClientRect();this.panelPos={x:e.x,y:e.y}})},beforeDestroy(){this.removeEvents()},methods:{addEvents(){document.addEventListener("mousemove",this.onDocMouseMove),document.addEventListener("mouseup",this.onDocMouseUp)},removeEvents(){document.removeEventListener("mousemove",this.onDocMouseMove),document.removeEventListener("mouseup",this.onDocMouseUp)},onClose(){this.$emit("close")},onPanelHeaderMouseDown({offsetX:e,offsetY:t}){this.dragStart={x:e,y:t},this.removeEvents(),this.addEvents()},onDocMouseMove({pageX:e,pageY:t}){const{x:s,y:r}=this.dragStart;this.panelPos={x:e-s,y:t-r}},onDocMouseUp(){this.removeEvents()}}},Xe=Ke;s(63997);var Je=(0,A.A)(Xe,Ye,Ze,!1,null,"140c056e",null);const et=Je.exports;var tt=function(){var e=this,t=e._self._c;return null==e.message?t("span",{staticClass:"badge bg-red color-white text-xsmall text-truncate"},[e._t("default")],2):t("ui-tooltip",{attrs:{position:"right","position-offset":[0,5]},scopedSlots:e._u([{key:"target",fn:function({binds:s,events:r}){return[t("span",e._g(e._b({staticClass:"badge bg-red color-white text-xsmall text-truncate"},"span",s,!1),r),[e._t("default")],2)]}},{key:"tooltip",fn:function(){return[t("div",{staticClass:"tooltip color-red bg-white text-xsmall pad-v pad-h-3 radius-1"},[e._v(" "+e._s(e.message)+" ")])]},proxy:!0}],null,!0)})},st=[];const rt={components:{UiTooltip:_.Tooltip},props:{message:{type:String}}},it=rt;s(94813);var at=(0,A.A)(it,tt,st,!1,null,"0e81deb0",null);const nt=at.exports;var ot=function(){var e=this,t=e._self._c;return t("ui-tooltip",{attrs:{position:"right","position-offset":[0,5]},scopedSlots:e._u([{key:"target",fn:function({binds:s,events:r}){return[t("span",e._g(e._b({},"span",s,!1),r),[t("ui-icon",{staticClass:"color-red",attrs:{name:"alert-circle-outline"}})],1)]}},{key:"tooltip",fn:function(){return[t("div",{staticClass:"tooltip color-red bg-white text-xsmall pad-v pad-h-3 radius-1"},[e._v(" "+e._s(e.message)+" ")])]},proxy:!0}])})},lt=[];const dt={components:{UiTooltip:_.Tooltip,UiIcon:n.UiIcon},props:{message:{type:String}}},ct=dt;s(61999);var ut=(0,A.A)(ct,ot,lt,!1,null,"5aef6748",null);const pt=ut.exports;var ht=function(){var e=this,t=e._self._c;return t("ui-sidebar-collapse",e._b({staticClass:"tile",attrs:{shadow:!1},scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0},{key:"tools",fn:function(){return[e._t("tools")]},proxy:!0}],null,!0)},"ui-sidebar-collapse",{open:e.open,disabled:e.disabled,icon:e.icon,loading:e.loading},!1),[[t("div",{staticClass:"pad-l1 w-100"},[e._t("default")],2)]],2)},mt=[];const ft={components:{UiSidebarCollapse:n.UiSidebarCollapse},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},loading:{type:Boolean,default:!1}}},gt=ft;var yt=(0,A.A)(gt,ht,mt,!1,null,null,null);const vt=yt.exports;var bt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"grid"},[t("ui-button",{attrs:{id:"drilldown-add",disabled:!e.canAddDrilldown},on:{click:e.onDrilldownAdd}},[e._v(" Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ»Ð¾Ð¶Ð½Ð¾Ðµ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ ")]),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-button",{staticClass:"w-100",attrs:{type:"secondary"},on:{click:e.onAllEntitiesEnable}},[e._v("Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð²ÑÐµ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-button",{staticClass:"w-100",attrs:{type:"secondary"},on:{click:e.onAllEntitiesDisable}},[e._v("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð²ÑÐµ")])]},proxy:!0}])}),e.selectedEntities.length?t("ui-draggable",e._b({staticClass:"grid",on:{change:e.onOrderChange},model:{value:e.orderMutable,callback:function(t){e.orderMutable=t},expression:"orderMutable"}},"ui-draggable",e.dragOptions,!1),e._l(e.selectedEntities,function(s,r){return t("div",{key:s.name,staticClass:"grid-item"},[t("input",{staticClass:"checkbox checkbox-small mar-top-2",attrs:{type:"checkbox",checked:"",disabled:s.type===e.EntityType.DRILLDOWN},on:{change:function(t){return e.onEntityRelease(s)}}}),t("div",{staticClass:"grid-item--content"},[t("ui-destruct",{attrs:{of:e.$getQueryEntityError([e.EntityType.METRIC,e.EntityType.DIMENSION,e.EntityType.DRILLDOWN],s.name)||{}},scopedSlots:e._u([{key:"is",fn:function({message:r}){return[t("div",[r?t("ui-entity-badge-error",{attrs:{message:r}},[e._v(" "+e._s(s.name)+" ")]):t("ui-entity-badge",{staticClass:"draggable",attrs:{draggable:"",type:s.type}},[e.$hasEntityTemplate(s.name)?t("ui-icon",{staticClass:"mar-right-2 color-grey",attrs:{name:"library-shelves",size:"small",box:!1}}):e._e(),t("span",[e._v(e._s(s.name))])],1)],1)]}}],null,!0)})],1),s.type===e.EntityType.DRILLDOWN?t("div",[t("ui-icon",{attrs:{name:"pencil"},on:{click:function(t){return e.onDrilldownEdit(s.name,r)}}}),t("ui-icon",{attrs:{id:`entity-${r}`,name:"layers-off-outline"},on:{click:function(t){return e.onDrilldownRelease(s)}}})],1):e._e()])}),0):e._e(),e.freeEntities.length?[0!==e.selectedEntities.length?t("hr"):e._e(),t("div",{staticClass:"grid"},e._l(e.freeEntities,function(s){return t("div",{key:s.name},[t("input",{staticClass:"checkbox checkbox-small mar-right-3",attrs:{type:"checkbox"},on:{change:function(t){return e.onEntityUse(s)}}}),t("ui-entity-badge",{attrs:{type:s.type}},[e.$hasEntityTemplate(s.name)?t("ui-icon",{staticClass:"mar-right-2 color-grey",attrs:{name:"library-shelves",size:"small",box:!1}}):e._e(),t("span",[e._v(e._s(s.name))])],1)],1)}),0)]:e._e(),e.isEditorShown?t("ui-float-panel",{attrs:{target:e.editorTarget},on:{close:function(t){e.isEditorShown=!1}}},[t("ui-drilldown-panel",e._b({on:{save:e.onDrilldownSave}},"ui-drilldown-panel",{drilldown:e.editDrilldown,drilldownNames:e.drilldownNames,dimensionNames:e.dimensionNames,dimensionNamesFree:e.dimensionNamesFree,metricNames:e.metricNames},!1))],1):e._e()],2)},Et=[],_t=s(10948),St=s.n(_t),It=s(18878),Dt=function(){var e=this,t=e._self._c;return t("ui-panel",{staticClass:"drilldown-panel",attrs:{groups:[{name:"Ð¡Ð»Ð¾Ð¶Ð½Ð¾Ðµ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ðµ",slot:"default"}]}},[t("ui-container",[t("ui-input",{attrs:{invalid:!e.isNameValid&&e.drilldownMutable.name.length>0},model:{value:e.drilldownMutable.name,callback:function(t){e.$set(e.drilldownMutable,"name",t)},expression:"drilldownMutable.name"}}),t("ui-draggable",e._b({staticClass:"grid",model:{value:e.drilldownMutableDimensions,callback:function(t){e.drilldownMutableDimensions=t},expression:"drilldownMutableDimensions"}},"ui-draggable",e.dragOptions,!1),e._l(e.drilldownMutableDimensions,function(s){return t("div",{key:s.name,staticClass:"entity"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.isSelected,expression:"item.isSelected"}],staticClass:"checkbox checkbox-small",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.isSelected)?e._i(s.isSelected,null)>-1:s.isSelected},on:{change:function(t){var r=s.isSelected,i=t.target,a=!!i.checked;if(Array.isArray(r)){var n=null,o=e._i(r,n);i.checked?o<0&&e.$set(s,"isSelected",r.concat([n])):o>-1&&e.$set(s,"isSelected",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(s,"isSelected",a)}}}),t("div",{staticClass:"text-truncate"},[t("ui-destruct",{attrs:{of:e.$getQueryEntityError([e.EntityType.DIMENSION],s.name)||{}},scopedSlots:e._u([{key:"is",fn:function({message:r}){return[r?t("ui-entity-badge-error",{staticClass:"cursor-move text-truncate",attrs:{message:r}},[e._v(" "+e._s(s.name)+" ")]):t("ui-entity-badge",{staticClass:"cursor-move text-truncate",attrs:{multiline:!1,type:e.EntityType.DIMENSION}},[e.$hasEntityTemplate(s.name)?t("i",{staticClass:"mdi mdi-library-shelves mar-right-2 color-grey"}):e._e(),t("span",[e._v(e._s(s.name))])])]}}],null,!0)})],1)])}),0),t("ui-button",{attrs:{disabled:!e.isNameValid||!e.isDimensionsValid},on:{click:e.onSave}},[e._v("Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ")])],1)],1)},Mt=[];const xt=e=>{const t=26;let s="";for(let r=1,i=t;(e-=r)>=0;r=i,i*=t){const t=parseInt(e%i/r,10);s=String.fromCharCode(65+t)+s}return s},Tt=({name:e="",operator:t="",value:s=[""]}={})=>({name:e,operator:t,value:s}),wt=({name:e="",direction:t=""}={})=>({name:e,direction:t}),Ct=({name:e="",dimensions:t=[]}={})=>({name:e,dimensions:t}),At=(e,t)=>{const s=["INTEGER","INT","DOUBLE","FLOAT","BOOLEAN"];return s.includes(t.toUpperCase())?e:`'${e}'`},Ot={components:{UiInput:n.UiInput,UiButton:n.UiButton,UiContainer:n.UiContainer,UiPanel:n.UiPanel,UiEntityBadge:ee,UiDraggable:St(),UiEntityBadgeError:nt,UiDestruct:n.Destruct},inject:["$hasEntityTemplate","$getQueryEntityError"],props:{drilldown:{type:Object,default(){return null}},drilldownNames:{type:Array,default:()=>[]},dimensionNames:{type:Array,default:()=>[]},dimensionNamesFree:{type:Array,default:()=>[]},metricNames:{type:Array,default:()=>[]}},data(){return{nameOld:"",drilldownMutable:null,drilldownMutableDimensions:[]}},computed:{isNameValid(){const{dimensionNames:e,metricNames:t,drilldownNames:s,nameOld:r}=this,{name:i}=this.drilldownMutable;if(i.length<1)return!1;if([...e,...t].includes(i))return!1;const a=s.indexOf(i);return!(a>=0&&i!==r)},isDimensionsValid(){const{drilldownMutableDimensions:e}=this,t=e.reduce((e,{isSelected:t})=>t?e+1:e,0);return t>1}},static:{EntityType:Z.ck,dragOptions:{animation:200,handle:".cursor-move"}},watch:{drilldown:{handler(e){const t=null==e?Ct():(0,b.A)(e);this.drilldownMutable=t,this.nameOld=t.name},deep:!0,immediate:!0}},created(){this.$watch(()=>{const{dimensionNamesFree:e,drilldown:t}=this,{dimensions:s=[]}=t??{};this.drilldownMutableDimensions=[...s,...e].map(e=>({name:e,isSelected:s.includes(e)}))})},methods:{emitChanges(){const{drilldownMutable:e,drilldownMutableDimensions:t,nameOld:s}=this,r={name:e.name,dimensions:t.filter(({isSelected:e})=>e).map(({name:e})=>e)};this.$emit("save",{drilldown:r,nameOld:s})},onSave(){this.emitChanges()}}},Rt=Ot;s(13763);var Nt=(0,A.A)(Rt,Dt,Mt,!1,null,"2bad619c",null);const kt=Nt.exports,Pt={components:{UiButton:It.UiButton,UiIcon:n.UiIcon,UiHasTwoColumns:It.UiHasTwoColumns,UiDraggable:St(),UiEntityBadge:ee,UiEntityBadgeError:nt,UiDestruct:n.Destruct,UiFloatPanel:et,UiDrilldownPanel:kt,UiTooltipError:pt},inject:["$hasEntityTemplate","$getQueryEntityError"],props:{model:{type:Object,default:null},availableMetrics:{type:Array,default:()=>[]},availableDimensions:{type:Array,default:()=>[]}},data(){return{orderMutable:[],isEditorShown:!1,editorTarget:null,editDrilldown:null}},static:{dragOptions:{animation:200,handle:".draggable"},EntityType:Z.ck},computed:{canAddDrilldown(){return this.dimensionNamesFree.length>1},dimensionNamesFree(){const{model:e}=this,t=e.drilldowns.map(({dimensions:e})=>e).flat();return e.dimensions.filter(e=>!1===t.includes(e))},dimensionNames(){const{model:e}=this;return e.dimensions},metricNames(){const{model:e}=this;return e.metrics},drilldownNames(){const{model:e}=this;return e.drilldowns.map(({name:e})=>e).sort((t,s)=>e.order.indexOf(t)-e.order.indexOf(s))},selectedEntities(){const{model:e}=this,t=e.drilldowns.map(({dimensions:e})=>e).flat(),s=e.drilldowns.map(({name:e})=>({name:e,type:Z.ck.DRILLDOWN})),r=e.metrics.map(e=>({name:e,type:Z.ck.METRIC})),i=e.dimensions.map(e=>({name:e,type:Z.ck.DIMENSION})).filter(({name:e})=>!1===t.includes(e)),a=[...s,...i,...r].sort((t,s)=>{const r=e.order.indexOf(t.name),i=e.order.indexOf(s.name);return r-i});return a},freeEntities(){const{availableDimensions:e,availableMetrics:t,model:s}=this,r=s.drilldowns.map(e=>e.dimensions).flat(),i=t.map(({name:e})=>({name:e,type:Z.ck.METRIC})).filter(e=>!1===s.metrics.includes(e.name)),a=e.map(({name:e})=>({name:e,type:Z.ck.DIMENSION})).filter(e=>!1===r.includes(e.name)&&!1===s.dimensions.includes(e.name));return[...a,...i]}},watch:{"model.order":{handler(e){this.orderMutable=[...e]},immediate:!0}},methods:{showEditor({drilldown:e=null,target:t}){this.editDrilldown=e,this.editorTarget=t,this.isEditorShown=!0},onDrilldownAdd(){this.showEditor({target:"#drilldown-add"})},getDrilldownDimensions(e){const t=this.model.drilldowns.find(t=>t.name===e);return t?.dimensions??[]},onDrilldownSave({drilldown:e,nameOld:t}){const{model:s}=this,{metrics:r,dimensions:i,order:a,drilldowns:n}=s,o=n.findIndex(({name:e})=>e===t);let l=[...n],d=[...a];if(o<0){const[t]=e.dimensions,s=d.indexOf(t);l.push(e),d.splice(s,0,e.name),d=d.filter(t=>!1===e.dimensions.includes(t))}else{const s=n[o];d.push(...s.dimensions);const r=d.findIndex(e=>e===t);d.splice(r,1,e.name),d=d.filter(t=>!1===e.dimensions.includes(t)),l.splice(o,1,e)}const c={order:d,metrics:r,dimensions:i,drilldowns:l};this.emitChange({...s,...c}),this.isEditorShown=!1},onEntityUse({name:e,type:t}){const{model:s}=this,{metrics:r,dimensions:i,order:a,drilldowns:n}=s,o={order:[...a,e],metrics:t===Z.ck.METRIC?[...r,e]:r,dimensions:t===Z.ck.DIMENSION?[...i,e]:i,drilldowns:n};this.emitChange({...s,...o})},onEntityRelease({name:e,type:t}){const{model:s}=this,{metrics:r,dimensions:i,order:a,drilldowns:n}=s,o={order:a.filter(t=>t!==e),metrics:r.filter(t=>t!==e),dimensions:i.filter(t=>t!==e),drilldowns:n.filter(t=>t.name!==e)};this.emitChange({...s,...o})},onDrilldownRelease({name:e,type:t}){const{model:s}=this,{metrics:r,dimensions:i,order:a,drilldowns:n}=s,o=n.find(t=>t.name===e);if(null==o)return;const l=a.indexOf(o.name),d=[...a];d.splice(l,1,...o.dimensions);const c={order:d,metrics:r,dimensions:[...i,...o.dimensions],drilldowns:n.filter(t=>t.name!==e)};this.emitChange({...s,...c}),this.isEditorShown=!1},onDrilldownEdit(e,t){const{model:s}=this,r=s.drilldowns.find(t=>t.name===e);null!=r&&this.showEditor({drilldown:(0,b.A)(r),target:`#entity-${t}`})},onOrderChange(){const{model:e,orderMutable:t}=this,s={order:t,metrics:e.metrics,dimensions:e.dimensions,drilldowns:e.drilldowns};this.emitChange({...e,...s})},onAllEntitiesEnable(){const{freeEntities:e}=this;if(0===e.length)return;const{model:t}=this,{metrics:s,dimensions:r,order:i}=t,a=e.filter(({type:e})=>e===Z.ck.METRIC).map(({name:e})=>e),n=e.filter(({type:e})=>e===Z.ck.DIMENSION).map(({name:e})=>e),o={order:[...i,...e.map(({name:e})=>e)],metrics:[...s,...a],dimensions:[...r,...n],drilldowns:[]};this.emitChange({...t,...o})},onAllEntitiesDisable(){const{selectedEntities:e}=this;if(0===e.length)return;const{model:t}=this,s={order:[],metrics:[],dimensions:[],drilldowns:[]};this.emitChange({...t,...s})},emitChange(e){this.$emit("change",e)}}},Ut=Pt;s(21707);var Lt=(0,A.A)(Ut,bt,Et,!1,null,"23688ed6",null);const $t=Lt.exports;var jt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"grid"},[t("ui-button",{attrs:{id:"sort-add"},on:{click:e.onSortAdd}},[e._v("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÑƒ")]),t("ui-draggable",e._b({staticClass:"grid",on:{change:e.sortChanged},model:{value:e.sortMutable,callback:function(t){e.sortMutable=t},expression:"sortMutable"}},"ui-draggable",e.dragOptions,!1),e._l(e.sortMutable,function(s,r){return t("ui-sort-item",e._b({key:r,on:{edit:()=>e.onSortEdit(r),delete:()=>e.onSortDelete(r)}},"ui-sort-item",{id:`sort-${r}`,sort:s,names:e.names,directions:e.directions},!1))}),1),e.isEditorShown?t("ui-float-panel",{attrs:{target:e.editorTarget},on:{close:function(t){e.isEditorShown=!1}}},[t("ui-sort-panel",e._b({on:{save:e.onEditorSave}},"ui-sort-panel",{sort:e.editSort,sorts:e.sort,directions:e.directions,names:e.names},!1))],1):e._e()],1)},qt=[],Ft=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter-item"},[t("div",{staticClass:"filter-item__def text-small cursor-move"},[e.error?t("ui-entity-badge-error",e._b({},"ui-entity-badge-error",{message:e.error.message},!1),[e._v(" "+e._s(e.sort.name)+" ")]):t("ui-entity-badge",{attrs:{type:e.type,multiline:!1,title:e.sort.name}},[t("span",[e._v(e._s(e.sort.name))])]),t("div",{staticClass:"badge bg-disabled text-small text-truncate",attrs:{title:e.sort.direction}},[e._v(" "+e._s(e.sort.direction)+" ")])],1),e._t("actions"),t("div",{staticClass:"icon cursor-pointer",on:{click:e.onEdit}},[t("i",{staticClass:"mdi mdi-pencil mdi-18px"})]),t("div",{staticClass:"icon cursor-pointer",on:{click:e.onDelete}},[t("i",{staticClass:"mdi mdi-delete mdi-18px"})])],2)},Bt=[];const Ht={components:{UiEntityBadge:ee,UiEntityBadgeError:nt},inject:["$getQueryEntityType","$getQueryEntityError"],props:{sort:{type:Object,default:null}},computed:{type(){return this.$getQueryEntityType(this.sort.name)},error(){return this.$getQueryEntityError([Z.ck.SORT],this.sort.name)}},methods:{onEdit(){this.$emit("edit")},onDelete(){this.$emit("delete")}}},Vt=Ht;s(20100);var zt=(0,A.A)(Vt,Ft,Bt,!1,null,"2d8db9f6",null);const Wt=zt.exports;var Qt=function(){var e=this,t=e._self._c;return t("ui-panel",{staticClass:"sort-panel w-f3",attrs:{groups:[{name:"Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°",slot:"default"}]}},[t("ui-container",[t("ui-has-two-columns",{attrs:{left:8,right:4},scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-select",{attrs:{title:e.sortMutable.name,options:e.namesAvailableForEdit},scopedSlots:e._u([{key:"select:label",fn:function({index:s,label:r,value:i}){return[s>-1?t("ui-entity-badge",{staticClass:"sort-panel__badge",attrs:{type:e.resolveEntityTypeByValue(i)}},[e._v(" "+e._s(r)+" ")]):e._e()]}},{key:"select:option-label",fn:function({label:s,value:r,isSelected:i}){return[t("ui-entity-badge",{staticClass:"sort-panel__badge",attrs:{type:i?"field":e.resolveEntityTypeByValue(r)}},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.sortMutable.name,callback:function(t){e.$set(e.sortMutable,"name",t)},expression:"sortMutable.name"}},[e._v(" ÐŸÐ¾Ð»Ðµ ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-select",{attrs:{title:e.sortMutable.direction,options:e.directions},model:{value:e.sortMutable.direction,callback:function(t){e.$set(e.sortMutable,"direction",t)},expression:"sortMutable.direction"}},[e._v(" ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ")])]},proxy:!0}])}),t("ui-button",{attrs:{disabled:!e.isValid},on:{click:e.onSave}},[e._v("Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ")])],1)],1)},Gt=[];const Yt={components:{UiEntityBadge:ee,UiSelect:It.UiSelect,UiButton:It.UiButton,UiPanel:It.UiPanel,UiContainer:It.UiContainer,UiHasTwoColumns:It.UiHasTwoColumns},props:{sort:{type:Object,default(){return null}},sorts:{type:Array,default(){return[]}},names:{type:Array,default(){return[]}},directions:{type:Array,default(){return[]}}},data(){return{sortMutable:null}},computed:{isNew(){return null==this.sort},isValid(){const{name:e,direction:t}=this.sortMutable;return e.length>0&&t.length>0},namesAvailable(){const{names:e,sorts:t}=this;return e.filter(e=>null==t.find(t=>t.name===e.value))},namesAvailableForEdit(){const{namesAvailable:e,sort:t,isNew:s}=this;if(s)return e;const{name:r}=t;return[{value:r,label:r},...e]}},watch:{sort:{handler(e){const t=null==e?wt():(0,b.A)(e);this.sortMutable=t},deep:!0,immediate:!0}},methods:{resolveEntityTypeByValue(e){const{names:t}=this,s=t.find(({value:t})=>t===e);return s?.entityType??""},onSave(){const{sortMutable:e,isNew:t}=this;this.$emit("save",{sort:e,isNew:t})}}},Zt=Yt;s(85042);var Kt=(0,A.A)(Zt,Qt,Gt,!1,null,"42ddcdc9",null);const Xt=Kt.exports,Jt={components:{UiButton:n.UiButton,UiSortItem:Wt,UiSortPanel:Xt,UiFloatPanel:et,UiDraggable:St()},props:{names:{type:Array,default(){return[]}},directions:{type:Array,default(){return[]}},sort:{type:Array,default(){return[]}}},data(){return{sortMutable:[],editSort:null,editSortIndex:-1,editorTarget:"",isEditorShown:!1}},static:{dragOptions:{animation:200,handle:".cursor-move"}},watch:{sort:{handler(e){this.sortMutable=(0,b.A)(e)},immediate:!0}},methods:{sortChanged(){const{sortMutable:e}=this;this.$emit("change",(0,b.A)(e))},showEditor({sort:e=null,index:t=-1,target:s}){this.editSort=e,this.editSortIndex=t,this.editorTarget=s,this.isEditorShown=!0},onEditorSave({sort:e,isNew:t}){const{editSortIndex:s,sortMutable:r}=this;t?r.push(e):r.splice(s,1,e),this.editSort=null,this.isEditorShown=!1,this.sortChanged()},onSortAdd(){this.showEditor({target:"#sort-add"})},onSortEdit(e){const t=(0,b.A)(this.sortMutable[e]);this.showEditor({sort:t,index:e,target:`#sort-${e}`})},onSortDelete(e){this.sortMutable.splice(e,1),this.sortChanged()}}},es=Jt;s(83187);var ts=(0,A.A)(es,jt,qt,!1,null,"39fba15c",null);const ss=ts.exports;var rs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"grid"},[t("ui-button",{attrs:{id:"filter-add"},on:{click:e.onFilterAdd}},[e._v("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€")]),e._l(e.filters,function(s,r){return t("ui-filter-item",e._b({key:r,on:{edit:()=>e.onFilterEdit(r),delete:()=>e.onFilterDelete(r)}},"ui-filter-item",{id:`filter-${r}`,filter:s,operators:e.operators},!1))}),e.isEditorShown?t("ui-float-panel",{attrs:{target:e.editorTarget},on:{close:function(t){e.isEditorShown=!1}}},[t("ui-filter-panel",e._b({on:{save:e.onEditorSave}},"ui-filter-panel",{filter:e.editFilter,filters:e.filters,names:e.names,operators:e.operators,placeholders:e.placeholders},!1))],1):e._e()],2)},is=[],as=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter-item"},[t("div",{staticClass:"filter-item__def text-small text-truncate"},[e.error?t("ui-entity-badge-error",{attrs:{message:e.error.message}},[e._v(e._s(e.filter.name))]):t("ui-entity-badge",{attrs:{type:e.type,multiline:!1,title:e.filter.name}},[t("span",[e._v(e._s(e.filter.name))])]),t("span",{staticClass:"pad-h-3 nobr"},[e._v(e._s(e.getOperatorLabel(e.filter.operator)))]),t("div",{staticClass:"badge bg-disabled text-truncate",class:[""===e.filterValue?"text-xsmall color-grey":"text-small"],attrs:{title:e.filterValue}},[e._v(" "+e._s(""===e.filterValue?"<Ð¿ÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°>":e.filterValue)+" ")])],1),t("ui-icon",{attrs:{name:"pencil"},on:{click:e.onEdit}}),t("ui-icon",{attrs:{name:"delete"},on:{click:e.onDelete}})],1)},ns=[];const os={components:{UiEntityBadge:ee,UiEntityBadgeError:nt,UiIcon:n.UiIcon},inject:["$getQueryEntityType","$getQueryEntityError"],props:{filter:{type:Object,default:null},operators:{type:Array,default(){return[]}}},computed:{type(){return this.$getQueryEntityType(this.filter.name)},filterValue(){const{value:e}=this.filter;return Array.isArray(e)?e.join(","):null},error(){return this.$getQueryEntityError([Z.ck.FILTER],this.filter.name)}},methods:{getOperatorLabel(e){const{operators:t}=this,s=t.find(({value:t})=>t===e);return s?.label??e},onEdit(){this.$emit("edit")},onDelete(){this.$emit("delete")}}},ls=os;s(96154);var ds=(0,A.A)(ls,as,ns,!1,null,"579b7db5",null);const cs=ds.exports;var us=function(){var e=this,t=e._self._c;return t("ui-panel",{staticClass:"filter-panel w-f3",attrs:{groups:[{name:"Ð¤Ð¸Ð»ÑŒÑ‚Ñ€",slot:"default"}]}},[t("ui-container",[t("ui-has-two-columns",{attrs:{left:8,right:4},scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-select",{attrs:{title:e.filterMutable.name,options:e.namesAvailableForEdit},scopedSlots:e._u([{key:"select:label",fn:function({index:s,label:r,value:i}){return[s>-1?t("ui-entity-badge",{staticClass:"filter-panel__badge",attrs:{type:e.resolveEntityTypeByValue(i)}},[e._v(" "+e._s(r)+" ")]):e._e()]}},{key:"select:option-label",fn:function({label:s,value:r,isSelected:i}){return[t("ui-entity-badge",{staticClass:"filter-panel__badge",attrs:{type:i?"field":e.resolveEntityTypeByValue(r)}},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.filterMutable.name,callback:function(t){e.$set(e.filterMutable,"name",t)},expression:"filterMutable.name"}},[e._v(" ÐŸÐ¾Ð»Ðµ ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-select",{attrs:{title:e.filterMutable.operator,options:e.operators},model:{value:e.filterMutable.operator,callback:function(t){e.$set(e.filterMutable,"operator",t)},expression:"filterMutable.operator"}},[e._v(" ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ ")])]},proxy:!0}])}),t("div",{staticClass:"pos-rel"},[t("div",{staticClass:"pos-rel"},[t("ui-textarea",{staticClass:"filter-panel__textarea",attrs:{placeholder:e.filterValuePlaceholder},model:{value:e.filterMutableValue,callback:function(t){e.filterMutableValue=t},expression:"filterMutableValue"}},[t("ui-group",{staticClass:"w-100",attrs:{justify:"between",align:"end"}},[t("div",[e._v(" Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ "),t("span",{staticClass:"color-primary text-small text-bold cursor-pointer",attrs:{id:"filter-editor-value-placeholder-icon"},on:{click:function(t){e.arePlaceholdersShown=!e.arePlaceholdersShown}}},[e._v(" (x) ")])])])],1),e.filterNameType?t("span",{staticClass:"filter-panel__badge badge text-xsmall bg-border pos-abs pos-top-right mar-top-6 mar-right-1"},[e._v(" "+e._s(e.filterNameType)+" ")]):e._e(),t("ui-popover",{attrs:{target:"#filter-editor-value-placeholder-icon",show:e.arePlaceholdersShown},on:{"update:show":function(t){e.arePlaceholdersShown=t}}},[t("ui-datalist",{attrs:{options:e.placeholders,size:"small"},on:{"select-option":e.onPlaceholderSelect}})],1)],1)]),e.deletable&&!e.isNew?t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-button",{attrs:{type:"secondary"},on:{click:e.onDelete}},[e._v("Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-button",{attrs:{disabled:!e.isValid},on:{click:e.onSave}},[e._v("Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ")])]},proxy:!0}],null,!1,1958685470)}):t("ui-button",{attrs:{disabled:!e.isValid},on:{click:e.onSave}},[e._v("Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ")])],1)],1)},ps=[];const hs={components:{UiSelect:It.UiSelect,UiTextarea:It.UiTextarea,UiButton:It.UiButton,UiPanel:It.UiPanel,UiContainer:It.UiContainer,UiHasTwoColumns:It.UiHasTwoColumns,UiDatalist:_.Datalist,UiPopover:_.Popover,UiGroup:n.UiGroup,UiEntityBadge:ee,UiIcon:n.UiIcon},props:{nameDefault:{type:String,default:""},filter:{type:Object,default(){return null}},filters:{type:Array,default(){return[]}},names:{type:Array,default(){return[]}},operators:{type:Array,default(){return[]}},placeholders:{type:Array,default(){return[]}},deletable:{type:Boolean,default:!1}},data(){return{filterMutable:null,arePlaceholdersShown:!1}},computed:{isNew(){return null==this.filter},isValid(){const{name:e,operator:t}=this.filterMutable;return e.length>0&&t.length>0},namesAvailable(){const{names:e,filters:t}=this;return e.filter(e=>null==t.find(t=>t.name===e.value))},namesAvailableForEdit(){const{namesAvailable:e,filter:t,isNew:s}=this;if(s)return e;const{name:r}=t;return[{value:r,label:r},...e]},filterMutableValue:{get(){const{filterMutable:e}=this;return e?.value.join(",")??""},set(e){const{filterMutable:t}=this;null!=t&&(t.value=e.split(","))}},filterNameType(){const{names:e}=this,{name:t}=this.filterMutable,s=e.find(({value:e})=>e===t);return s?.type??""},filterValuePlaceholder(){const{filterNameType:e}=this,{operator:t}=this.filterMutable,s=Z.EG[t],r=At("value",e),i=s?s(r):[r];return i.join(",")}},watch:{filter:{handler(e){const{nameDefault:t}=this,s=null==e?Tt({name:t}):(0,b.A)(e);this.filterMutable=s},deep:!0,immediate:!0}},methods:{resolveEntityTypeByValue(e){const{names:t}=this,s=t.find(({value:t})=>t===e);return s?.entityType??""},onPlaceholderSelect({option:e}){this.filterMutableValue+=e,this.arePlaceholdersShown=!1},onSave(){const{filterMutable:e,isNew:t}=this;this.$emit("save",{filter:e,isNew:t})},onDelete(){this.$emit("delete")}}},ms=hs;s(99219);var fs=(0,A.A)(ms,us,ps,!1,null,"6ce0ea74",null);const gs=fs.exports,ys={components:{UiFilterItem:cs,UiButton:n.UiButton,UiFilterPanel:gs,UiFloatPanel:et},props:{names:{type:Array,default(){return[]}},operators:{type:Array,default(){return[]}},placeholders:{type:Array,default(){return[]}},filters:{type:Array,default(){return[{name:"",operator:"$eq",value:[""]}]}}},data(){return{filtersMutable:[],editFilter:null,editFilterIndex:-1,editorTarget:"",isEditorShown:!1,areEditorPlaceholdersShown:!1}},watch:{filters:{handler(e){this.filtersMutable=(0,b.A)(e)},immediate:!0}},methods:{filtersChanged(){const{filtersMutable:e}=this;this.$emit("change",(0,b.A)(e))},showEditor({filter:e=null,index:t=-1,target:s}){this.editFilter=e,this.editFilterIndex=t,this.editorTarget=s,this.isEditorShown=!0},onEditorSave({filter:e,isNew:t}){const{editFilterIndex:s,filtersMutable:r}=this;t?r.push(e):r.splice(s,1,e),this.editFilter=null,this.isEditorShown=!1,this.filtersChanged()},onFilterAdd(){this.showEditor({target:"#filter-add"})},onFilterEdit(e){const t=(0,b.A)(this.filtersMutable[e]);this.showEditor({filter:t,index:e,target:`#filter-${e}`})},onFilterDelete(e){this.filtersMutable.splice(e,1),this.filtersChanged()}}},vs=ys;s(26359);var bs=(0,A.A)(vs,rs,is,!1,null,"3a186f3f",null);const Es=bs.exports;var _s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"grid"},[e.variableBinds.length>0?t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-button",{staticClass:"w-100",attrs:{type:"secondary"},on:{click:function(t){return e.onAllVariablesToggle(!0)}}},[e._v("Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð²ÑÐµ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-button",{staticClass:"w-100",attrs:{type:"secondary"},on:{click:function(t){return e.onAllVariablesToggle(!1)}}},[e._v("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð²ÑÐµ")])]},proxy:!0}],null,!1,2946443030)}):e._e(),t("div",{staticClass:"grid"},e._l(e.variableBinds,function({variable:s,isSelected:r}){return t("div",{key:s?s.name:"divider",class:[s?"grid-item":""]},[null==s?t("hr"):t("ui-checkbox",{attrs:{value:r},on:{change:function(t){return e.onVariableToggle(s,r)}}},[t("ui-destruct",{attrs:{of:e.$getQueryEntityError([e.EntityType.VARIABLE],s.name)||{}},scopedSlots:e._u([{key:"is",fn:function({message:r}){return[r?t("ui-entity-badge-error",{attrs:{message:r}},[e._v(" @"+e._s(s.name)+" ")]):t("ui-entity-badge",{attrs:{type:"variable"}},[e._v("@"+e._s(s.name))])]}}],null,!0)})],1)],1)}),0)],1)},Ss=[];const Is={components:{UiButton:It.UiButton,UiCheckbox:It.UiCheckbox,UiHasTwoColumns:It.UiHasTwoColumns,UiEntityBadge:ee,UiEntityBadgeError:nt,UiDestruct:n.Destruct},inject:["$getQueryEntityError"],props:{variables:{type:Array,default:()=>[]},availableVariables:{type:Array,default:()=>[]}},static:{EntityType:Z.ck},data(){return{}},computed:{variableBinds(){const{availableVariables:e,variables:t,buildVariableBinds:s}=this,r=e.filter(({name:e})=>!t.some(t=>t.name===e)),i=r.length>0&&t.length>0;return[...s(t,{isSelected:!0}),...i?[{}]:[],...s(r,{isSelected:!1})]}},methods:{buildVariableBinds(e,t){return e.map(({name:e})=>({variable:{name:e},...t}))},onVariableToggle({name:e},t){const{variables:s}=this,r=!1===t?[...s,{name:e}]:s.filter(t=>t.name!==e);this.emitChange(r)},onAllVariablesToggle(e){const{availableVariables:t}=this,s=e?t.map(({name:e})=>({name:e})):[];this.emitChange(s)},emitChange(e){this.$emit("change",e)}}},Ds=Is;s(45413);var Ms=(0,A.A)(Ds,_s,Ss,!1,null,"1a461ed0",null);const xs=Ms.exports;var Ts=function(){var e=this,t=e._self._c;return t("div",[t("label",{staticClass:"switch switch-small"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.limitEnabled,expression:"limitEnabled"}],attrs:{id:"limit-switch",type:"checkbox"},domProps:{checked:Array.isArray(e.limitEnabled)?e._i(e.limitEnabled,null)>-1:e.limitEnabled},on:{change:function(t){var s=e.limitEnabled,r=t.target,i=!!r.checked;if(Array.isArray(s)){var a=null,n=e._i(s,a);r.checked?n<0&&(e.limitEnabled=s.concat([a])):n>-1&&(e.limitEnabled=s.slice(0,n).concat(s.slice(n+1)))}else e.limitEnabled=i}}}),t("i")]),t("label",{staticClass:"form-label form-label-small mar-left-3",attrs:{for:"limit-switch"}},[e._v("Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð°Ð³Ð¸Ð½Ð°Ñ†Ð¸ÑŽ")]),e.limitEnabled?t("div",{staticClass:"mar-top-l1"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col col-vmid"},[e._v("Ð—Ð°Ð¿Ð¸ÑÐµÐ¹ Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ:")]),t("div",{staticClass:"col col-auto"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.limitInt,expression:"limitInt",modifiers:{number:!0}}],staticClass:"input input-small w-100",staticStyle:{width:"5rem"},attrs:{type:"number",min:"1"},domProps:{value:e.limitInt},on:{change:function(t){return e.limitChanged()},input:function(t){t.target.composing||(e.limitInt=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])]):e._e()])},ws=[];const Cs={props:{limit:{type:Number,default:0}},data(){return{limitInt:0,limitDefault:10}},computed:{limitEnabled:{get(){return this.limitInt>0},set(e){this.limitInt=e?this.limitDefault:0,this.limitChanged()}}},watch:{limit:{handler(e){this.limitInt=e},immediate:!0}},methods:{limitChanged(){this.$emit("change",this.limitInt)}}},As=Cs;var Os=(0,A.A)(As,Ts,ws,!1,null,null,null);const Rs=Os.exports;var Ns=function(){var e=this,t=e._self._c;return t("div",{staticClass:"layout radius shadow scroll-none"},[t("div",{staticClass:"flex-grow pos-rel h-0 scroll-x scroll-y"},[t("table",{staticClass:"table table-borders table-hover table-vmid w-100 h-100 text-small"},[t("thead",[t("tr",[e._m(0),e._l(e.header,function(s,r){return t("th",{key:s.id,style:e.headerCellStyle},[e._t("header-cell",function(){return[t("ui-header-cell",e._b({on:{"sort-change":t=>e.onHeaderSortChange(s.name,t),"filter-change":t=>e.onHeaderFilterChange(s.name,t)},scopedSlots:e._u([{key:"type",fn:function(){return[e._v(e._s(s.type))]},proxy:!0}],null,!0)},"ui-header-cell",{isLoading:e.isLoading,letter:e.getLetter(r),...s},!1),[t("b",[e._v(e._s(s.name))])])]},null,{isLoading:e.isLoading,column:s,letter:e.getLetter(r),onSortChange:t=>e.onHeaderSortChange(s.name,t),onFilterChange:t=>e.onHeaderFilterChange(s.name,t)})],2)})],2)]),t("tbody",e._l(e.limit,function(s){return t("tr",{key:s},[t("td",{staticClass:"text-center text-bold"},[e._v(e._s(e.offset+s))]),s>e.rows.length?e._l(e.header,function(e){return t("td",{key:`${s}-${e.id}`})}):e._l(e.header,function(r){return t("td",{key:`${s}-${r.id}`},[r.name&&void 0===e.rows[s-1][r.name]?[t("div",{staticClass:"skeleton skeleton-small"})]:[e._v(" "+e._s(e.rows[s-1][r.name])+" ")]],2)})],2)}),0)]),e.isLoading?t("ui-preloader",{staticClass:"pos-abs pos-center",attrs:{size:"xlarge"}}):e._e()],1),t("div",{staticClass:"layout__footer pad-l1 text-xsmall"},[t("div",[e._t("footer"),t("div",[e._v("Ð—Ð°Ð¿Ð¸ÑÐµÐ¹: "+e._s(e.rowCount)+" / ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†: "+e._s(e.pages))])],2),t("ui-pagination",e._b({on:{change:e.onPageChange}},"ui-pagination",{page:e.page,pages:e.pages},!1))],1),0===e.columns.length?t("ui-shim",{attrs:{overlay:""}},[t("ui-hero-placeholder",{attrs:{type:"vertical",icon:"view-grid-plus-outline"}},[t("div",{staticClass:"text-center"},[t("b",[e._v("ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¸ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ Ð² Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ðµ")]),t("div",{staticClass:"font-normal text-center"},[e._v(" Ð”Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð° Ð² Ð´Ð°Ñ‚Ð°ÑÐµÑ‚ "),t("br"),e._v(" ÐºÐ»Ð¸ÐºÐ½Ð¸Ñ‚Ðµ Ð¿Ð¾ ÐºÐ½Ð¾Ð¿ÐºÐµ Ð² Ð»ÐµÐ²Ð¾Ð¼ Ð²ÐµÑ€Ñ…Ð½ÐµÐ¼ ÑƒÐ³Ð»Ñƒ ÑÐºÑ€Ð°Ð½Ð° ")])])])],1):e._e()],1)},ks=[function(){var e=this,t=e._self._c;return t("th",{staticClass:"table-w-auto"},[t("div",{staticClass:"text-center text-bold"},[e._v("#")])])}],Ps=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header-cell"},[t("sup",{staticClass:"pos-abs color-grey"},[e._v(e._s(e.letter))]),t("div",{staticClass:"header-cell__label text-nowrap"},[e._t("default",null,null,{isSorted:null!=e.sortDirection,isSortable:e.isSortable,toggleSort:e.toggleSort}),e.isSortable&&null!=e.sortDirection?[t("ui-icon",{staticClass:"mar-left-1",attrs:{name:e.sortDirection===e.QuerySortDirection.ASC?"sort-alphabetical-ascending":"sort-alphabetical-descending",box:!1,size:"small"}})]:e._e()],2),e.$slots.type?t("span",{staticClass:"color-grey text-xsmall"},[e._t("type")],2):t("span",{staticClass:"header-cell__type-skeleton skeleton skeleton-small"}),e.canFilter?[t("ui-icon",{class:[e.isFiltered?"color-primary":"color-grey-light"],attrs:{id:e.filterId,name:"filter",size:"small",box:!1,disabled:e.isLoading},on:{click:e.onFilterClick}})]:e._e()],2)},Us=[],Ls=s(81644);const $s={components:{UiIcon:n.UiIcon},props:{canFilter:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isFiltered:{type:Boolean,default:!1},isSortable:{type:Boolean,default:!1},sortDirection:{type:String,default:null},letter:{type:String,default:""}},computed:{filterId(){return`dataset-header-${this.letter}-filter`}},static:{QuerySortDirection:Ls.QuerySortDirection},methods:{toggleSort(){const{ASC:e,DESC:t}=Ls.QuerySortDirection,{sortDirection:s}=this;let r=null;r=s===e?t:s===t?null:e,this.$emit("sort-change",r)},onFilterClick(){this.$emit("filter-change",`#${this.filterId}`)}}},js=$s;s(86419);var qs=(0,A.A)(js,Ps,Us,!1,null,"e3d88cf4",null);const Fs=qs.exports,Bs={components:{UiPagination:_.Pagination,UiPopup:n.Popup,UiHeaderCell:Fs,UiShim:n.UiShim,UiHeroPlaceholder:n.UiHeroPlaceholder,UiPreloader:n.UiPreloader},props:{sort:{type:Array,default:()=>[]},filters:{type:Array,default:()=>[]},schema:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},limit:{type:Number,default:20},offset:{type:Number,default:0},rowCount:{type:Number,default:0},columnCount:{type:Number,default:10},isLoading:{type:Boolean,default:!1}},data(){return{id:0,header:this.buildHeader()}},watch:{headerProps(e,t){(0,d.A)(e,t)||(this.header=this.buildHeader())}},computed:{headerProps(){const{sort:e,filters:t,schema:s,columns:r}=this;return{sort:e,filters:t,schema:s,columns:r}},headerCellStyle(){const{length:e}=this.header;return{width:100/e+"%"}},pages(){const{limit:e,rowCount:t}=this;return Math.ceil(t/e)},page(){const{limit:e,offset:t}=this;return t/e+1}},methods:{buildHeader(){const{columnCount:e,sort:t,filters:s,schema:r,columns:i}=this;if(i.length>0){const e=i.map(({name:e,alias:i})=>{const a=t.find(({name:e})=>e===i),n=s.find(({name:e})=>e===i),o=r.find(({name:e})=>e===i);return{id:e,name:e,alias:i,type:o?.type??"",sortDirection:a?.direction??null,isSortable:!0,isFiltered:null!=n,canFilter:!0}});return e}return Array(e).fill(null).map((e,t)=>({id:t,name:"",alias:"",type:"",sortDirection:null,isSortable:!1,isFiltered:!1,canFilter:!1}))},getLetter(e){return xt(e+1)},onPageChange(e){const t=(e-1)*this.limit;this.$emit("page-change",{page:e,offset:t})},onHeaderSortChange(e,t){this.$emit("sort-change",{name:e,direction:t})},onHeaderFilterChange(e,t){this.$emit("filter-change",{name:e,target:t})}}},Hs=Bs;s(83903);var Vs=(0,A.A)(Hs,Ns,ks,!1,null,"e7e47930",null);const zs=Vs.exports;var Ws=s(46143);class Qs{constructor({queryModel:e,datasetInfo:t}){this.queryModel=e,this.datasetInfo=t}_getQueryMissedParams(e){const{queryModel:t,datasetInfo:s}=this;if(e===Z.ck.METRIC){const e=s.metrics.map(({name:e})=>e);return t.metrics.filter(t=>!1===e.includes(t))}if(e===Z.ck.DIMENSION){const e=s.dimensions.map(({name:e})=>e);return t.dimensions.filter(t=>!1===e.includes(t))}if(e===Z.ck.VARIABLE){const e=s.variables.map(({name:e})=>e);return t.variables.filter(({name:t})=>!1===e.includes(t)).map(({name:e})=>e)}return[]}validateMetrics(){const e=this._getQueryMissedParams(Z.ck.METRIC);return e.map(e=>{const t=new M.MessageI18n(D.QueryModelValidatorMessages.METRICS_MISSED,{name:e});return new Ws.ValidationError(t,{[Z.ck.METRIC]:{[e]:{message:t}}})})}validateVariables(){const e=this._getQueryMissedParams(Z.ck.VARIABLE);return e.map(e=>{const t=new M.MessageI18n(D.QueryModelValidatorMessages.VARIABLES_MISSED,{name:`@${e}`});return new Ws.ValidationError(t,{[Z.ck.VARIABLE]:{[e]:{message:t}}})})}validateDimensions(){const e=this._getQueryMissedParams(Z.ck.DIMENSION);return e.map(e=>{const t=new M.MessageI18n(D.QueryModelValidatorMessages.DIMENSIONS_MISSED,{name:e});return new Ws.ValidationError(t,{[Z.ck.DIMENSION]:{[e]:{message:t}}})})}validateFilters(){const{queryModel:e}=this,t=this._getQueryMissedParams(Z.ck.DIMENSION),s=this._getQueryMissedParams(Z.ck.METRIC);return[...s,...t].filter(t=>e.hasFilter(t)).map(e=>{const t=s.includes(e)?D.QueryModelValidatorMessages.METRICS_MISSED:D.QueryModelValidatorMessages.DIMENSIONS_MISSED,r=new M.MessageI18n(t,{name:e});return new Ws.ValidationError(r,{[Z.ck.FILTER]:{[e]:{message:r}}})})}validateSort(){const{queryModel:e}=this,t=this._getQueryMissedParams(Z.ck.DIMENSION),s=this._getQueryMissedParams(Z.ck.METRIC);return[...s,...t].filter(t=>e.hasSort(t)).map(e=>{const t=s.includes(e)?D.QueryModelValidatorMessages.METRICS_MISSED:D.QueryModelValidatorMessages.DIMENSIONS_MISSED,r=new M.MessageI18n(t,{name:e});return new Ws.ValidationError(r,{[Z.ck.SORT]:{[e]:{message:r}}})})}validateDrilldowns(){const{queryModel:e}=this,t=this._getQueryMissedParams(Z.ck.DIMENSION);return e.drilldowns.reduce((e,{name:s,dimensions:r})=>{const i=t.filter(e=>r.includes(e));if(0===i.length)return e;const a=new M.MessageI18n(D.QueryModelValidatorMessages.DRILLDOWN_DIMENSIONS_MISSED,{name:s,dimensions:i.join(", ")}),n=new Ws.ValidationError(a,{[Z.ck.DRILLDOWN]:{[s]:{message:a}}});return[...e,n]},[])}validate(){return[...this.validateDimensions(),...this.validateMetrics(),...this.validateVariables(),...this.validateDrilldowns(),...this.validateFilters(),...this.validateSort()]}}const Gs={provide(){const{getQueryEntityError:e}=this;return{$getQueryEntityError:e}},data(){return{errors:[]}},watch:{errors(e){this.$handleError(e,!0,"dataset-query-editor")}},computed:{queryModelValidator(){const{queryModel:e,datasetInfo:t}=this;return new Qs({queryModel:e,datasetInfo:t})},errorsDetails(){return this.errors.reduce((e,{data:t})=>(Object.entries(t).forEach(([t,s])=>{e[t]={...e[t],...s}}),e),{})},errorEntityNames(){const e=this.getSectionErrors([Z.ck.METRIC,Z.ck.DIMENSION]);return Object.keys(e??{})}},methods:{isQuerySectionHasError(e){return[e].flat().some(e=>null!=this.errorsDetails[e])},getSectionErrors(e){return e=[e].flat().filter(this.isQuerySectionHasError),e.reduce((e,t)=>({...e,...this.errorsDetails[t]}),{})},getQueryEntityError(e,t){e=[e].flat().filter(e=>null!=this.errorsDetails[e]);const s=this.getSectionErrors(e);return s[t]??null},validateQueryModel(){this.errors=[...this.queryModelValidator.validate(),...this.queryModel.validate()]}}},Ys={components:{UiFilters:Es,UiVariables:xs,UiSort:ss,UiPreview:zs,UiPreviewHeaderCell:Fs,UiFilterPanel:gs,UiFloatPanel:et,UiGridLayout:N,UiEntities:$t,UiHeroPlaceholder:n.UiHeroPlaceholder,UiEntityBadge:ee,UiEntityBadgeError:nt,UiTooltipError:pt,UiSidebarCollapse:vt,UiSidebar:n.UiSidebar,UiPagination:Rs,UiPopup:n.Popup,UiIcon:n.UiIcon,UiPreloader:n.UiPreloader,UiShim:n.UiShim},mixins:[Gs],provide(){const{hasEntityTemplate:e,getQueryEntityType:t}=this;return{$hasEntityTemplate:e,$getQueryEntityType:t}},inject:["$handleError","$showToast","$service","$writeToClipboard"],props:{datasetProps:{type:Object,default:null},dataProviderUrl:{type:String,default:null}},static(){return{EntityType:Z.ck,QuerySortDirectionOptions:Object.values(D.QuerySortDirection).map(e=>({label:e,value:e})),QueryFilterOperatorOptions:Object.values(D.QueryFilterOperator).map(e=>({label:D.QueryFilterOperatorLabel[e],value:e})),QueryFilterPlaceholders:Object.values(D.QueryFilterPlaceholder)}},data(){return{queryModel:null,request:null,limit:0,datasetInfo:{isDebug:!1,isLoading:!1,error:null,name:"",dataset:null,metrics:[],dimensions:[],variables:[]},datasetPreview:{isErrorDebug:!1,isErrorShortMode:!0,isLoading:!1,limit:20,offset:0,result:{rowCount:0,rows:[]},error:null},filterEditor:{isShown:!1,filter:null,index:-1,name:"",target:""}}},computed:{datasetRequestPropsInner(){const{datasetInfo:e,queryModel:t,datasetProps:s}=this;return{name:e.name,dataProviderId:s.dataProviderId,query:t?.raw,limit:this.limit}},fieldNameOptions(){const{queryModel:e,datasetInfo:t}=this;if(null==t.dataset)return[];const{fields:s}=e,{fields:r}=t.dataset.schema;return s.map(e=>{const t=r.find(({name:t})=>t===e);return{label:e,value:e,type:t?.type??"",entityType:Z.ck.FIELD}})},previewColumns(){const{errorEntityNames:e}=this,{drilldowns:t,order:s}=this.queryModel,r=t.reduce((e,{name:t,dimensions:s})=>({...e,[t]:s[0]}),{});return s.filter(t=>!e.includes(t)).map(e=>({name:e,alias:r[e]??e}))},metricAndDimensionNameOptions(){const{queryModel:e,datasetPreview:t,errorEntityNames:s}=this,{metrics:r,dimensions:i}=e,{schema:a=[]}=t.result;return[...i.map(e=>({name:e,entityType:Z.ck.DIMENSION})),...r.map(e=>({name:e,entityType:Z.ck.METRIC}))].filter(({name:e})=>!s.includes(e)).map(({name:e,entityType:t})=>{const s=a.find(({name:t})=>t===e);return{label:e,value:e,type:s?.type??"",entityType:t}})},previewErrorMessage(){return this.datasetPreview.error?this.$t(this.datasetPreview.error.message):""},previewErrorMessageAdaptive(){const{datasetPreview:e,previewErrorMessage:t}=this,{isErrorShortMode:s}=e;return s?t.split("\n")[0]:t},hasVariables(){const{datasetInfo:e,queryModel:t}=this;return e.variables.length+t.variables.length>0}},watch:{"datasetInfo.dataset"(e){if(null!=e){const{browseDataset:e}=this;this.$emit("api",{browseDataset:e.bind(this)})}},dataProviderUrl:{handler(e){null!=e?this.fetchDatasetInfo(this.queryModel.from):this.datasetInfo.error=new Error(D.DatasetEditorMessages.DATASET_DATAPROVIDER_NOT_EXISTS_IN_PROJECT)}},datasetProps:{handler(e){(0,d.A)(e,this.datasetRequestPropsInner)||(this.limit=e.limit,this.request=(0,D.DatasetRequestFactory)(e,{clientConfig:{isAdmin:!0}}),this.queryModel=new D.QueryModelExtended(e.query),null!=this.dataProviderUrl&&this.fetchDatasetInfo(this.queryModel.from))},immediate:!0},datasetRequestPropsInner:{handler(e,t){(0,d.A)(e,t)||(this.request.options=e,this.updatePreview())},deep:!0}},methods:{getQueryEntityType(e){const{metrics:t,fields:s,dimensions:r,drilldowns:i}=this.queryModel;if(r.includes(e))return Z.ck.DIMENSION;if(t.includes(e))return Z.ck.METRIC;const a=i.find(t=>t.name===e);return null!=a?Z.ck.DRILLDOWN:s.includes(e)?Z.ck.FIELD:null},async browseDataset({connectorId:e}){const{datasetInfo:t}=this,{id:s}=t.dataset,r=await S.DatasetManager.instance.browse({connectorId:e,datasetId:s});null!=r&&await this.setDatasetFromCode(r.datasetCode)},async setDatasetFromCode(e){await this.fetchDatasetInfo(e,!0)},getService(){const{$service:e,dataProviderUrl:t}=this;return e.context({url:t})},setDatasetInfo({dataset:e,entities:t,variables:s}){const{datasetInfo:r}=this;r.name=e.name,r.dataset=e,r.metrics=t.filter(e=>(0,Ge.DC)(e,Ge.W6.METRIC)),r.dimensions=t.filter(e=>(0,Ge.DC)(e,Ge.W6.DIMENSION)),r.variables=s},syncQueryModel(e=!1){const{queryModel:t,datasetInfo:s}=this,{metrics:r,dimensions:i,dataset:{code:a,schema:{fields:n}}}=s,o=n.map(({name:e})=>e),l=r.map(({name:e})=>e),d=i.map(({name:e})=>e);t.from=a,t.fields=o,e&&(t.dimensions=t.dimensions.filter(e=>d.includes(e)),t.metrics=t.metrics.filter(e=>l.includes(e))),this.validateQueryModel()},async fetchDatasetInfo(e,t=!1){const{datasetInfo:s,datasetPreview:r}=this;s.error=null,s.isLoading=!0;const i=this.getService(),a=await i.dataset.getByCode({code:e});if(a.isError){let{error:e}=a;return e instanceof Qe.ApiServiceError&&e.code===Qe.ApiServiceError.Code.NOT_FOUND&&(e=new Error(D.DatasetEditorMessages.DATASET_NOT_FOUND_IN_DATA_PROVIDER)),this.$handleError(e),s.error=e,s.isLoading=!1,void(r.isLoading=!1)}const n=a.result,o=await i.datasetEntity.getAll({datasetId:n.id});if(o.isError){const{error:e}=o;return this.$handleError(e),s.isLoading=!1,void(s.error=e)}const l=await i.variable.getAll({datasetId:n.id});if(l.isError){const{error:e}=l;return this.$handleError(e),s.isLoading=!1,void(s.error=e)}const{result:d}=o,{result:c}=l;this.setDatasetInfo({dataset:n,entities:d,variables:c}),this.syncQueryModel(t),this.emitDatasetPropsChanged(),this.$handleError([],!0),s.isLoading=!1},ensureFetchDataCancel(){const{request:e}=this;e?.isLoading&&e.cancel()},fetchPreviewData({offset:e,limit:t}){const s=this.request;return s.limit=t,s.offset=e,this.ensureFetchDataCancel(),s.send({debug:!0})},async updatePreview(){const{queryModel:e,datasetPreview:t}=this,{offset:s,limit:r}=t,{metrics:i,dimensions:a}=e;if(0!==i.length||0!==a.length){t.error=null,t.isLoading=!0;try{const e=await this.fetchPreviewData({offset:s,limit:r});0===e.rowCount&&(e.schema=this.datasetPreview.result.schema),this.datasetPreview.result=e}catch(n){if(n.isCancel)return;t.result={rowCount:0,rows:[]},t.error=n,this.$showToast({text:Z.FH.ERROR_OCCURED()})}finally{t.isLoading=!1}}},emitDatasetPropsChanged(){this.$emit("change",this.datasetRequestPropsInner)},onQueryParamsChanged({metrics:e,dimensions:t,drilldowns:s,order:r}){const{queryModel:i}=this;i.dimensions=t,i.metrics=e,i.drilldowns=s,i.order=r,this.validateQueryModel(),this.emitDatasetPropsChanged()},onFiltersChanged(e){this.queryModel.filters=e,this.validateQueryModel(),this.emitDatasetPropsChanged()},onVariablesChanged(e){this.queryModel.variables=e,this.validateQueryModel(),this.emitDatasetPropsChanged()},onSortChange(e){this.queryModel.sort=e,this.validateQueryModel(),this.emitDatasetPropsChanged()},onLimitChange(e){this.limit=e,this.emitDatasetPropsChanged()},onDatasetPreviewFilterChange({target:e,name:t}){const{filterEditor:s,queryModel:r}=this,{filters:i}=r;if(s.isShown)return void(s.isShown=!1);const a=i.findIndex(e=>e.name===t);s.target=e,s.index=a,s.name=t,s.filter=i[a],s.target=e,s.isShown=!0},onDatasetPreviewSortChange({name:e,direction:t}){const{queryModel:s}=this,{sort:r,drilldowns:i}=s,a=i.find(t=>t.name===e),n=a?a.dimensions[0]:e,o=r.findIndex(e=>e.name===n);if(o<0){const e=s.createBlankSort();return e.name=n,e.direction=t,void this.onSortChange([...r,e])}null==t?r.splice(o,1):r[o].direction=t,this.onSortChange(r)},onDatasetPreviewPageChange({offset:e}){this.datasetPreview.offset=e,this.updatePreview()},onFilterEditorSave({filter:e,isNew:t}){const{index:s}=this.filterEditor,{filters:r}=this.queryModel;t?r.push(e):r.splice(s,1,e),this.onFiltersChanged(r),this.filterEditor.isShown=!1},onFilterEditorDelete(){const{index:e}=this.filterEditor,{filters:t}=this.queryModel;t.splice(e,1),this.onFiltersChanged(t),this.filterEditor.isShown=!1},hasEntityTemplate(e){const{dimensions:t,metrics:s}=this.datasetInfo,r=[...t,...s].find(({name:t})=>e===t);return null!=r?.templateId}}},Zs=Ys;s(98074);var Ks=(0,A.A)(Zs,ze,We,!1,null,"2dc453b0",null);const Xs=Ks.exports;var Js=s(58189);const er="DatasetPanel",tr={components:{UiPortal:n.Portal,UiPopup:n.Popup,UiSelect:_.Select,UiDatasetPicker:Ve,UiDatasetQueryEditor:Xs,UiIcon:n.UiIcon,UiButton:n.UiButtonBase,UiGroup:n.UiGroup,UiPreloader:n.UiPreloader,UiShim:n.UiShim},inject:["$showToast","$shared"],provide(){const e=(0,Js.L7)(),{handleError:t,writeToClipboard:s}=this;return{$service:e,$handleError:t,$writeToClipboard:s}},props:{show:{type:Boolean},dataset:{type:Object,default:null},dataProviders:{type:Array,default:()=>[]},dataProviderDefaultId:{type:[String,Number],default:null}},static:{popupOptions:{modal:!1,fullscreen:!0,usePadding:!1,showCloseButton:!1},View:{START:"start",NO_DATA_PROVIDERS:"noDataProviders",PICK:"pick",BROWSE:"browse",EDIT:"edit",END:"end"},disposals:[]},data(){return{datasetPropsMutable:null,currentView:null,errors:[],isErrorShown:!1,datasetQueryEditor:{browseDataset:null,errors:[]}}},computed:{connectorId(){const{dataProviderId:e,dataProviders:t}=this,s=t.find(({id:t})=>t===e);return s?.connector?.id??null},dataProvider(){const e=this.dataProviders.find(({id:e})=>e===this.dataProviderId);return e??null},dataProviderUrl(){return this.dataProvider?.connector.url??null},dataProviderOptions(){return this.dataProviders.map(({id:e,name:t})=>({label:t,value:e}))},dataProviderId:{get(){return this.datasetPropsMutable?.dataProviderId},set(e){const{datasetPropsMutable:t}=this;null!=t&&(t.dataProviderId=e)}},hasError(){return this.errors.length>0||this.datasetQueryEditor.errors.length>0},isChanged(){return!(0,d.A)((0,D.createDataset)(this.dataset??{dataProviderId:this.dataProviderDefaultId}),this.datasetPropsMutable)}},watch:{dataset:{handler(e){const{dataProviderDefaultId:t}=this,s=(0,D.createDataset)(null==e?{}:(0,b.A)(e));s.dataProviderId=s?.dataProviderId??t,this.setDatasetProps(s)},immediate:!0},dataProvider:{handler(e){null===e&&this.handleError([new Error(D.DatasetEditorMessages.DATASET_DATAPROVIDER_NOT_EXISTS_IN_PROJECT)])},immediate:!0}},created(){this.init()},mounted(){this.$shared?.toggleRouteView?.(!1)},destroyed(){this.disposals.forEach(e=>e()),this.$shared?.toggleRouteView?.(!0)},methods:{init(){this.$i18n.mergeLocaleMessage("ru",D.lang.messages.ru),M.MessageI18n.handler=(...e)=>this.$t(...e),this.initTransitions(),this.initHistoryNavigationHandle()},initTransitions(){const{View:e,setView:t,nextView:s,dataProviderId:r,dataProvider:i,dataset:a,dataProviderDefaultId:n}=this,o={[e.START]:{enter:E.A,next:()=>{t(null!=n?null==a?e.PICK:e.EDIT:e.NO_DATA_PROVIDERS)}},[e.NO_DATA_PROVIDERS]:{enter:E.A,next:()=>{t(e.START)}},[e.BROWSE]:{enter:async()=>{const{connectorId:e}=this;await this.datasetQueryEditor.browseDataset({connectorId:e}),s()},next:()=>{t(e.EDIT)}},[e.PICK]:{enter:async()=>{if(this.$root.isSandbox)return;const o=await S.DatasetManager.instance.pick({dataProviderId:null==i?n:r});if(null!=o){const{dataProviderId:e,datasetMeta:t}=o;return void this.onDatasetMetaSelect(t,e)}null==a?t(e.END):s()},next:()=>{t(e.EDIT)}},[e.EDIT]:{enter:()=>{},next:()=>{t(e.PICK)}},[e.END]:{enter:()=>{this.onClose()}}};this.viewTransition=o,this.setView(e.START),this.nextView()},initHistoryNavigationHandle(){const{View:e}=this,{pushState:t,replaceState:s,onPopState:r,forward:i,getCurrentState:a}=(0,I.useBrowserHistory)();s(),a()?.widgetPanel?.name!==er&&t({widgetPanel:{name:er}});const n=r((t,{isForward:s})=>{const{currentView:r}=this;s||(r===e.EDIT&&this.onClose(),[e.BROWSE,e.PICK].includes(r)&&S.DatasetManager.instance.cancel(),i())});this.disposals.push(()=>{n()})},setView(e){this.currentView=e;const t=this.viewTransition[e];t.enter()},nextView(){const{currentView:e,viewTransition:t}=this,s=t[e];s.next()},setDatasetProps(e){this.datasetPropsMutable=e},onDatasetQueryEditorApi(e){this.datasetQueryEditor={...this.datasetQueryEditor,...e}},onBrowseDataset(){this.setView(this.View.BROWSE)},onSave(){const{datasetPropsMutable:e}=this;this.$emit("save",e)},onClose(){return this.isChanged&&this.$shared?this.$shared.confirm({text:"Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð²Ñ‹Ð¹Ñ‚Ð¸? Ð’ÑÐµ Ð½ÐµÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ½Ñ‹"}).yes(()=>{this.$emit("close")}):(this.$emit("close"),Promise.resolve(!0))},handleError(e=[],t=!0,s){if("dataset-query-editor"===s)return void(this.datasetQueryEditor.errors=e);if(t&&(this.errors=[]),e=[e].flat(),this.errors=[...this.errors,...e],0===e.length)return;let r=Z.FH.ERROR_OCCURED();const i=e.pop(),a=this.$t(i.message);a!==i.message&&(r=`${r}: ${a}`),this.$showToast({text:r,type:"error"})},async writeToClipboard(e){try{const t="string"!==typeof e?JSON.stringify(e):e;await navigator.clipboard.writeText(t),this.$showToast({text:Z.FH.COPIED_TO_CLIPBOARD()})}catch(t){}},datasetMetaSelect(e,t){const{schema:s}=e.dataset,r=(0,D.createDataset)({name:e.dataset.name,dataProviderId:t}),i=(0,D.DatasetQueryModelFactory)(r.query);i.from=e.dataset.code,i.fields=s.fields.map(({name:e})=>e),i.dimensions=e.dimensions.map(({name:e})=>e),i.metrics=e.metrics.map(({name:e})=>e),r.query=i.raw,this.setDatasetProps(r)},onDatasetMetaSelect(e,t){null!==e&&this.datasetMetaSelect(e,t),this.nextView()},onDatasetPropsChanged(e){this.setDatasetProps(e)},onDataProviderChange(){const e=this.dataProviders.find(({id:e})=>e===this.dataProviderId);this.$showToast({text:Z.FH.DATA_PROVIDER_CHANGED(e)})},onClearError(){this.errors=[],this.isErrorShown=!1}}},sr=tr;s(64249);var rr=(0,A.A)(sr,y,v,!1,null,"7a839268",null);const ir=rr.exports;var ar=function(){var e=this,t=e._self._c;return t("ui-popup",{attrs:{visible:e.show},on:{close:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"w-f3 mar-top-l1 p pos-rel"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.datasetJson,expression:"datasetJson"}],staticClass:"textarea textarea-small w-100",attrs:{placeholder:"{dataset json}"},domProps:{value:e.datasetJson},on:{input:function(t){t.target.composing||(e.datasetJson=t.target.value)}}}),e._v(" "),e.datasetJson&&e.datasetJsonError?t("div",{staticClass:"alert alert-error mar-top-3"},[t("div",{staticClass:"alert-body text-xsmall"},[e._v(" "+e._s(e.datasetJsonError)+" ")])]):e._e(),t("button",{staticClass:"btn btn-small btn-ghost color-grey pos-abs pos-top-right w-0",attrs:{title:"Ð’ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð· Ð±ÑƒÑ„ÐµÑ€Ð°"},on:{click:e.onClipboardPaste}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-18px mdi-clipboard-text-outline"})])])]),t("div",{staticClass:"d-flex flex-h-end flex-v-center"},[t("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.isSaveAvailable},on:{click:e.importDataset}},[e._v("Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ")])])]},proxy:!0}])})},nr=[];const or={components:{UiPopup:n.Popup,UiButton:n.UiButton},props:{show:{type:Boolean}},data(){return{datasetJson:""}},computed:{datasetJsonError(){const{datasetJson:e}=this;if(null==e||""===e)return null;try{return JSON.parse(e),null}catch(t){return t}},isSaveAvailable(){const{datasetJson:e}=this;return null===this.datasetJsonError&&null!=e&&""!==e}},methods:{importDataset(){this.$emit("import",JSON.parse(this.datasetJson)),this.datasetJson=""},async onClipboardPaste(){try{this.datasetJson=await navigator.clipboard.readText()}catch{}}}},lr=or;s(63635);var dr=(0,A.A)(lr,ar,nr,!1,null,"43bad34a",null);const cr=dr.exports,ur={extends:a.Panel,components:{UiPortal:n.Portal,UiDatasetEditor:ir,UiDatasetImportPopup:cr,UiButton:n.UiButton},mixins:[l.u,p,f],inject:{$shared:{default:null}},meta:{name:"Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº",icon:"database"},static:{DATASET_PROP:g.r,toastOptions:{delay:3e3}},provide(){const{showToast:e}=this;return{$showToast:e}},props:{isMultiple:{type:Boolean,default:!1}},data:()=>({isDatasetEditorShown:!1,isDatasetImportShown:!1,editDataset:null,editDatasetIndex:-1,toast:{id:null,isActive:!1,text:""}}),computed:{datasetRequests:{get(){return this.props[this.DATASET_PROP]??[]},set(e){this.props[this.DATASET_PROP]=e}},dataProviders(){return o.ProjectDataProviderRepository.get()},dataProviderDefaultId(){const e=o.ProjectDataProviderRepository.getDefault();return e?.id??null},canAddDataset(){const{isMultiple:e,datasetRequests:t}=this;return!!e||t.length<1}},methods:{saveDatasets(e,t){const s=this.onDatasetRequestsChanged(e,t);this.propChanged(this.DATASET_PROP,s)},getDatasetName(e){return e.name},onDatasetEditorClose(){this.isDatasetEditorShown=!1,this.editDataset=null,this.editDatasetIndex=-1},onDatasetEditorSave(e){const{datasetRequests:t,editDatasetIndex:s}=this;if(s>=0){const r=[...t];r.splice(s,1,e),this.datasetRequests=r}else this.datasetRequests=[...t,e];this.saveDatasets(this.datasetRequests,t),this.isDatasetEditorShown=!1},onDatasetCreate(){this.editDataset=null,this.editDatasetIndex=-1,this.isDatasetEditorShown=!0},onDatasetEdit(e,t){this.editDataset=e,this.editDatasetIndex=t,this.isDatasetEditorShown=!0},onDatasetDelete(e){const{datasetRequests:t}=this,s=[...t];s.splice(e,1),this.datasetRequests=s,this.saveDatasets(this.datasetRequests,t)},onDatasetImport(e){const{datasetRequests:t}=this;this.datasetRequests=[...t,e],this.saveDatasets(this.datasetRequests,t),this.isDatasetImportShown=!1,this.showToast({text:Z.FH.IMPORTED_SUCCESSFULLY()})},onDatasetRequestPropsCopy(e){try{this.$shared.clipboard(e)}catch{window.navigator.clipboard.writeText(JSON.stringify(e,null,2)),this.showToast({text:Z.FH.COPIED_TO_CLIPBOARD()})}},showToast({text:e,type:t=""}){const{delay:s}=this.toastOptions,{toast:r}=this;r.id&&clearTimeout(r.id),r.id=setTimeout(()=>{r.isActive=!1},s),r.text=e,r.type=t,r.isActive=!0}}},pr=ur;s(75150);var hr=(0,A.A)(pr,r,i,!1,null,"4faef032",null);const mr=hr.exports},60627:(e,t,s)=>{var r=s(62448);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("4026e0bf",r,!0,{sourceMap:!1,shadowMode:!1})},60737:(e,t,s)=>{var r=s(59411);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("3c5ac4cd",r,!0,{sourceMap:!1,shadowMode:!1})},61062:(e,t,s)=>{var r=s(54535);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("b5e14804",r,!0,{sourceMap:!1,shadowMode:!1})},61999:(e,t,s)=>{var r=s(49234);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("171bac2a",r,!0,{sourceMap:!1,shadowMode:!1})},62041:(e,t,s)=>{s.r(t),s.d(t,{Popup:()=>P,Portal:()=>O,Tooltip:()=>ie,TooltipDefaultFactory:()=>B.XT,TooltipItemRender:()=>V,UiButtonBase:()=>et,UiContainerBase:()=>c,UiGroup:()=>E,UiHeroPlaceholder:()=>ze,UiIcon:()=>ue,UiPreloader:()=>ve,UiShim:()=>De,UiSidebar:()=>Le,UiSidebarCollapse:()=>Ae,Wysiwyg:()=>F});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui-container",class:e.cssClass},[e.hasSlots?[e.hasHeaderSlot?t("div",{staticClass:"ui-container__header"},[e._t("header")],2):e._e(),t("div",{ref:"content",staticClass:"ui-container__content",class:{"has-scroll":e.scroll}},[e._t("default")],2),e.hasFooterSlot?t("div",{staticClass:"flex-shrink"},[e._t("footer")],2):e._e()]:[e._t("default")]],2)},i=[];const a={NONE:{name:"none",class:[]},SMALL:{name:"small",class:["pad-3"]},NORMAL:{name:"normal",class:["pad-l1"]},LARGE:{name:"large",class:["pad-l3"]},XLARGE:{name:"xlarge",class:["pad-l4"]}},n={props:{padding:{type:String,default:a.NONE.name,validator:e=>Object.values(a).map(({name:e})=>e).includes(e)},scroll:{type:Boolean,default:!1},onScroll:{type:Function}},computed:{hasHeaderSlot(){return null!=this.$scopedSlots.header?.()},hasFooterSlot(){return null!=this.$scopedSlots.footer?.()},hasSlots(){const{hasHeaderSlot:e,hasFooterSlot:t}=this;return e||t},cssClass(){const{padding:e,scroll:t,hasSlots:s}=this,r=Object.values(a).find(({name:t})=>t===e),i=[...r.class];return!s&&t&&i.push("has-scroll"),s&&i.push("has-slots"),i}},mounted(){this.disposals=[this.subscribeScroll()]},beforeDestroy(){this.disposals.forEach(e=>e())},methods:{subscribeScroll(){return!0===this.scroll&&null!=this.onScroll?(this.$refs.content.addEventListener("scroll",this.onScroll),()=>this.$refs.content.removeEventListener("scroll",this.onScroll)):()=>{}}}},o=n;s(82680);var l=s(81656),d=(0,l.A)(o,r,i,!1,null,"394239e2",null);const c=d.exports;var u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"group",class:e.cssClass},[e._t("default")],2)},p=[];const h={HORIZONTAL:{name:"horizontal",class:[]},VERTICAL:{name:"vertical",class:["is-vertical"]}},m={NONE:{name:"none",class:[]},NORMAL:{name:"normal",class:["has-gap"]},SMALL:{name:"small",class:["has-gap-small"]}},f={START:{name:"start",class:["flex-h-start"]},CENTER:{name:"center",class:["flex-h-center"]},BETWEEN:{name:"between",class:["flex-h-space-between"]},END:{name:"end",class:["flex-h-end"]},STRETCH:{name:"stretch",class:[]}},g={START:{name:"start",class:["flex-v-start"]},CENTER:{name:"center",class:["flex-v-center"]},BETWEEN:{name:"between",class:["flex-v-space-between"]},END:{name:"end",class:["flex-v-end"]},STRETCH:{name:"stretch",class:[]}},y={props:{type:{type:String,default:h.HORIZONTAL.name,validator:e=>Object.values(h).map(({name:e})=>e).includes(e)},gap:{type:String,default:m.NORMAL.name,validator:e=>Object.values(m).map(({name:e})=>e).includes(e)},justify:{type:String,default:f.START.name,validator:e=>Object.values(f).map(({name:e})=>e).includes(e)},align:{type:String,default:g.CENTER.name,validator:e=>Object.values(g).map(({name:e})=>e).includes(e)}},computed:{cssClass(){const{type:e,gap:t,justify:s,align:r}=this,i=Object.values(h).find(({name:t})=>t===e),a=Object.values(m).find(({name:e})=>e===t),n=Object.values(e===h.HORIZONTAL.name?f:g).find(({name:e})=>e===s),o=Object.values(e===h.HORIZONTAL.name?g:f).find(({name:e})=>e===r);return[...i.class,...a.class,...n.class,...o.class]}}},v=y;s(72294);var b=(0,l.A)(v,u,p,!1,null,"14adc9de",null);const E=b.exports;var _=function(){var e=this,t=e._self._c;return t("ui-portal",[t("ui-popup",e._b({style:e.$widget.cssVarsStyle,attrs:{visible:e.visible},on:{close:e.onClose},scopedSlots:e._u([{key:"close",fn:function({close:t}){return[e._t("close",null,null,{close:t})]}},{key:"body",fn:function({close:t}){return[e._t("body",null,null,{close:t})]}},e.$scopedSlots.footer?{key:"footer",fn:function({close:t}){return[e._t("footer",null,null,{close:t})]}}:null],null,!0)},"ui-popup",e.$attrs,!1))],1)},S=[],I=s(2770),D=s(42197),M=s(82903);const x={functional:!0,render(e,{scopedSlots:t}){let s=`#${M.A.PORTAL_TARGET_NAME_POPUP}`;const r=document.querySelector(s);null==r&&(s="body");const i=t.default?t.default({}):[];return e(D.Mj,{props:{mountTo:s,append:!0,bail:!1,multiple:!0}},i)}},T=x;var w,C,A=(0,l.A)(T,w,C,!1,null,null,null);const O=A.exports,R={components:{UiPortal:O,UiPopup:I.Popup},inheritAttrs:!1,inject:{$widget:{default:{}}},props:{visible:{type:Boolean,default:!1}},methods:{onClose(){this.$emit("close"),this.$emit("update:visible",!1)}}},N=R;var k=(0,l.A)(N,_,S,!1,null,null,null);const P=k.exports;var U=function(){var e=this,t=e._self._c;return t("ui-wysiwyg-editor",e._b({on:{input:e.onInput,change:e.onChange},scopedSlots:e._u([{key:"toolbar",fn:function({toolGroups:t,resolveGroupTitle:s,buildToolBinds:r}){return[e._t("toolbar",null,null,{toolGroups:t,resolveGroupTitle:s,buildToolBinds:r})]}},{key:"group-header",fn:function({groupIndex:t,title:s}){return[e._t("group-header",null,null,{groupIndex:t,title:s})]}},{key:"tool",fn:function(t){return[e._t("tool",null,null,t)]}}],null,!0)},"ui-wysiwyg-editor",{value:e.value,tools:e.tools,bubbleMenu:e.bubbleMenu,focusVisible:e.focusVisible,autofocus:e.autofocus,getImageUrl:e.getImageUrl,editorContent:e.editorContent},!1))},L=[];const $={components:{UiWysiwygEditor:I.WysiwygEditor},props:{value:{type:String,default:""},uploadFile:{type:Function,default:()=>{}},tools:{type:Array,default:()=>[]},bubbleMenu:{type:[Boolean,Object],default:!1},focusVisible:{type:Boolean,default:!0},autofocus:{type:[String,Number,Boolean],default:"end"},editorContent:{type:Object,default:()=>({class:["h-100","scroll-y"]})}},methods:{onInput(e){this.$emit("input",e)},onChange(e){this.$emit("change",e)},getImageUrl(){return new Promise(e=>{const t=async t=>{const[s]=Array.from(t.target.files),{isError:r,error:i,result:a}=await this.uploadFile(s);r&&(console.error(i),e(null)),e(a)},s=document.createElement("input");s.type="file",s.accept="image/*",s.onchange=t.bind(this),s.click()})}}},j=$;var q=(0,l.A)(j,U,L,!1,null,null,null);const F=q.exports;var B=s(82433),H=s(74989);const V={render(e){const{data:t,item:s,cssClass:r}=this,i=t?.[s.value]??null,a=(0,B.Gd)(i,s),n=(0,B.aZ)(e,s,a,r);return e("div",{class:[r]},n)},props:{item:{type:Object},data:{type:Object},cssClass:{type:String,default:H.z9}}},z=V,W=z;s(35859);var Q,G,Y=(0,l.A)(W,Q,G,!1,null,"4a6f04b7",null);Y.exports;var Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"contents"},[e._t("target"),t("w-popover",e._b({attrs:{show:e.isPopoverShown},on:{"update:show":function(t){e.isPopoverShown=t}},nativeOn:{mouseleave:function(t){return e.onMouseLeave.apply(null,arguments)}}},"w-popover",e.popoverOptions,!1),[e._t("tooltip",function(){return[t("div",{staticClass:"tooltip",style:e.tooltipCssVars},[""!==e.tooltip.title.text?t("div",{staticClass:"tooltip__title"},[e._v(e._s(e.tooltip.title.text))]):e._e(),e.dataItemsFiltered.length>0?t("div",{staticClass:"tooltip__data-items"},e._l(e.dataItemsFiltered,function(s,r){return t(e.dataItemRender,e._b({key:r,tag:"component",staticClass:"tooltip__data-item",style:e.buildTooltipDataItemCssVars(s)},"component",{item:s,data:e.data},!1))}),1):e._e()])]},null,{tooltipCssVars:e.tooltipCssVars,buildTooltipDataItemCssVars:e.buildTooltipDataItemCssVars,dataItemRender:e.dataItemRender,data:e.dataItemsFiltered})],2)],2)},K=[],X=s(77500),J=s(46996),ee=s(66401);const te={components:{WPopover:I.Popover},inject:["$widget"],props:{isShown:{type:Boolean,default:!1},isFixed:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!0},coordinates:{type:Array,default:()=>[0,0],validator:e=>2===e.length&&e.every(Number.isFinite)},hideDelay:{type:Number,default:H.aQ},propName:{type:String,default:H.MU},data:{type:Object,default:()=>({})},dataItemRender:{type:Object,default:()=>V}},data:()=>({isPopoverShown:!1,timeout:null}),computed:{tooltip(){return(0,X.A)(this.$widget.props,this.propName,(0,B.XT)())},popoverOptions(){const{coordinates:e,appendToBody:t,tooltip:{position:s,positionOffsets:r,shouldRespondToPointerEvents:i}}=this;return{target:e,appendToBody:t,position:s,positionOffset:r,shouldRespondToPointerEvents:i}},tooltipCssVars(){return this.$widget.buildCssVarsStyle((0,B.w0)(this.propName))},dataItemsFiltered(){return this.tooltip.data.filter(({value:e})=>null!=e)}},watch:{isShown:{handler(e){this.toggleVisibility(e)},immediate:!0},data:{handler(e,t){if(null==e||(0,J.A)(e,t))return;let{vars:s=null}=this.tooltip;if((0,ee.A)(s))return;const r=null!=this.$widget.static?.DATASET_PROP;r&&(s=Object.values(s).reduce((e,t)=>({...e,[t]:t}),{}));const i=Object.entries(s).reduce((t,[s,r])=>({...t,[s]:e[r]}),{});this.$widget.storeCommit(i,{hasMap:r})},immediate:!0}},methods:{toggleVisibility(e){const{timeout:t,hideDelay:s}=this;null!=t&&clearTimeout(t),!0!==e?this.timeout=setTimeout(()=>{this.isPopoverShown=!1},s):this.isPopoverShown=!0},buildTooltipDataItemCssVars(e){return this.$widget.genCssVarsStyle((0,B.L$)(e))},onMouseLeave(){this.isFixed||this.$emit("update:is-shown",!1)}}},se=te;s(21920);var re=(0,l.A)(se,Z,K,!1,null,"1d60716e",null);const ie=re.exports;var ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-inline-flex",class:e.cssClassWrapper,on:{click:e.onClick}},[t("i",{staticClass:"mdi",class:e.cssClass})])},ne=[];const oe={SMALL:{name:"small",class:[],classWrapper:[]},NORMAL:{name:"normal",class:["mdi-18px"],classWrapper:[]},LARGE:{name:"large",class:["mdi-24px"],classWrapper:[]},XLARGE:{name:"xlarge",class:["mdi-36px"],classWrapper:["icon-2"]},XXLARGE:{name:"xxlarge",class:["mdi-48px"],classWrapper:["icon-3"]}},le={props:{name:{type:String,default:""},size:{type:String,default:oe.NORMAL.name,validator:e=>Object.values(oe).map(({name:e})=>e).includes(e)},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},box:{type:Boolean,default:!0}},computed:{cssClass(){const{size:e,name:t,disabled:s}=this,r=Object.values(oe).find(t=>t.name===e),i=[...r.class,`mdi-${t}`];return s&&i.push("color-grey-light"),i},cssClassWrapper(){const{size:e,disabled:t,clickable:s,box:r}=this,i=Object.values(oe).find(t=>t.name===e),a=[...i.classWrapper];return r&&a.push("icon"),t&&a.push("events-none"),(s||this.$listeners.click)&&a.push("cursor-pointer"),a}},methods:{onClick(e){this.$emit("click",e)}}},de=le;var ce=(0,l.A)(de,ae,ne,!1,null,null,null);const ue=ce.exports;var pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"preloader",class:e.cssClass})},he=[];const me={SMALL:{name:"small",class:[]},NORMAL:{name:"normal",class:[]},LARGE:{name:"large",class:["pad-4"]},XLARGE:{name:"xlarge",class:["pad-l1"]}},fe={props:{size:{type:String,default:me.NORMAL.name,validator:e=>Object.values(me).map(({name:e})=>e).includes(e)}},computed:{cssClass(){const{size:e}=this,t=Object.values(me).find(t=>t.name===e),s=[...t.class];return s}}},ge=fe;var ye=(0,l.A)(ge,pe,he,!1,null,null,null);const ve=ye.exports;var be=function(){var e=this,t=e._self._c;return t("div",{staticClass:"shim",style:{zIndex:e.zIndex}},[e._t("overlay",function(){return[e.overlay?t("div",{staticClass:"shim-overlay"}):e._e()]}),t("div",{staticClass:"shim-content w-100 h-100 d-flex flex-center"},[e._t("default")],2)],2)},Ee=[];const _e={props:{overlay:{type:Boolean,default:!1},zIndex:{type:Number,default:1}}},Se=_e;var Ie=(0,l.A)(Se,be,Ee,!1,null,null,null);const De=Ie.exports;var Me=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui-sidebar-collapse"},[t("div",{staticClass:"ui-sidebar-collapse__header pad-l1",class:{"is-open":e.isOpened,shadow:e.shadow,"is-disabled":e.disabled,"has-icon":e.icon,"cursor-pointer":e.hasContent},on:{click:e.toggleOpen}},[e.icon?t("ui-icon",{attrs:{name:e.icon}}):e._e(),t("div",{staticClass:"text-truncate"},[e._t("header")],2),t("ui-group",{attrs:{gap:"small"}},[e._t("tools"),e.loading?t("ui-preloader"):e.hasContent?t("ui-icon",{attrs:{name:e.isOpened?"chevron-down":"chevron-right"}}):e._e()],2)],1),e.isOpened?t("div",{staticClass:"ui-sidebar-collapse__content"},[e.loading?t("div",{staticClass:"pad-l1 w-100 text-center"},[t("ui-preloader")],1):e._t("default")],2):e._e()])},xe=[];const Te={components:{UiIcon:ue,UiPreloader:ve,UiGroup:E},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},loading:{type:Boolean,default:!1},shadow:{type:Boolean,default:!0}},data:()=>({isOpen:!1}),computed:{hasContent(){return null!=this.$slots.default},isOpened(){return this.isOpen&&!1===this.disabled}},watch:{open:{handler(e){this.isOpen=e},immediate:!0}},methods:{toggleOpen(){this.hasContent&&(this.isOpen=!this.isOpen,this.$emit("change",this.isOpen),this.$emit("update:open",this.isOpen))}}},we=Te;s(84940);var Ce=(0,l.A)(we,Me,xe,!1,null,"9b37b6c2",null);const Ae=Ce.exports;var Oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui-sidebar h-100",class:e.cssClass},[e._t("default")],2)},Re=[];const Ne={AUTO:{name:"auto",class:[]},NORMAL:{name:"normal",class:["is-size-normal"]},SMALL:{name:"small",class:["is-size-small"]}},ke={props:{size:{type:String,default:Ne.AUTO.name,validator:e=>Object.values(Ne).map(({name:e})=>e).includes(e)},chromeless:{type:Boolean,default:!1}},computed:{cssClass(){const{size:e,chromeless:t}=this,s=Object.values(Ne).find(({name:t})=>t===e),r=[...s.class];return t||r.push("bg-white","shadow","shadow-3"),r}}},Pe=ke;s(8397);var Ue=(0,l.A)(Pe,Oe,Re,!1,null,"3d152656",null);const Le=Ue.exports;var $e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-center w-100 h-100 text-muted",class:e.cssClass},[t("ui-group",{attrs:{gap:e.groupGap,type:e.type,justify:"center",align:"center"}},[e.icon?t("ui-icon",{attrs:{name:e.icon,size:e.iconSize}}):e._e(),e._t("message",function(){return[t("span",{class:e.labelCssClass},[e._t("default")],2)]})],2)],1)},je=[];const qe={NORMAL:{name:"normal",class:[]},SMALL:{name:"small",class:[]}},Fe={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Be={components:{UiGroup:E,UiIcon:ue},props:{type:{type:String,default:Fe.HORIZONTAL,validator:e=>Object.values(Fe).includes(e)},icon:{type:String,default:""},size:{type:String,default:qe.NORMAL.name,validator:e=>Object.values(qe).map(({name:e})=>e).includes(e)}},computed:{cssClass(){const{size:e}=this,t=Object.values(qe).find(({name:t})=>t===e),s=[...t.class];return s},groupGap(){const{size:e}=this;return e===qe.NORMAL.name?"normal":"small"},iconSize(){const{size:e}=this;return e===qe.NORMAL.name?"xlarge":"large"},labelCssClass(){const{size:e}=this;return e===qe.NORMAL.name?["text-large","text-bold"]:[]}}},He=Be;var Ve=(0,l.A)(He,$e,je,!1,null,null,null);const ze=Ve.exports;var We=function(){var e=this,t=e._self._c;return t(e.Tag,e._b({tag:"component",staticClass:"btn",class:e.cssClass,on:{click:e.onClick}},"component",e.attrs,!1),[e._t("icon",function(){return[e.icon?t("ui-icon",{class:{"w-auto":e.hasContent},attrs:{name:e.icon}}):e._e()]}),e._t("default"),e.hasBadge?t("div",{staticClass:"btn__badge"},[e._t("badge")],2):e._e()],2)},Qe=[];const Ge={PRIMARY:{name:"primary",class:["btn-primary"]},OUTLINE:{name:"outline",class:["btn-primary","btn-outline"]},ERROR:{name:"error",class:["btn-primary","btn-error"]},SUCCESS:{name:"success",class:["btn-primary","btn-success"]},SECONDARY:{name:"secondary",class:["btn-secondary"]},GHOST:{name:"ghost",class:["btn-ghost","color-grey"]},GHOST_ALT:{name:"ghost-alt",class:["btn-ghost","color-primary"]}},Ye={NORMAL:{name:"normal",class:[]},SMALL:{name:"small",class:["btn-small"]},XSMALL:{name:"xsmall",class:["btn-xsmall"]},LARGE:{name:"large",class:["btn-large"]}},Ze={LEFT:{name:"left",class:[]},RIGHT:{name:"right",class:["with-icon-right"]}},Ke={components:{UiIcon:ue},inheritAttrs:!1,props:{type:{type:String,default:Ge.PRIMARY.name,validator:e=>Object.values(Ge).map(({name:e})=>e).includes(e)},size:{type:String,default:Ye.NORMAL.name,validator:e=>Object.values(Ye).map(({name:e})=>e).includes(e)},icon:{type:String,default:""},iconPosition:{type:String,default:Ze.LEFT.name,validator:e=>Object.values(Ze).map(({name:e})=>e).includes(e)},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},htmlType:{type:String,default:""},href:{type:String,default:""}},computed:{Tag(){return""===this.href?"button":"a"},hasContent(){return null!=this.$slots.default},hasBadge(){return null!=this.$scopedSlots.badge?.()},cssClass(){const{type:e,size:t,iconPosition:s,disabled:r,loading:i,$slots:a}=this,n=Object.values(Ge).find(({name:t})=>t===e),o=Object.values(Ye).find(({name:e})=>e===t),l=Object.values(Ze).find(({name:e})=>e===s),d=[...n.class,...o.class,...l.class];return null==a.default&&d.push("btn-icon"),r&&d.push("disabled"),i&&d.push("btn-loading disabled"),d},attrs(){const{disabled:e,...t}=this.$attrs,{htmlType:s,href:r}=this;return{...t,disabled:this.disabled,...""!==s&&""===r&&{type:s},...""!==r&&{href:r}}}},methods:{focus(){this.$el.focus()},onClick(e){this.$emit("click",e)}}},Xe=Ke;s(70529);var Je=(0,l.A)(Xe,We,Qe,!1,null,"5b8e44b2",null);const et=Je.exports},62448:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".card[data-v-1d271028]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:25rem;height:100%}.card__header[data-v-1d271028]{padding-bottom:1rem}.card__body[data-v-1d271028]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 0 auto;height:0;gap:1.5rem;overflow-y:auto}.card__footer[data-v-1d271028]{text-align:right;padding-top:1rem}",""]);const l=o},63635:(e,t,s)=>{var r=s(43545);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("474c4b90",r,!0,{sourceMap:!1,shadowMode:!1})},63997:(e,t,s)=>{var r=s(80696);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("2b7c8a4b",r,!0,{sourceMap:!1,shadowMode:!1})},64131:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".grid[data-v-1a461ed0]{display:grid;gap:1rem}.grid-item[data-v-1a461ed0]{display:grid;-webkit-box-align:center;align-items:center;grid-template-columns:auto 1fr;gap:.5rem}",""]);const l=o},64249:(e,t,s)=>{var r=s(89643);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("2e9dca08",r,!0,{sourceMap:!1,shadowMode:!1})},66282:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".header-cell[data-v-e3d88cf4]{position:relative;display:grid;grid-template-columns:1fr auto auto;gap:.5rem}.header-cell__label[data-v-e3d88cf4]{height:1.2rem;line-height:1.2rem;gap:.25rem}.header-cell__type-skeleton[data-v-e3d88cf4]{display:inline-block;width:4rem;height:1rem}",""]);const l=o},66357:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".collapse+.collapse[data-v-064906f5]{margin-top:var(--spacer4)}",""]);const l=o},70048:(e,t,s)=>{var r=s(18843);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("20ba2c3d",r,!0,{sourceMap:!1,shadowMode:!1})},70423:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".ui-container__header[data-v-394239e2]{z-index:1;-webkit-box-flex:0;flex:0 1 auto}.ui-container__content[data-v-394239e2]{position:relative;-webkit-box-flex:1;flex:1 0 auto}.ui-container__content.has-scroll[data-v-394239e2]{overflow:auto;flex-basis:0;contain:strict}.has-slots[data-v-394239e2]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.has-scroll[data-v-394239e2]{overflow:auto}",""]);const l=o},70529:(e,t,s)=>{var r=s(73866);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("6ed3bf8e",r,!0,{sourceMap:!1,shadowMode:!1})},70907:(e,t,s)=>{s.d(t,{u:()=>l});var r=s(46996),i=s(79581),a=s(21230),n=s(81644),o=s(33706);const l={static(){return{DATASET_PROP:a.r,DEVIATIONS_PROP:a.R,...n}},data:()=>({queryModels:[]}),computed:{$drilldown(){return{dimensions:this.queryModels.filter(Boolean).flatMap(({drilldown:e})=>e.dimensions),getDimensions:this.$drilldownGetDimensions}},datasetRequests(){return this.props[this.DATASET_PROP]??[]},queryModel(){return this.queryModels[0]},hasDataset(){return this.datasetRequests.length>0},metrics(){return this.$queryGetParams(["metrics"])},dimensions(){return this.$queryGetParams(["dimensions"])},dimensionsMetrics(){return this.$queryGetParams(["dimensions","metrics"])},fields(){return this.$queryGetParams(["fields"])},drilldowns(){return this.$queryGetParams(["drilldown.names"])},deviations(){return this.props[a.R]?.rules.map(({name:e})=>e)??[]}},watch:{datasetRequests:{handler:"$queryUpdateModels",immediate:!0}},methods:{$queryUpdateModels(e=this.datasetRequests,t=[]){if(0===e.length&&0===this.queryModels.length)return;if(0===e.length&&this.queryModels.length>0)return void(this.queryModels=[]);let s=e.length!==t.length;const a=e.map((e,a)=>{const n=null==e?null:e.query,o=null==t[a]?null:t[a].query;return(0,r.A)(n,o)?this.queryModels[a]:(s=!0,null===n?null:(0,i.O4)(n))});s&&(this.queryModels=a)},buildOptions(e,{empty:t=!1}={}){const s=!1===t?[]:[!0===t?{label:"",value:null}:t];return[...s,...e.map(e=>({label:e??"",value:e}))]},$queryGetParams(e){return(0,o.IE)(this.queryModels.filter(e=>null!=e),e)},$drilldownGetDimensions(e){const t=this.queryModels.filter(Boolean).find(({drilldown:t})=>t.has(e));return null===t?[]:t.drilldown.get(e).dimensions}}}},71136:(e,t,s)=>{var r=s(42435);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("5625283c",r,!0,{sourceMap:!1,shadowMode:!1})},71154:(e,t,s)=>{s.d(t,{Ex:()=>c,lX:()=>I,BP:()=>g});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"badge color-body u-select-none text-truncate",class:e.cssClass,attrs:{title:e.description||e.text}},[t("span",{staticClass:"text-truncate"},[e._v(e._s(e.text))])])},i=[];const a={default:["badge--default"]},n={name:"Badge",props:{text:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"default"}},computed:{cssClass(){return a[this.type]}}},o=n;s(32534);var l=s(81656),d=(0,l.A)(o,r,i,!1,null,"9e7a1df6",null);const c=d.exports;var u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-label color-primary text-truncate"},[t("span",{staticClass:"mdi",class:[`mdi-${e.icon}`],attrs:{title:e.title}},[e._v(" "+e._s(e.title)+" ")])])},p=[];const h={name:"ScopeTitle",props:{title:{type:String,default:""},icon:{type:String,default:""}}},m=h;var f=(0,l.A)(m,u,p,!1,null,null,null);const g=f.exports;var y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column flex-h-space-between gap-4 mar-bot-l1"},[t("ui-button",{staticClass:"w-100 btn-action",attrs:{outline:""},on:{click:function(t){return e.$emit("clear")}}},[t("div",{staticClass:"icon mar-right-2"},[t("i",{staticClass:"mdi mdi-18px mdi-delete-outline"})]),e._v(" ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ ")])],1)},v=[],b=s(18878);const E={name:"HeaderActions",components:{UiButton:b.UiButton}},_=E;s(60737);var S=(0,l.A)(_,y,v,!1,null,"7decfcf7",null);const I=S.exports},71193:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var r=s(73663),i=s(52681),a=s(7178);const n={...i["default"],methods:{...i["default"].methods,_buildExternalStateFromInternal:i["default"].methods.buildExternalStateFromInternal,_buildInternalStateFromExternal:i["default"].methods.buildInternalStateFromExternal,buildInternalStateFromExternal(e,{hasMap:t=!0}={}){const[s,i]=this._buildInternalStateFromExternal(e,{hasMap:t}),n=t?this.props.varAliases:null,{vars:o}=this.descriptor,l=[];if(Object.keys(s).length>0)try{const{isError:e,error:t}=(0,a.lE)(s,i,{varsDescriptor:o});e&&l.push(...t)}catch(c){l.push(c)}const d=new Proxy(i,{get:(e,t)=>{if(t in e||["toJSON"].includes(t))return e[t];try{const{isError:e,error:s}=(0,a.pQ)({stateVars:[t],descriptorVars:Object.keys(o),varAliases:Object.entries(n??{}).filter(([,{listen:e}])=>null!=e).map(([e])=>e)},{traceContext:this.$options.methods.buildInternalStateFromExternal});e&&l.push(...s)}catch(c){l.push(c)}return e[t]},set:(e,t,s)=>{const i=new r.CoreError(`FORBIDDEN to overwrite this.$storeState['${t}'] directly with value '${s}'. Use this.$storeCommit`);return i.captureStackTrace(this.$options.methods.buildInternalStateFromExternal),this.handleError(i,{scope:"$storeState"}),!0},deleteProperty:(e,t)=>{const s=new r.CoreError(`FORBIDDEN to delete this.$storeState['${t}'] directly. Use this.$storeCommit({ ${t}: undefined })`);return s.captureStackTrace(this.$options.methods.buildInternalStateFromExternal),this.handleError(s,{scope:"$storeState"}),!0}});return l.forEach(e=>{this.handleError(e,{scope:"$storeState"})}),[s,d]},buildExternalStateFromInternal(e,{validate:t=!0,hasMap:s=!0,buildExternalStateValue:r}={}){if(!0===t&&Object.keys(e).length>0){const t=[],{vars:r}=this.descriptor,n=s?this.props.varAliases:null;try{const{error:s}=(0,a.pQ)({stateVars:Object.keys(e),descriptorVars:Object.keys(r),varAliases:Object.entries(n??{}).filter(([,{trigger:e}])=>null!=e).map(([e])=>e)},{traceContext:this.$options.methods.buildExternalStateFromInternal});null!=s&&t.push(...s)}catch(i){t.push(i)}t.forEach(this.handleError)}return this._buildExternalStateFromInternal(e,{hasMap:s,buildExternalStateValue:r})}}},o=n,l=o;var d,c,u=s(81656),p=(0,u.A)(l,d,c,!1,null,null,null);const h=p.exports},71369:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var r=function(){var e=this,t=e._self._c;return t("w-panel",e._l(e.events,function(s){return t("div",{key:s.name,staticClass:"pad-v-1"},[t("div",{staticClass:"d-flex flex-v-center"},[t("div",{staticClass:"mdi mdi-arrow-down pad-left-2",class:{"text-muted":!s.listen},attrs:{title:`listen: ${s.listen}`}}),t("div",{staticClass:"mdi mdi-arrow-up",class:{"text-muted":!s.trigger},attrs:{title:`trigger: ${s.trigger}`}}),t("div",{staticClass:"text-small pad-left-2",class:{"color-green":e.hits[s.name]},attrs:{title:s.description}},[e._v(" "+e._s(s.name)+" ")])])])}),0)},i=[],a=s(77500),n=s(21613);const o={extends:n.Panel,meta:{name:"events",icon:"swap-vertical",isHidden:({descriptor:e})=>0===Object.keys(e.events??{}).length,index:200},data(){return{hits:{}}},computed:{events(){const e=this.elementInstance?.descriptor.events??{};return Object.entries(e).map(([e,t])=>{if(Array.isArray(t)){const s=e,r=t.includes("listen")?e:void 0,i=t.includes("trigger")?e:void 0;return{name:(0,a.A)(this.props.events,s)??s??r??i,listen:r,trigger:i}}const{listen:s,trigger:r}=t,i=(0,a.A)(this.props.events,s??r)??(0,a.A)(this.props,s??r)??s??r;return{name:i,listen:s,trigger:r}})}},created(){this.onListenedBound=this.onListened.bind(this),this.events.forEach(({name:e})=>{this.elementInstance.$eventBus.listen(e,this.onListenedBound)})},beforeDestroy(){this.events.forEach(({name:e})=>{this.elementInstance.$eventBus.unlisten(e,this.onListenedBound)})},methods:{onListened(e){this.hits={...this.hits,[e.type]:!0},setTimeout(()=>{this.hits={...this.hits,[e.type]:!1}},2e3)}}},l=o;var d=s(81656),c=(0,d.A)(l,r,i,!1,null,null,null);const u=c.exports},72062:(e,t,s)=>{var r=s(73791);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("30c1defb",r,!0,{sourceMap:!1,shadowMode:!1})},72294:(e,t,s)=>{var r=s(78389);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("2994a6e2",r,!0,{sourceMap:!1,shadowMode:!1})},73086:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row row-hgap-3"},[t("div",{staticClass:"col col-vmid text-truncate"},[t("div",{staticClass:"label",class:`form-label-${e.labelSize}`},[e._t("default",function(){return[t(e.Label,{tag:"component"})]},null,{Label:e.Label,getLabel:e.getLabel})],2)]),e.hasHint?t("div",{staticClass:"col col-auto col-vmid"},[t("div",{class:`text-${e.labelSize}`},[t("ui-tooltip",{scopedSlots:e._u([{key:"target",fn:function({binds:s,events:r}){return[t("div",e._g(e._b({staticClass:"hint"},"div",s,!1),r),[t("i",{staticClass:"mdi mdi-help-circle-outline"})])]}}],null,!1,3825700044)},[t("div",{staticClass:"whitespace-pre-line"},[e._t("hint",function(){return[t(e.Hint,{tag:"component"})]},null,{Hint:e.Hint,getHint:e.getHint})],2)])],1)]):e._e()])])},i=[],a=s(2770),n=s(97945);const o={components:{UiTooltip:a.Tooltip},mixins:[n.UO],props:{labelSize:{type:String,default:"xsmall",validation(e){return["xsmall","small"].includes(e)}}},implicitCssModule:!0},l=o;var d=s(90229),c=s.n(d),u=s(81656);function p(e){this["$style"]=c().locals||c()}var h=(0,u.A)(l,r,i,!1,p,null,null);const m=h.exports},73404:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".badge[data-v-0e81deb0]{cursor:default}.tooltip[data-v-0e81deb0]{border:1px solid var(--color-red)}",""]);const l=o},73791:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,'.grid-3-3[data-v-2cb95cf7]{display:grid;grid-template-areas:". t ." "l c r" ". b .";grid-template-columns:repeat(3,1fr);gap:var(--spacer2)}.grid-3-3 .box[data-v-2cb95cf7]{position:relative;height:100%;-webkit-transition:border .1s ease;transition:border .1s ease;border:1px solid var(--color-border)}.grid-3-3 .box[data-dir=l][data-v-2cb95cf7]{border-left:.25rem solid var(--color-primary)}.grid-3-3 .box[data-dir=r][data-v-2cb95cf7]{border-right:.25rem solid var(--color-primary)}.grid-3-3 .box[data-dir=t][data-v-2cb95cf7]{border-top:.25rem solid var(--color-primary)}.grid-3-3 .box[data-dir=b][data-v-2cb95cf7]{border-bottom:.25rem solid var(--color-primary)}.badge[data-v-2cb95cf7]{white-space:normal}',""]);const l=o},73866:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".btn[data-v-5b8e44b2]{position:relative;display:-webkit-inline-box;display:inline-flex;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;gap:.25rem}.btn[data-v-5b8e44b2],.btn.with-icon-right[data-v-5b8e44b2]{-webkit-box-orient:horizontal}.btn.with-icon-right[data-v-5b8e44b2]{-webkit-box-direction:reverse;flex-direction:row-reverse}.btn.btn-xsmall[data-v-5b8e44b2]{--size:calc(var(--unit)*3);min-height:var(--size)}.btn.btn-xsmall.btn-icon[data-v-5b8e44b2]{width:var(--size);height:var(--size)}.btn__badge[data-v-5b8e44b2]{position:absolute;top:0;right:0;font-size:.6rem}",""]);const l=o},74989:(e,t,s)=>{s.d(t,{MU:()=>a,O2:()=>o,X_:()=>n,Zj:()=>r,aQ:()=>d,xo:()=>i,z9:()=>l});const r=Object.freeze({LEFT:"left",LEFT_START:"left-start",LEFT_END:"left-end",RIGHT:"right",RIGHT_START:"right-start",RIGHT_END:"right-end",TOP:"top",TOP_START:"top-start",TOP_END:"top-end",BOTTOM:"bottom",BOTTOM_START:"bottom-start",BOTTOM_END:"bottom-end"}),i=Object.freeze({RIGHT:"right",CENTER:"center",LEFT:"left"}),a="customTooltip",n=Object.freeze({NAME:"n",VALUE:"v"}),o=Object.freeze({STRING:"string",NUMBER:"number",DATE:"date"}),l="data-item",d=150},75150:(e,t,s)=>{var r=s(99184);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("66c4159e",r,!0,{sourceMap:!1,shadowMode:!1})},75426:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,'.node[data-v-b4e6a294]{--depth-padding:calc(var(--depth, 0)*1rem)}.node__content[data-v-b4e6a294]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:.5rem 1rem;padding-left:calc(var(--depth-padding) + 1rem);-webkit-box-align:center;align-items:center;-webkit-transition:background .1s ease;transition:background .1s ease}.node__content[data-v-b4e6a294]:hover{background:var(--color-primary-focus)}.node__children[data-v-b4e6a294]{position:relative}.node__children[data-v-b4e6a294]:before{position:absolute;left:calc(var(--depth-padding) + 1.5rem);top:0;border-left:1px solid var(--color-grey-light);width:2px;height:100%;content:""}',""]);const l=o},75676:(e,t,s)=>{function r(e){return()=>e}s.r(t),s.d(t,{DescriptorTypes:()=>i,addEventListener:()=>a,computedWhen:()=>A,defineDescriptor:()=>r,shouldWatch:()=>_,useBrowserHistory:()=>y,useComputedWhenMixin:()=>O,useNavigate:()=>c,usePersistentStorage:()=>u,useRouteQueryManager:()=>h,useWatchWhenMixin:()=>D,watchWhen:()=>I,widget:()=>k});const i=Object.freeze({InputString:String,TextareaString:String,FileString:String,TimeString:String,SelectString:String,CheckboxBoolean:Boolean,SwitchBoolean:Boolean}),a=(e,t,s,r)=>(e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r));var n=s(29565),o=s(14120),l=s(73663);const d=e=>[void 0,null,""].includes(e),c=()=>{const e=({url:e,route:t},{isNewWindow:s=!1}={})=>{if([e,e?.path,t?.path].every(d))throw new l.CoreError('"url" and "route" param could not be empty (\'\', null or undefined) at the same time');if(d(e))return void n.RouteManager.instance.navigate(t);const r=new o.Url(e);if(r.isRelative){const{host:e,port:t,schema:s}=window.location;r.schema=s,r.host=e,r.port=t}const i=d(t)?r.toString():n.RouteManager.instance.buildRouteString(t,r.toString());s?window.open(i,"_target","noreferrer"):window.location.href=i};return{navigate:e}},u=()=>{const{localStorage:e}=window,{setItem:t,getItem:s,removeItem:r,clear:i}=e;return{setItem:t.bind(e),getItem:s.bind(e),removeItem:r.bind(e),clear:i.bind(e)}};var p=s(66401);const h=()=>{const e=n.RouteManager.instance,t=t=>{if(null==e.route)return;if((0,p.A)(t))return;const{path:s,query:r}=e.route,i=Object.fromEntries(Object.entries({...r,...t}).filter(([e,t])=>null!=t));e.navigate({path:s,query:i})};return{addRouteQueryParams:t}};var m=s(63312),f=s(69592);const g=()=>performance.now().toFixed(3);function y(){let e=history.state;return{pushState:(t={},s=null)=>{t=(0,m.A)({[Symbol.for("source")]:"useBrowserHistory",key:g(),...t},f.A),history.pushState(t,"",s),e=t},replaceState:(t={},s=null)=>{t=(0,m.A)({key:g(),...history.state,...t},f.A),history.replaceState(t,"",s),e=t},go:e=>{history.go(e)},back:()=>{history.back()},forward:()=>{history.forward()},onPopState:(t,s={})=>{const r=new AbortController,i=()=>{r.abort()},a=s=>{const{state:r}=s,i=null==r||null!=e&&Number(r.key)<Number(e.key);e=r,t(s,{isBack:i,isForward:!i})};return window.addEventListener("popstate",a,{signal:r.signal,...s}),i},getCurrentState:()=>history.state}}var v=s(77500),b=s(20330),E=s.n(b);const _=(e,t)=>("function"!==typeof e||!0===e.call(t,t))&&("string"!==typeof e||!0===(0,v.A)(t,e));class S{constructor(e,t){this.watch=e,this.when=t}resolveWatch({context:e}){return _(this.when,e)?this.watch:null}}const I=function(e,t){return new S(e,t)},D=({name:e="watchEditor",when:t="$root.isEditorMode"}={})=>{const s={beforeCreate(){const{[e]:s}=this.$options;null!=s&&0!==Reflect.ownKeys(s).length&&("watch"===e&&(this.$options.watch=void 0),this.$options.watchWhen=s instanceof S?s:new S(s,t))},created(){const{watchWhen:e}=this.$options;if(null==e)return;const t=e.resolveWatch({context:this});null!=t&&Reflect.ownKeys(t).forEach(e=>{let s={},r=t[e];const i=r.target;if("object"===typeof r){const{handler:e,when:t,...i}=r;if(!1===_(t,this))return;s=i,r=e}i.split(",").forEach(e=>{[r].flat().forEach(t=>{"string"===typeof t&&(t=this[t]),this.$watch(e,t.bind(this),s)})})})}};return s},M=e=>null==e?null:Reflect.ownKeys(e).reduce((t,s)=>({...t,["symbol"===typeof s?s:Symbol(s)]:"object"===typeof e[s]?{target:s,...e[s]}:{target:s,handler:e[s]}}),{}),x=(e,t)=>{const s={...M(e),...M(t)};return s};E().config.optionMergeStrategies.watchEditor=x;const T=Symbol("undefined"),w=(e,{context:t})=>{let s=T;return()=>(s===T&&(s=e.call(t)),s)};class C{constructor(e,t){this.computed=e,this.when=t}resolveComputedDescriptor({context:e}){return _(this.when,e)?this.computed:{}}assignStaticProperties({context:e}){_(this.when,e)||Object.entries(this.computed).forEach(([t,s])=>{const r=w(s,{context:e});Object.defineProperty(e,t,{get:r,configurable:!0,enumerable:!0})})}}const A=function(e,t){return new C(e,t)},O=({name:e="computedEditor",when:t="$root.isEditorMode"}={})=>{const s={beforeCreate(){let{[e]:s}=this.$options;null!=s&&0!==Object.keys(s).length&&(s instanceof C===!1&&(s=new C(s,t)),this.$options.computed={...this.$options.computed,...s.resolveComputedDescriptor({context:this})},s.assignStaticProperties({context:this}))}};return s},R=(e,t)=>({...e,...t});E().config.optionMergeStrategies.computedEditor=R;const N={props:"props",["$options.static"]:"static",$cssVarsStyle:"cssVarsStyle",$storeState:"storeState",$storeCommit:"storeCommit",$routeCurrent:"routeCurrent",$routeNavigate:"routeNavigate",$eventBus:"eventBus",$eventTrigger:"eventTrigger",$eventListen:"eventListen",$eventCount:"eventCount",$watchStore:"watchStore",$handleError:"handleError",$debugMessage:"debugMessage",isEditorMode:"isEditorMode",$buildCssVarsStyle:"buildCssVarsStyle",$genCssVarsStyle:"genCssVarsStyle",descriptor:"descriptor",$storeMeta:"storeMeta"},k=e=>Object.create({},Object.entries(N).reduce((t,[s,r])=>({...t,[r]:{enumerable:!0,get:()=>{const t=(0,v.A)(e,s);return"function"===typeof t?t.bind(e):t}}}),{}))},76065:(e,t,s)=>{var r=s(75426);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("8aceed98",r,!0,{sourceMap:!1,shadowMode:!1})},77227:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".elem-container[data-v-bbf0ff68]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;row-gap:1rem}",""]);const l=o},78389:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".group[data-v-14adc9de]{display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.group.has-gap[data-v-14adc9de]{gap:var(--spacer5)}.group.has-gap-small[data-v-14adc9de]{gap:var(--spacer3)}.group.is-vertical[data-v-14adc9de]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.flex-v-start[data-v-14adc9de]{-webkit-box-align:start;align-items:start}.flex-v-center[data-v-14adc9de]{-webkit-box-align:center;align-items:center}.flex-v-end[data-v-14adc9de]{-webkit-box-align:end;align-items:end}",""]);const l=o},78975:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".sort-panel__badge[data-v-42ddcdc9]{height:1.225rem}",""]);const l=o},79369:(e,t,s)=>{s.r(t),s.d(t,{NumberFormat:()=>c,NumberFormatPattern:()=>l,createFormatNumber:()=>m,formatCurrency:()=>u,formatDecimal:()=>p,formatNumber:()=>h});var r=s(14969),i=s(37557);const a=(e,t)=>{const s=Number.parseInt(e,10);return Number.isNaN(s)?t:s},n=(e,t=!1)=>{const s=1e3,r=t?100*e:e,i=Math.floor(Math.log(r)/Math.log(s));return Math.floor(r/s**i).toString().length};class o{digits;unit;modifiers;constructor({digits:e=o.DIGITS_DEFAULT,unit:t="",modifiers:s=[]}={}){this.digits=(0,r.A)(e,o.DIGITS_MAX),this.unit=t,this.modifiers=s}toString(){const{digits:e,modifiers:t,unit:s}=this;return`${e}|${t.join("")}|${s}`}}o.fromString=e=>{const t=e.match(/^(\d*)\|(.*)\|(.*)$/);if(null==t)throw new Error(`Failed to parse number format pattern: ${e}`);const[,s,r="",i]=t,n=a(s,o.DIGITS_MAX),l=r.split("");return new o({digits:n,unit:i,modifiers:l})},o.Modifier=Object.freeze({PERCENT:"%",COMPACT:"c",FIXED:"f"}),o.DIGITS_MAX=20,o.DIGITS_DEFAULT=2;const l=o;class d{type;pattern;constructor({pattern:e=new l,type:t=d.Type.DECIMAL}={}){let s=new l;if(e instanceof l&&(s=e),"string"===typeof e)try{s=l.fromString(e)}catch{}if("object"===typeof e)try{s=new l(e)}catch{}this.pattern=s,this.type=t}toString(){const{pattern:e,type:t}=this;return`${e.toString()}/${t}`}}d.fromString=e=>{if("string"!==typeof e)throw new Error(`Invalid number format: ${e}`);const t=e.match(/^(.*)\/(.+)$/);if(null==t)throw new Error(`Failed to parse number format: ${e}`);const[,s,r]=t,i=l.fromString(s);return new d({pattern:i,type:r})},d.Type=Object.freeze({CURRENCY:"c",DECIMAL:"d"}),d.Style=Object.freeze({CURRENCY:"currency",DECIMAL:"decimal",PERCENT:"percent"}),d.Notation=Object.freeze({COMPACT:"compact",STANDARD:"standard"}),d.CurrencyDisplay=Object.freeze({CODE:"code"});const c=d,u=(e,{digits:t=2,unit:s="",modifiers:a=[]}={},{locale:o=i.Const.LOCALE}={})=>{const{Style:d,Notation:u,CurrencyDisplay:p}=c,{DIGITS_MAX:h}=l,m=a.includes(l.Modifier.COMPACT),f=a.includes(l.Modifier.FIXED),g=(0,r.A)(t,h),y="USD",v=Number(e),b=n(v),E=(0,r.A)(b+g,h);return v.toLocaleString(o||[],{style:d.CURRENCY,currency:y,currencyDisplay:p.CODE,notation:m?u.COMPACT:u.STANDARD,minimumFractionDigits:f?g:0,maximumFractionDigits:g,minimumSignificantDigits:m&&f?E:void 0,maximumSignificantDigits:m?E:void 0}).replace(y,s.trim()).trim()},p=(e,{digits:t=l.DIGITS_MAX,unit:s="",modifiers:a=[]}={},{locale:o=i.Const.LOCALE}={})=>{const{Style:d,Notation:u}=c,{DIGITS_MAX:p}=l,h=a.includes(l.Modifier.COMPACT),m=a.includes(l.Modifier.PERCENT),f=a.includes(l.Modifier.FIXED),g=(0,r.A)(t,p),y=Number(e),v=n(y,m),b=(0,r.A)(v+g,p);let E=y.toLocaleString(o||[],{style:m?d.PERCENT:d.DECIMAL,notation:h?u.COMPACT:u.STANDARD,minimumFractionDigits:f?g:0,maximumFractionDigits:g,minimumSignificantDigits:h&&f?b:void 0,maximumSignificantDigits:h?b:void 0});return m&&(E=E.replace(/\s?%\s?/,"%")),`${E}${s}`},h=(e,t,s={locale:i.Const.LOCALE})=>{let r=new c;if(t instanceof c&&(r=t),"string"===typeof t)try{r=c.fromString(t)}catch{}if("object"===typeof t)try{r=new c(t)}catch{}const a={[c.Type.CURRENCY]:u,[c.Type.DECIMAL]:p},{type:n,pattern:o}=r;if(a[n])return a[n](e,o,s);throw new Error(`Number format type "${n}" not implemented`)},m=({format:e,options:t}={})=>(s,r,i)=>h(s,r||e,i??t)},79581:(e,t,s)=>{s.d(t,{kf:()=>i,O4:()=>I,_N:()=>w,YD:()=>S,bf:()=>E,xA:()=>_,Kd:()=>T,Y7:()=>a});var r=s(88487);class i{static TYPE=1;__t=i.TYPE;name;operator;value;constructor(e){const t=(0,r.v3)(e),{name:s,operator:i,value:a}=(0,r.Xq)(t);this.name=s,this.operator=i,this.value=a}toJSON(){const{__t:e,name:t,operator:s,value:r}=this;return{__t:e,name:t,operator:s,value:r}}toString(){return JSON.stringify(this.toJSON())}}const a=e=>new i(e);var n=s(20903),o=s(46996),l=s(71174),d=s(29120),c=s(81644),u=s(73663);class p{_index=0;dimensions=[];name;filters=[];get length(){return this.dimensions.length}get index(){return this._index}setIndex(e,t){if(e<0)throw new RangeError(`Drilldown "${this.name}" index set unavailable`);if(e!==this._index){if(e<this._index)return this.filters=this.filters.slice(0,e),void(this._index=e);if(t.length<e)throw new RangeError(`Drilldown "${this.name}" index set unavailable: filters=${t} length is less then index=${e}`);t.slice(0,e).forEach(e=>{this.push(e)})}}get dimension(){return this.dimensions[this._index]}constructor(e){const{name:t,dimensions:s}=e;this.name=t,this.dimensions=s}push(e){if(!1===this.canPush)throw new RangeError(`Drilldown "${this.name}" push exceed limit ${this.length}`);const t={name:this.dimension,operator:c.QueryFilterOperator.EQ,value:e};this.filters.push(t),this._index+=1}pop(){if(!1===this.canPop)throw new RangeError(`Drilldown "${this.name}" pop unavailable`);this.filters.pop(),this._index-=1}get canPop(){return this._index>0}get canPush(){return this._index<this.length-1}}class h{models={};drilldownDimensionsMap={};constructor(e=[]){this.models=Object.fromEntries(e.map(e=>[e.name,new p(e)])),this.drilldownDimensionsMap=e.reduce((e,{name:t,dimensions:s})=>({...e,...Object.fromEntries(s.map(e=>[e,t]))}),{})}get isActive(){return Object.keys(this.models).length>0}get activeDimensions(){return Object.values(this.models).map(({dimension:e})=>e)}get names(){return Object.keys(this.models)}get dimensions(){return Object.values(this.models).flatMap(({dimensions:e})=>e)}get(e){return this.models[e]}getDimension(e){return this.get(e).dimension}has(e){return e in this.models}getNameByDimension(e){return this.drilldownDimensionsMap[e]}push(e,t){const s=this.get(e);if(void 0===s)throw new u.InfrastructureError(`Drilldown "${e}" not exist`);return s.push(t),s}pop(e){const t=this.get(e);if(void 0===t)throw new u.InfrastructureError(`Drilldown "${e}" not exist`);return t.pop(),t}setIndex(e,t,s=[]){const r=this.get(e);if(void 0===r)throw new u.InfrastructureError(`Drilldown "${e}" not exist"`);return r.setIndex(t,s),r}canPop(e){return this.get(e)?.canPop??!1}canPush(e){return this.get(e)?.canPush??!1}get filters(){return Object.values(this.models).flatMap(({filters:e})=>e)}}var m=s(46143),f=s(14120),g=s(16542);class y{_query;constructor(e){this._query=e}validateDrilldownConflictNames(){const{drilldowns:e,dimensions:t,metrics:s}=this._query,r=[...t,...s],i=e.filter(({name:e})=>r.includes(e)).map(({name:e})=>e);return i.map(e=>{const t=new f.MessageI18n(g.sI.DRILLDOWN_CONFLICTING_QUERY_PARAM,{name:e});return new m.ValidationError(t,{drilldowns:{[e]:{message:t}}})})}validateDrilldownIncompleteDimensions(){const{drilldowns:e,dimensions:t}=this._query,s=e.filter(({dimensions:e})=>e.some(e=>!t.includes(e)));return s.map(({name:e,dimensions:s})=>{const r=s.filter(e=>!t.includes(e)),i=new f.MessageI18n(g.sI.DRILLDOWN_MISSED_QUERY_DIMENSIONS,{name:e,dimensions:r.join(", ")}),a=Object.fromEntries(r.map(e=>{const t=new f.MessageI18n(g.sI.QUERY_DIMENSION_MISSED,{name:e});return[e,{message:t}]}));return new m.ValidationError(i,{drilldowns:{[e]:{message:i}},dimensions:a})})}validateSort(){const{sort:e,dimensions:t,metrics:s}=this._query,r=[...t,...s],i=e.filter(({name:e})=>!1===r.includes(e)).map(({name:e})=>e);return i.map(e=>{const t=new f.MessageI18n(g.sI.SORT_MISSED_QUERY_PARAM,{name:e});return new m.ValidationError(t,{sort:{[e]:{message:t}}})})}validateFilters(){const{filters:e,dimensions:t,metrics:s,fields:r}=this._query,i=[...t,...s,...r],a=e.filter(({name:e})=>!1===i.includes(e)).map(({name:e})=>e);return a.map(e=>{const t=new f.MessageI18n(g.sI.FILTER_MISSED_QUERY_PARAM,{name:e});return new m.ValidationError(t,{filters:{[e]:{message:t}}})})}validate(){return[...this.validateDrilldownConflictNames(),...this.validateDrilldownIncompleteDimensions(),...this.validateSort(),...this.validateFilters()]}}const v=e=>e.replace("@",""),b=e=>`@${e}`;class E{_query;constructor(e,{clone:t=!0}={}){this._query=!0===t?(0,r.pF)(e):e,this._validator=new y(this)}get raw(){return(0,n.A)(this._query)}get from(){return this._query[c.QueryKey.FROM]}set from(e){this._query[c.QueryKey.FROM]=e}get fields(){return[...this._query[c.QueryKey.FIELDS]]}set fields(e){this._query[c.QueryKey.FIELDS]=[...new Set(e)]}get metrics(){return[...this._query[c.QueryKey.METRICS]]}set metrics(e){this._query[c.QueryKey.METRICS]=[...new Set(e)],this._ensureOrder()}get dimensions(){return[...this._query[c.QueryKey.DIMENSIONS]]}set dimensions(e){this._query[c.QueryKey.DIMENSIONS]=[...new Set(e)],this._ensureOrder()}get filters(){return this._query[c.QueryKey.FILTERS].map(r.Xq)}set filters(e){this._query[c.QueryKey.FILTERS]=e.map(r.v3)}get variables(){return this._query[c.QueryKey.VARIABLES].map(r.dO)}set variables(e){this._query[c.QueryKey.VARIABLES]=e.map(r.Fz)}get variableNames(){return this.variables.map(({name:e})=>b(e))}get metricsCustom(){return this._query[c.QueryKey.METRICS_CUSTOM]}set metricsCustom(e){this._query[c.QueryKey.METRICS_CUSTOM]=e.map(r.wB)}get sort(){return this._query[c.QueryKey.SORT].map(r.l_)}set sort(e){this._query[c.QueryKey.SORT]=e.map(r.D2)}get drilldowns(){return(0,n.A)(this._query[c.QueryKeyRuntime.DRILLDOWNS])??[]}set drilldowns(e){this._query[c.QueryKeyRuntime.DRILLDOWNS]=e,this._ensureOrder()}get order(){const e=this._query[c.QueryKey.ORDER]??[];return e.length>0?[...e]:[...this._defaultOrder]}set order(e){this._query[c.QueryKey.ORDER]=[...new Set([...e])],this._ensureOrder()}get _defaultOrder(){const{dimensions:e,metrics:t,drilldowns:s,metricsCustom:r}=this,i=s.map(({name:e})=>e),a=s.flatMap(({dimensions:e})=>e),n=e.filter(e=>!1===a.includes(e)),o=r.map(({name:e})=>e);return[...i,...n,...t,...o]}_ensureOrder(){const{order:e,_defaultOrder:t}=this;(0,o.A)(e,t)||(this._query[c.QueryKey.ORDER]=[...new Set([...e.filter(e=>t.includes(e)),...t])])}validate(){return this._validator.validate()}}class _ extends E{hasFilter(e){return(0,r.ZA)({query:this._query,filter:e})}hasSort(e){return(0,r.RH)({query:this._query,sort:e})}createBlankFilter(){return{name:"",operator:"",value:[]}}createBlankSort(){return{name:"",direction:""}}getParamName(e){const{metrics:t,dimensions:s,metricsCustom:r,fields:i}=this,a=r.map(({name:e})=>e);return[...t,...s,...a,...i].includes(e)?e:null}_build(e){return e=(0,r.tw)({query:e}),e=(0,r.lw)({query:e}),(0,l.A)(e,Object.values(c.QueryKey))}get prepared(){return this._build(this.raw)}filterGetInfo(e){return this.filters.find(t=>t.name===e)}filterAdd({name:e,operator:t,value:s},i=!0){const{_query:a}=this;try{const n=(0,r.v3)({name:e,operator:t,value:s});return this._query=(0,r.Ah)({query:a,filter:n},i),!0}catch{return!1}}filterRemove(e){const{_query:t}=this;return!!(0,r.ZA)({query:t,filter:e})&&(this._query=(0,r.Hf)({query:t,filter:e}),!0)}filterRemoveAll(){const{_query:e}=this;this._query=(0,r.iU)({query:e})}sortAdd({name:e,direction:t},s=!0){const{_query:i}=this,a=(0,r.D2)({name:e,direction:t});this._query=(0,r.AG)({query:i,sort:a},s)}sortRemove(e){const{_query:t}=this;(0,r.RH)({query:t,sort:e})&&(this._query=(0,r.xD)({query:t,sort:e}))}sortRemoveAll(){const{raw:e}=this;this._query=(0,r.W5)({query:e})}variableGetInfo(e){return e=v(e),this.variables.find(t=>t.name===e)}variableAdd(e,t=!0){const{_query:s}=this,{name:i,value:a}=e,n=(0,r.Fz)({name:v(i),value:a});this._query=(0,r.cY)({query:s,variable:n},t)}variableRemove(e){const{_query:t}=this,s=this.variableGetInfo(e),i={name:v(e),value:null};return!(0,o.A)(s,i)&&(this._query=(0,r.iZ)({query:t,variable:(0,r.Fz)(i)}),!0)}metricCustomAdd({name:e,field:t,func:s},i=!0){const{_query:a}=this;try{const n=(0,r.wB)({name:e,field:t,func:s});return this._query=(0,r.vW)({query:a,metric:n},i),!0}catch{return!1}}metricCustomRemove(e){const{_query:t}=this;return!!(0,r.uG)({query:t,metric:e})&&(this._query=(0,r.aU)({query:t,metric:e}),!0)}metricCustomRemoveAll(){const{raw:e}=this;this._query=(0,r.Tu)({query:e})}createResultQueryParamMap(){return Object.fromEntries(this.order.map(e=>[e,e]))}}class S extends _{_drilldown;constructor(e){super(e),this._initDrilldown()}get drilldown(){return this._drilldown}get dimensions(){const{drilldown:e}=this;return!1===e.isActive?super.dimensions:super.dimensions.map(t=>e.activeDimensions.includes(t)?e.getNameByDimension(t):t).filter(t=>!1===e.dimensions.includes(t))}set dimensions(e){super.dimensions=e}get drilldowns(){return super.drilldowns}set drilldowns(e){super.drilldowns=e,this._initDrilldown()}get raw(){return this.drilldown.isActive?this._raw:super.raw}get _raw(){const{drilldown:e}=this,t=[...(0,d.A)(this.drilldown.filters,this.filters,"name"),...this.filters],s=super.dimensions.filter(t=>!e.dimensions.includes(t)||e.activeDimensions.includes(t)),i=this._query[c.QueryKey.SORT].filter(t=>{const{name:s}=(0,r.l_)(t);return!1===e.dimensions.includes(s)||e.activeDimensions.includes(s)});return{...this._query,[c.QueryKey.DIMENSIONS]:s,[c.QueryKey.SORT]:i,[c.QueryKey.FILTERS]:t.map(r.v3)}}_initDrilldown(){this._drilldown=new h(this.drilldowns)}getBaseModel(){return new E(this._query)}getParamName(e){return!1===this.drilldown.isActive?super.getParamName(e):this.drilldown.has(e)?this.drilldown.getDimension(e):this.drilldown.dimensions.includes(e)?e:super.getParamName(e)}createResultQueryParamMap(){return Object.fromEntries(this.order.map(e=>[e,this.getParamName(e)]))}}const I=e=>new S(e);var D=s(30213);class M{_options;_queryModel;constructor(e){this.options=e}set options(e){const{name:t,dataProviderId:s,limit:r,query:i}=e;this._options={name:t,dataProviderId:s,limit:r},this._queryModel=new S(i)}get options(){return this._options}get queryModel(){return this._queryModel}build(){const{dataProviderId:e,limit:t}=this._options,s=this._queryModel.prepared,r=D.ProjectDataProviderRepository.getById(e)??D.ProjectDataProviderRepository.getDefault();if(null==r)throw new u.CoreError(`Data provider with id "${e}" not found in "ProjectDataProviderRepository"`);const{url:i}=r.connector;return{query:s,url:i,limit:t}}}var x=s(58189);class T{_requestBuilder;offset=0;_isLoading=!1;constructor(e,{client:t}={}){this._requestBuilder=new M(e),this._client=t}get name(){return this._requestBuilder.options.name}get limit(){return this._requestBuilder.options.limit}set limit(e){this._requestBuilder.options.limit=e}get query(){return this._requestBuilder.queryModel}get isLoading(){return this._isLoading}set options(e){this._requestBuilder.options=e}async send({debug:e}={}){const t=this._requestBuilder.build(),{offset:s}=this;this._isLoading=!0;try{const r=await this._client.getData(t,{offset:s,debug:e});return this._processResult(r)}finally{this._isLoading=!1}}_processResult(e){if(null==e.rows)return e;const t=Object.entries(this.query.createResultQueryParamMap());for(let s=0;s<e.rows.length;s++){const r=e.rows[s],i=t.reduce((e,[t,s])=>(e[t]=r[s],e),{});e.rows[s]=Object.freeze(i)}return e}cancel(){this._client.cancelActiveRequests()}}const w=(e,{clientConfig:t}={})=>{const s=(0,x.Ue)(t);return new T(e,{client:s})}},80383:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{A:()=>n});var i=s(85592),a=e([i]);i=(a.then?(await a)():a)[0];const n=i.A;r()}catch(n){r(n)}})},80639:(e,t,s)=>{var r=s(83709);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("672165c8",r,!0,{sourceMap:!1,shadowMode:!1})},80696:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".panel-header[data-v-140c056e]{position:relative;height:2rem;padding:0}.panel-body[data-v-140c056e]{padding-top:0}",""]);const l=o},80969:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".grid[data-v-a6a9b23c]{display:grid;grid-template-columns:auto 1fr;gap:.75rem 1rem}",""]);const l=o},81161:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".panel[data-v-cbc6bf58]{position:fixed;z-index:inherit;width:20rem}.panel-dragger[data-v-cbc6bf58]{cursor:move;height:2rem}.panel.animate[data-v-cbc6bf58]{-webkit-transition:left .25s ease,top .25s ease;transition:left .25s ease,top .25s ease}.panel.focus[data-v-cbc6bf58]{z-index:900}.panel.width-auto[data-v-cbc6bf58]{width:auto}",""]);const l=o},81195:(e,t,s)=>{s.r(t),s.d(t,{Panel:()=>D,PanelEvent:()=>y,PropChangeContext:()=>h,PropChangeContextType:()=>p,default:()=>D});var r=s(20903),i=s(29565),a=s(35704),n=s(77500),o=s(48585),l=s(73663);const d=/\[(\d+)\]/g,c=(e,t,s=e)=>{const r=t=>{const[s]=[...e.matchAll(d)].reverse();return t[s[1]]};if(Array.isArray(t))return r(t)||s;if("object"===typeof t){const i=t[e.replace(d,"")];return Array.isArray(i)?r(i)||s:i||s}return t||s},u={provide(e=this){return{get panel(){return{get elementInstance(){return e.elementInstance},get props(){return e.props},setProp:e.setProp.bind(e),getProp:e.getProp.bind(e),getLabel:e.getLabel.bind(e),getHint:e.getHint.bind(e),handleError:e.handleError.bind(e),validatePropExist:e.validatePropExist.bind(e)}}}},methods:{setProp(e,t,s=!0){this.props=(0,a.A)(this.props,e,this.ensureType(e,t)),!0===s&&this.propChanged()},getProp(e){const t=(0,n.A)(this.props,e);return this.ensureType(e,t)},getLabel(e){const{props:t}=this.descriptor,[s]=e.replace(d,"").split("."),{label:r}=t[s];return c(e,r)},getHint(e){const{props:t}=this.descriptor,[s]=e.replace(d,"").split("."),{hint:r}=t[s];return c(e,r,null)},validatePropExist(e){const{props:t}=this.descriptor,[s]=e.replace(d,"").split(".");s in t===!1&&this.handleError(new l.CoreError(`"${s}" not found in widget "descriptor.props"`)),!1===(0,o.A)(this.props,e)&&this.handleError(new l.CoreError(`"${e}" not found in widget "descriptor.props"`))},ensureType(e,t){const s=new RegExp(d).test(e);if(!0===s)return t;const r=e.split(".");if(r.length>1)return t;if([void 0,null,""].includes(t))return t;const{type:i}=this.descriptor.props[e];return[Number,Boolean,String].includes(i)?i(t):t},handleError(e){e.message=`Panel[${this.elementInstance.type}]: ${e.message}`,this.elementInstance?.handleError(e,{scope:this.$meta?.name??this.name})}}},p={COMMON:"common",DATASET:"dataset"};class h{prop;type;details=null;constructor({prop:e,type:t=p.COMMON,details:s=null}={}){this.prop=e,this.type=t,this.details=s}}var m=s(93650),f=s(92274),g=s(7178);const y=Object.freeze({PROPS_CHANGE:"props-change"}),v={mixins:[u],components:{...m.PanelUi},props:{elementInstance:{type:Object},initProps:{type:Object,required:!0},descriptor:{type:Object,required:!0}},data(){return{$meta:{name:"",icon:""},props:{}}},computed:{propsDefault(){return(0,f.getDescriptorDefaultProps)(this.descriptor)},propsMerged(){const{propsDefault:e,initProps:t}=this;return(0,g.v6)(e,t)},envConstantsNames(){return Object.keys(i.ConstManager.instance.getConstantsHash())}},watch:{propsMerged:{handler(e){this.props=(0,r.A)(e)},deep:!0,immediate:!0}},beforeCreate(){this.StoreOperation=g.Fp,this.$storeMeta=(0,g.X4)(this)},methods:{propChanged(e,t){const{propsDefault:s,props:r}=this,i=(0,g.Gb)(s,r);null==t&&(t=new h({prop:e})),this.$emit(y.PROPS_CHANGE,i,t)}}},b=v;var E,_,S=s(81656),I=(0,S.A)(b,E,_,!1,null,null,null);const D=I.exports},81644:(e,t,s)=>{s.r(t),s.d(t,{QueryAggregateFunctionName:()=>m,QueryFilterOperator:()=>d,QueryFilterOperatorLabel:()=>c,QueryFilterOperatorValidator:()=>u,QueryFilterPlaceholder:()=>p,QueryFilterPlaceholderHandler:()=>h,QueryKey:()=>a,QueryKeyRuntime:()=>n,QuerySortDirection:()=>o,QuerySortDirectionLabel:()=>l});var r=s(14120);const i={DATE:"YYYY-MM-DD",TIME:"HH:mm:ss",TIMESTAMP:"YYYY-MM-DD HH:mm:ss"},a={FIELDS:"$fields",FROM:"$from",METRICS:"$metrics",DIMENSIONS:"$dimensions",FILTERS:"$filters",METRICS_CUSTOM:"$metricsCustom",VARIABLES:"$variables",SORT:"$sort",ORDER:"$order"},n={DRILLDOWNS:"$drilldowns"},o={ASC:"asc",DESC:"desc"},l={[o.ASC]:"Ð¿Ð¾ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð°Ð½Ð¸ÑŽ",[o.DESC]:"Ð¿Ð¾ ÑƒÐ±Ñ‹Ð²Ð°Ð½Ð¸ÑŽ"},d={EQ:"$eq",EQ_NOT:"$eqn",IS:"$is",IS_NOT:"$isn",LESS:"$lt",LESS_EQ:"$ltq",GREATER:"$gt",GREATER_EQ:"$gtq",IN:"$in",IN_NOT:"$inn",BETWEEN:"$btw",BETWEEN_NOT:"$btwn",LIKE:"$lk"},c={[d.EQ]:"=",[d.EQ_NOT]:"!=",[d.IS]:"is",[d.IS_NOT]:"is not",[d.LESS]:"<",[d.LESS_EQ]:"<=",[d.GREATER]:">",[d.GREATER_EQ]:">=",[d.IN]:"in",[d.IN_NOT]:"not in",[d.BETWEEN]:"between",[d.BETWEEN_NOT]:"not between",[d.LIKE]:"like"},u={[d.EQ]:e=>1==e.length,[d.EQ_NOT]:e=>1==e.length,[d.IS]:e=>1==e.length,[d.IS_NOT]:e=>1==e.length,[d.LESS]:e=>1==e.length,[d.LESS_EQ]:e=>1==e.length,[d.GREATER]:e=>1==e.length,[d.GREATER_EQ]:e=>1==e.length,[d.IN]:e=>e.length>0,[d.IN_NOT]:e=>e.length>0,[d.BETWEEN]:e=>2==e.length,[d.BETWEEN_NOT]:e=>2==e.length,[d.LIKE]:e=>e.length>0},p={YEAR_ROLLING:"#year-rolling#",YEAR_START:"#year-start#",YEAR_END:"#year-end#",YEAR_PREV_START:"#year-prev-start#",YEAR_PREV_END:"#year-prev-end#",QUARTER_START:"#quarter-start#",QUARTER_END:"#quarter-end#",QUARTER_PY_START:"#quarter-py-start#",QUARTER_PY_END:"#quarter-py-end#",QUARTER_PREV_START:"#quarter-prev-start#",QUARTER_PREV_END:"#quarter-prev-end#",MONTH_ROLLING:"#month-rolling#",MONTH_START:"#month-start#",MONTH_END:"#month-end#",MONTH_PY_START:"#month-py-start#",MONTH_PY_END:"#month-py-end#",MONTH_PREV_START:"#month-prev-start#",MONTH_PREV_END:"#month-prev-end#",WEEK_ROLLING:"#week-rolling#",WEEK_START:"#week-start#",WEEK_END:"#week-end#",WEEK_PY_START:"#week-py-start#",WEEK_PY_END:"#week-py-end#",WEEK_PREV_START:"#week-prev-start#",WEEK_PREV_END:"#week-prev-end#",TODAY:"#today#",YESTERDAY:"#yesterday#"},h={YEAR_ROLLING:()=>(0,r.dayjs)().add(-365,"d").format(i.DATE),YEAR_START:()=>(0,r.dayjs)().startOf("year").format(i.DATE),YEAR_END:()=>(0,r.dayjs)().endOf("year").format(i.DATE),YEAR_PREV_START:()=>(0,r.dayjs)().add(-1,"y").startOf("year").format(i.DATE),YEAR_PREV_END:()=>(0,r.dayjs)().add(-1,"y").endOf("year").format(i.DATE),QUARTER_START:()=>(0,r.dayjs)().startOf("Q").format(i.DATE),QUARTER_END:()=>(0,r.dayjs)().endOf("Q").format(i.DATE),QUARTER_PY_START:()=>(0,r.dayjs)().add(-1,"y").startOf("Q").format(i.DATE),QUARTER_PY_END:()=>(0,r.dayjs)().add(-1,"y").endOf("Q").format(i.DATE),QUARTER_PREV_START:()=>(0,r.dayjs)().add(-1,"Q").startOf("Q").format(i.DATE),QUARTER_PREV_END:()=>(0,r.dayjs)().add(-1,"Q").endOf("Q").format(i.DATE),MONTH_ROLLING:()=>(0,r.dayjs)().add(-30,"d").format(i.DATE),MONTH_START:()=>(0,r.dayjs)().startOf("month").format(i.DATE),MONTH_END:()=>(0,r.dayjs)().endOf("month").format(i.DATE),MONTH_PY_START:()=>(0,r.dayjs)().add(-1,"y").startOf("month").format(i.DATE),MONTH_PY_END:()=>(0,r.dayjs)().add(-1,"y").endOf("month").format(i.DATE),MONTH_PREV_START:()=>(0,r.dayjs)().add(-1,"M").startOf("month").format(i.DATE),MONTH_PREV_END:()=>(0,r.dayjs)().add(-1,"M").endOf("month").format(i.DATE),WEEK_ROLLING:()=>(0,r.dayjs)().add(-7,"d").format(i.DATE),WEEK_START:()=>(0,r.dayjs)().startOf("isoWeek").format(i.DATE),WEEK_END:()=>(0,r.dayjs)().endOf("isoWeek").format(i.DATE),WEEK_PY_START:()=>(0,r.dayjs)().add(-1,"y").startOf("isoWeek").format(i.DATE),WEEK_PY_END:()=>(0,r.dayjs)().add(-1,"y").endOf("isoWeek").format(i.DATE),WEEK_PREV_START:()=>(0,r.dayjs)().startOf("isoWeek").add(-1,"d").startOf("isoWeek").format(i.DATE),WEEK_PREV_END:()=>(0,r.dayjs)().startOf("isoWeek").add(-1,"d").endOf("isoWeek").format(i.DATE),TODAY:()=>(0,r.dayjs)().format(i.DATE),YESTERDAY:()=>(0,r.dayjs)().add(-1,"d").format(i.DATE)},m={VALUE:"value",AVG:"avg",COUNT:"count",MAX:"max",MIN:"min",SUM:"sum",GROUP_CONCAT:"group_concat",GROUP_UCONCAT:"group_uconcat"}},82368:(e,t,s)=>{var r=s(54149);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("3f2e62ab",r,!0,{sourceMap:!1,shadowMode:!1})},82433:(e,t,s)=>{s.d(t,{Dc:()=>f,Gd:()=>y,L$:()=>h,XT:()=>c,aZ:()=>v,w0:()=>u});var r=s(66401),i=s(429),a=s(57469),n=s.n(a),o=s(93437),l=s(14120),d=s(74989);n().extend(o.A);const c=()=>({isEnabled:!1,isSlotShown:!1,shouldFollowPointer:!1,shouldRespondToPointerEvents:!0,position:d.Zj.TOP,positionOffsets:[1,1],data:[],vars:{},style:{vPadding:"0.5rem",hPadding:"0.5rem",color:"",backgroundColor:"",borderWidth:"1px",borderColor:"",borderStyle:"solid",borderRadius:"0.25rem",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.4)"},title:{text:"",textAlign:d.xo.CENTER,color:"",fontSize:"1rem",fontFamily:"",fontWeight:"500"}}),u=(e=d.MU)=>({"tooltip_v-padding":`${e}.style.vPadding`,"tooltip_h-padding":`${e}.style.hPadding`,tooltip_color:[`${e}.style.color`,"var(--color-white)"],"tooltip_bg-color":[`${e}.style.backgroundColor`,"var(--color-body)"],"tooltip_border-width":`${e}.style.borderWidth`,"tooltip_border-color":[`${e}.style.borderColor`,"var(--color-border)"],"tooltip_border-style":`${e}.style.borderStyle`,"tooltip_border-radius":`${e}.style.borderRadius`,"tooltip_box-shadow":`${e}.style.boxShadow`,"tooltip-title_text-align":`${e}.title.textAlign`,"tooltip-title_color":[`${e}.title.color`,"var(--color-white)"],"tooltip-title_font-size":`${e}.title.fontSize`,"tooltip-title_font-family":[`${e}.title.fontFamily`,"var(--font-family)"],"tooltip-title_font-weight":`${e}.title.fontWeight`}),p=(e,t="")=>(0,r.A)(e)?t:e,h=({style:e,prefix:t,postfix:s})=>({"tooltip-item_font-size":e.fontSize,"tooltip-item_font-family":p(e.fontFamily,"var(--font-family)"),"tooltip-item_font-weight":e.fontWeight,"tooltip-item_text-align":e.textAlign,"tooltip-item_color":p(e.color,"var(--color-white)"),"tooltip-item-prefix_font-size":t.fontSize,"tooltip-item-prefix_font-family":p(t.fontFamily,"var(--font-family)"),"tooltip-item-prefix_font-weight":t.fontWeight,"tooltip-item-prefix_color":p(t.color,"var(--color-white)"),"tooltip-item-prefix_margin-right":t.offset,"tooltip-item-postfix_font-size":s.fontSize,"tooltip-item-postfix_font-family":p(s.fontFamily,"var(--font-family)"),"tooltip-item-postfix_font-weight":s.fontWeight,"tooltip-item-postfix_color":p(s.color,"var(--color-white)"),"tooltip-item-postfix_margin-left":s.offset}),m=()=>({color:"",fontSize:"1rem",fontFamily:"",fontWeight:"500"}),f=()=>({value:null,type:d.O2.STRING,valueFormat:"",outputFormat:"{n}: {v}",shouldShowSign:!1,style:{...m(),textAlign:"left"},prefix:{value:"",...m(),offset:"4px"},postfix:{value:"",...m(),offset:"4px"}}),g=(e,{type:t,format:s,shouldShowSign:r=!1})=>{if(null==e)return"-";if(t===d.O2.STRING)return e;if(t===d.O2.DATE){const t=n()(e);return t.isValid()?t.format(s):e}if((0,i.A)(e))return e;if(t===d.O2.NUMBER){const t=(0,l.formatNumber)(Number(e),s);return e>0&&r?`+${t}`:t}return e},y=(e,{value:t,type:s,valueFormat:r,shouldShowSign:i})=>{const a=g(e,{type:s,format:r,shouldShowSign:i});return{name:t,value:a}},v=(e,{outputFormat:t,prefix:s,postfix:r},{name:i,value:a},n)=>{const o=""!==s.value?e("span",{class:`${n}__prefix`},s.value):null,l=""!==r.value?e("span",{class:`${n}__postfix`},r.value):null,c=e=>`{${e}}`,u=RegExp(["({[",Object.values(d.X_).reduce((e,t)=>e.concat(t),""),"]})"].join(""),"gi");return t.split(u).reduce((t,s)=>s.toLowerCase()===c(d.X_.NAME)?[...t,e("span",i)]:s.toLowerCase()===c(d.X_.VALUE)?[...t,o,e("span",a),l]:[...t,e("span",s)],[]).filter(e=>null!=e)}},82680:(e,t,s)=>{var r=s(70423);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("de72d84e",r,!0,{sourceMap:!1,shadowMode:!1})},82903:(e,t,s)=>{s.d(t,{A:()=>r});const r={PORTAL_TARGET_NAME_POPUP:"popup",WFM_DATAPROVIDER_API_URL:"",DREMIO_API_URL:"",DREMIO_UI_URL:"",LOCALE:"ru",ERROR_MANAGER_WINDOW_ERROR_EVENT:"error-handled"}},83187:(e,t,s)=>{var r=s(96970);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("386e894b",r,!0,{sourceMap:!1,shadowMode:!1})},83709:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".badge[data-v-36677141]{white-space:nowrap;border:1px solid transparent;cursor:default}.badge--multiline[data-v-36677141]{white-space:pre-line;word-break:break-word}.badge--clickable[data-v-36677141]{cursor:pointer}.badge--draggable[data-v-36677141]{cursor:move}.badge--metric[data-v-36677141]{background:var(--color-primary-focus)}.badge--dimension[data-v-36677141]{background:var(--color-orange-focus)}.badge--drilldown[data-v-36677141],.badge--field[data-v-36677141]{background:var(--color-white);border:1px solid var(--color-border)}.badge--variable[data-v-36677141]{background:var(--color-green-focus);border:1px solid var(--color-border)}",""]);const l=o},83903:(e,t,s)=>{var r=s(49808);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("181ed6d1",r,!0,{sourceMap:!1,shadowMode:!1})},84286:(e,t,s)=>{s.r(t),s.d(t,{PanelUi:()=>i,UiButton:()=>g,UiCheckbox:()=>D,UiCollapse:()=>R,UiComplexBorder:()=>Js,UiComplexBorderRadius:()=>ar,UiComplexFont:()=>ys,UiComplexShadow:()=>Is,UiContainer:()=>Nt,UiCustomizableColor:()=>Us,UiDraggableAccordion:()=>Hs,UiHasPanel:()=>qe,UiHasTwoColumns:()=>We,UiHint:()=>Bt,UiInput:()=>$,UiInputAuto:()=>V,UiInputBrowse:()=>K,UiInputCp:()=>ie,UiInputDp:()=>ce,UiInputTags:()=>Se,UiInputTp:()=>ge,UiInputUnits:()=>we,UiInputUrl:()=>V,UiLabel:()=>w["default"],UiNumberFormat:()=>ft,UiPagination:()=>ur,UiPanel:()=>ut,UiPanelContainer:()=>c,UiRadioButtons:()=>us,UiSelect:()=>Xe,UiSwitch:()=>at,UiTextarea:()=>_t,UiTooltip:()=>as,UiWysiwyg:()=>wt,WPanel:()=>c});var r={};s.r(r),s.d(r,{BorderStyleOptions:()=>Zt.BorderStyleOptions,BorderWidthUnits:()=>Zt.BorderWidthUnits,FontWeightOptions:()=>Zt.FontWeightOptions,PrfPsfGroups:()=>ts,SizeUnits:()=>Zt.SizeUnits,TextAlignOptions:()=>Xt,TooltipDataItemValueTypeOptions:()=>Jt,TooltipPanelGroups:()=>es,TooltipPositionOptions:()=>Kt});var i={};s.r(i),s.d(i,{UiButton:()=>g,UiCheckbox:()=>D,UiCollapse:()=>R,UiComplexBorder:()=>Js,UiComplexBorderRadius:()=>ar,UiComplexFont:()=>ys,UiComplexShadow:()=>Is,UiContainer:()=>Nt,UiCustomizableColor:()=>Us,UiDraggableAccordion:()=>Hs,UiHasPanel:()=>qe,UiHasTwoColumns:()=>We,UiHint:()=>Bt,UiInput:()=>$,UiInputAuto:()=>V,UiInputBrowse:()=>K,UiInputCp:()=>ie,UiInputDp:()=>ce,UiInputTags:()=>Se,UiInputTp:()=>ge,UiInputUnits:()=>we,UiInputUrl:()=>V,UiLabel:()=>w["default"],UiNumberFormat:()=>ft,UiPagination:()=>ur,UiPanel:()=>ut,UiPanelContainer:()=>c,UiRadioButtons:()=>us,UiSelect:()=>Xe,UiSwitch:()=>at,UiTextarea:()=>_t,UiTooltip:()=>as,UiWysiwyg:()=>wt,WPanel:()=>c});var a=function(e,t){return e("div",[t._t("default")],2)},n=[],o=s(81656),l={},d=(0,o.A)(l,a,n,!0,null,null,null);const c=d.exports;var u=function(){var e=this,t=e._self._c;return t("button",e._g(e._b({staticClass:"btn btn-small",class:e.cssClass},"button",e.$attrs,!1),e.$listeners),[e._t("default")],2)},p=[];const h={props:{type:{type:String,default:"primary",enum:["primary","secondary","ghost","error","success","warn","misc"]},inline:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},outline:{type:Boolean,default:!1}},computed:{cssClass(){const{type:e,inline:t,icon:s,outline:r}=this,i=[];return""!==e&&i.push(`btn-${e}`),!1===t&&i.push("d-flex"),s&&i.push("btn-icon"),r&&i.push("btn-outline"),i}}},m=h;var f=(0,o.A)(m,u,p,!1,null,null,null);const g=f.exports;var y=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({style:{"flex-direction":"row-reverse"},scopedSlots:e._u([{key:"label",fn:function({Label:s,getLabel:r}){return[t("label",{staticClass:"text-truncate u-select-none",attrs:{for:e.id}},[e._t("default",function(){return[t(s,{tag:"component"})]},null,{getLabel:r})],2)]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"helper",fn:function(){return[e._t("helper")]},proxy:!0},{key:"control",fn:function(){return[t("input",e._g(e._b({staticClass:"checkbox checkbox-small pull-left",class:e.controlCl,attrs:{id:e.id,type:"checkbox"}},"input",e.attrsCb,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:"auto",labelSize:"small"},!1))],1)},v=[],b=s(97945);let E=0;const _={mixins:[b.bo],props:{value:{type:Boolean,default:!1}},computed:{id(){return"ui-checkbox-"+E++},attrsCb(){const{value:e,...t}=this.attrs;return{...t,checked:e}}},methods:{valueExtract:e=>e.target.checked}},S=_;var I=(0,o.A)(S,y,v,!1,null,null,null);const D=I.exports;var M=function(){var e=this,t=e._self._c;return t("ui-collapse",{staticClass:"collapse pos-rel radius",attrs:{visible:e.open},scopedSlots:e._u([{key:"heading",fn:function({isOpen:s,toggle:r}){return[t("div",{staticClass:"collapse-header radius pad-v-2 pad-h-l1 cursor-pointer bg-white u-select-none",class:{open:s},on:{click:function(t){return e.onClick({toggle:r,isOpen:s})}}},[e._t("heading",function(){return[t("div",{staticClass:"row row-collapse"},[t("div",{staticClass:"col col-vmid text-small text-truncate"},[e._t("header",function(){return[t("ui-label",{attrs:{prop:e.prop},scopedSlots:e._u([{key:"default",fn:function({getLabel:t}){return[e._t("label",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}}],null,!0)})]},null,{isOpen:s,toggle:r})],2),t("div",{staticClass:"col col-auto col-vmid"},[t("div",{staticClass:"icon w-auto pull-left"},[t("i",{staticClass:"mdi mdi-chevron-right",class:{"mdi-rotate-90":s}})])])])]},null,{toggle:r,isOpen:s})],2)]}},{key:"default",fn:function(){return[t("div",{staticClass:"pad-l1"},[e._t("default")],2)]},proxy:!0}],null,!0)})},x=[],T=s(2770),w=s(73086);const C={components:{UiCollapse:T.Collapse,UiLabel:w["default"]},props:{open:{type:Boolean,default:!1},prop:{type:String,default:""}},methods:{onClick({toggle:e,isOpen:t}){e(),this.$emit("toggle",!t),this.$emit("update:open",!t)}}},A=C;s(51970);var O=(0,o.A)(A,M,x,!1,null,"2d9d3953",null);const R=O.exports;var N=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("input",e._g(e._b({staticClass:"input input-small w-12-12",class:e.controlCl},"input",e.attrs,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},k=[];const P={mixins:[b.bo],props:{value:{type:[Number,String]}},methods:{valueExtract:e=>e.target.value}},U=P;var L=(0,o.A)(U,N,k,!1,null,null,null);const $=L.exports;var j=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("input-autocomplete",e._g(e._b({staticClass:"w-12-12",class:e.controlCl,attrs:{size:"small"}},"input-autocomplete",e.inputOptions,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},q=[];const F={components:{InputAutocomplete:T.InputAutocomplete},mixins:[b.bo],props:{options:{type:Array,default(){return[]}}},computed:{inputOptions(){const{options:e,...t}=this.attrs;return{...t,options:[...this.options,...(0,b.QP)()]}}}},B=F;var H=(0,o.A)(B,j,q,!1,null,null,null);const V=H.exports;var z=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("div",{staticClass:"form-control form-control-icon-right w-12-12"},[t("input-autocomplete",e._g(e._b({staticClass:"w-12-12",class:e.controlCl,attrs:{size:"small"}},"input-autocomplete",e.inputOptions,!1),e.listeners)),t("div",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-folder cursor-pointer color-grey",on:{click:e.browse}})])],1)]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},W=[],Q=s(29565);const G={components:{InputAutocomplete:T.InputAutocomplete},mixins:[b.bo],props:{options:{type:Array,default(){return[]}}},computed:{inputOptions(){const{options:e=[],...t}=this.attrs;return{...t,options:[...this.options,...(0,b.QP)()]}}},methods:{browse(){Q.FileManager.instance.browse({selectEnabled:!0,selectMultiple:!1}).then(([e])=>{if(null!=e){const{url:t}=e;this.onInput(t),this.onChange(t)}})}}},Y=G;s(4845);var Z=(0,o.A)(Y,z,W,!1,null,"1e30684a",null);const K=Z.exports;var X=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"helper",fn:function(){return[t("i",{staticClass:"color-mode-icon mdi mdi-palette",class:[e.mode===e.Mode.COLOR?"color-primary":"color-grey cursor-pointer"],attrs:{title:"Ð¦Ð²ÐµÑ‚Ð°"},on:{click:function(t){e.mode=e.Mode.COLOR}}}),t("i",{staticClass:"color-mode-icon mdi mdi-variable",class:[e.mode===e.Mode.CONSTANT?"color-primary":"color-grey cursor-pointer"],attrs:{title:"ÐšÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ñ‹"},on:{click:function(t){e.mode=e.Mode.CONSTANT}}}),t("i",{staticClass:"color-mode-icon mdi mdi-gesture-tap",class:[e.mode===e.Mode.MANUAL?"color-primary":"color-grey cursor-pointer"],attrs:{title:"Ð’Ñ€ÑƒÑ‡Ð½ÑƒÑŽ"},on:{click:function(t){e.mode=e.Mode.MANUAL}}})]},proxy:!0},{key:"control",fn:function(){return[e.mode===e.Mode.MANUAL?t("input-color-picker",e._g(e._b({staticClass:"w-100",class:e.controlCl,attrs:{size:"small"}},"input-color-picker",e.attrs,!1),e.listeners)):t("ui-select",e._g(e._b({staticClass:"w-100",class:e.controlCl,attrs:{size:"small"},scopedSlots:e._u([{key:"option:before",fn:function({index:s,option:r}){return e._l(r.path.slice(0,-1),function(r,i){return 0===s||r!==e.selectBinds.options[s-1].path[i]?t("div",{key:`${s}-${i}`,staticClass:"color-constant-label color-constant-label-before",style:{paddingLeft:`calc(${i+1} * 0.75rem)`,paddingTop:0===i?"var(--spacer4)":"var(--spacer2)"},attrs:{title:r}},[t("span",{staticClass:"color-constant-label"},[e._v(e._s(r))])]):e._e()})}},{key:"option-label",fn:function({label:s,option:r}){return[t("div",{staticClass:"d-flex flex-v-center flex-h-space-between",style:{paddingLeft:`calc(${r.path.length-1} * 1rem)`}},[t("span",{staticClass:"color-constant-label",attrs:{title:r.path.join(" â€“ ")}},[e._v(e._s(s))]),t("div",{staticClass:"color-preview",style:{background:r.color},attrs:{title:r.color}})])]}},{key:"label",fn:function({label:s,index:r,option:i}){return[-1!==r?t("div",{staticClass:"d-flex flex-v-center flex-h-space-between"},[t("div",{staticClass:"color-constant-label",attrs:{title:i.path.join(" â€“ ")}},[e._v(" "+e._s(s)+" ")]),t("div",{staticClass:"color-preview",style:{background:i.color},attrs:{title:i.color}})]):e._e()]}}])},"ui-select",e.selectBinds,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},J=[];const ee={MANUAL:"manual",COLOR:"color",CONSTANT:"constant"},te={components:{InputColorPicker:T.InputColorPicker,UiSelect:T.Select},mixins:[b.bo],static(){return{Mode:ee,ConstOptions:Object.entries(Q.ConstManager.instance.getConstantsHash()).filter(([e,t])=>(0,b.o1)(t)).map(([e,t])=>({label:e.slice(1,-1),value:e,color:t,path:[e.slice(1,-1)]})),ColorOptions:Object.entries(Q.ColorManager.instance.getHash()).map(([,{id:e,name:t,value:s,path:r}])=>({label:t,value:e,color:s,path:r}))}},data(){return{mode:ee.MANUAL}},computed:{selectBinds(){let e=[],t="";return this.mode===ee.CONSTANT&&(e=this.ConstOptions,t="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ñƒ"),this.mode===ee.COLOR&&(e=this.ColorOptions,t="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ†Ð²ÐµÑ‚"),{...this.attrs,options:e,placeholder:t}}},watch:{value:{handler(e){Q.ColorManager.isConstant(e)?this.mode=ee.COLOR:Q.ConstManager.isConstant(e)?this.mode=ee.CONSTANT:this.mode=ee.MANUAL},immediate:!0}},methods:{isValidColor:b.o1,toggleMode(){const e=Object.values(ee),t=(e.indexOf(this.mode)+1)%3;this.mode=e[t]}}},se=te;s(1361);var re=(0,o.A)(se,X,J,!1,null,"9c3b2cea",null);const ie=re.exports;var ae=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("input-date-picker",e._g(e._b({staticClass:"w-12-12",class:e.controlCl,attrs:{size:"small"}},"input-date-picker",e.attrs,!1),e.listenersDp))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},ne=[];const oe={components:{InputDatePicker:T.InputDatePicker},mixins:[b.bo],computed:{listenersDp(){const{clear:e,...t}=this.listeners;return{...t,clear:this.onClear}}},methods:{onClear(e){this.$emit("change","")}}},le=oe;var de=(0,o.A)(le,ae,ne,!1,null,null,null);const ce=de.exports;var ue=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("input-time-picker",e._g(e._b({staticClass:"w-12-12",class:e.controlCl,attrs:{size:"small"}},"input-time-picker",e.attrs,!1),e.listenersTp))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},pe=[];const he={components:{InputTimePicker:T.InputTimePicker},mixins:[b.bo],computed:{listenersTp(){const{clear:e,...t}=this.listeners;return{...t,clear:this.onClear}}},methods:{onClear(e){this.$emit("change","")}}},me=he;var fe=(0,o.A)(me,ue,pe,!1,null,null,null);const ge=fe.exports;var ye=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("ui-input-tags",e._g(e._b({ref:"tags",staticClass:"w-12-12",class:e.controlCl,attrs:{size:"small"},scopedSlots:e._u([{key:"tag",fn:function({tag:t,remove:s}){return[e._t("tag",null,null,{tag:t,remove:s,setNewTag:e.setNewTag})]}}],null,!0)},"ui-input-tags",e.attrs,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},ve=[];const be={components:{UiInputTags:T.InputTags},mixins:[b.bo],props:{value:{type:Array,default(){return[]}}},methods:{setNewTag(e){const t=this.$refs.tags;t&&t.setNewTag(e)}}},Ee=be;var _e=(0,o.A)(Ee,ye,ve,!1,null,null,null);const Se=_e.exports;var Ie=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"helper",fn:function(){return[e.optionsWithConstants.length?t("i",{staticClass:"mdi mdi-variable cursor-pointer pull-right",class:[e.isCustomValueMode?"":"color-grey"],staticStyle:{"line-height":"1"},on:{click:e.toggleCustomValueMode}}):e._e()]},proxy:!0},{key:"control",fn:function(){return[e.optionsWithConstants.length&&e.isCustomValueMode?t("ui-select",e._b({staticClass:"w-100",class:e.controlCl,attrs:{size:"small"},on:{change:e.onOptionChange}},"ui-select",{value:e.attrs.value,options:e.optionsWithConstants},!1)):!1===e.isCustomValueMode?t("ui-input-units",e._b({ref:"input",staticClass:"w-12-12",class:e.controlCl,on:{change:e.onInputUnitChange}},"ui-input-units",{value:e.attrs.value,units:e.units,size:"small"},!1)):e._e()]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},De=[];const Me={components:{UiInputUnits:T.InputUnits,UiSelect:T.Select},mixins:[b.bo],props:{value:{type:String,default:""},options:{type:Array,default(){return[]}},units:{type:Array,default(){return[]}}},data(){return{isCustomValueMode:!1}},computed:{optionsWithConstants(){return[...this.options,...(0,b.QP)().map(e=>({label:e,value:e}))]}},watch:{"attrs.value":{handler(e){this.isCustomValueMode=this.optionsWithConstants.some(({value:t})=>t===e)},immediate:!0}},methods:{toggleCustomValueMode(){this.isCustomValueMode=!this.isCustomValueMode},emitChange(e,t){this.$emit("change",e,t)},onOptionChange(e){const t={value:e,unit:""};this.onInput(e),this.emitChange(e,t)},onInputUnitChange(e){if(null==e)return;const{model:t}=this.$refs.input;e=""===e?[t.value,t.unit].join(""):e,this.onInput(e),this.emitChange(e,t)}}},xe=Me;var Te=(0,o.A)(xe,Ie,De,!1,null,null,null);const we=Te.exports;var Ce=function(){var e=this,t=e._self._c;return t("div",[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"",slot:"default"}]}},[t("ui-select",{staticClass:"p",attrs:{options:e.Types},on:{change:e.saveModel},model:{value:e.format.type,callback:function(t){e.$set(e.format,"type",t)},expression:"format.type"}},[e._v("Ð¢Ð¸Ð¿")]),t("ui-has-two-columns",{staticClass:"p",scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input",{staticClass:"p",attrs:{type:"number",min:"0",max:e.DIGITS_MAX},on:{change:e.saveModel},model:{value:e.format.pattern.digits,callback:function(t){e.$set(e.format.pattern,"digits",e._n(t))},expression:"format.pattern.digits"}},[e._v(" Ð¢Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{staticClass:"p",on:{change:e.saveModel},model:{value:e.format.pattern.unit,callback:function(t){e.$set(e.format.pattern,"unit",t)},expression:"format.pattern.unit"}},[e._v("ÐŸÐ¾ÑÑ‚Ñ„Ð¸ÐºÑ")])]},proxy:!0}])}),e._l(e.Modifiers,function({label:s,value:r}){return t("ui-switch",{key:r,staticClass:"p",attrs:{value:e.hasModifier(r)},on:{change:function(t){return e.toggleModifier(r)}}},[e._v(" "+e._s(s)+" ")])}),t("ui-input",{staticClass:"p",attrs:{type:"text",pattern:"[0-9.]*"},model:{value:e.number,callback:function(t){e.number=e._n(t)},expression:"number"}},[e._v("Ð”ÐµÐ¼Ð¾")]),t("pre",{staticClass:"text-xsmall"},[e._v(e._s(e.numberFormatted))])],2)]},proxy:!0}])},[t("ui-label",{attrs:{prop:e.prop,"label-size":"small"},scopedSlots:e._u([{key:"default",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}}],null,!0)})],1)],1)},Ae=[],Oe=s(69524),Re=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row row-hgap-3"},[t("div",{staticClass:"col col-vmid"},[e._t("default",null,null,{toggle:e.togglePanel})],2),e.icon?t("div",{staticClass:"col col-auto col-vmid"},[t("i",{staticClass:"mdi cursor-pointer",class:[e.showPanel?"":"color-grey",`mdi-${e.icon}`],on:{click:e.togglePanel}})]):e._e()]),t("ui-portal",[e.showPanel?t("div",{ref:"panel",staticClass:"panel",class:e.panelClass,style:e.panelStyle,attrs:{tabindex:"0"},on:{mousedown:e.onPanelMouseDown}},[t("div",{staticClass:"pos-rel"},[t("div",{staticClass:"panel-dragger d-flex flex-center",on:{mousedown:e.onPanelDraggerMouseDown}}),t("div",{staticClass:"close pos-abs pos-top-right mar-2",on:{click:e.togglePanel}},[t("i",{staticClass:"mdi mdi-close color-grey"})])]),t("div",{ref:"panelbody",staticClass:"panel-body pad-top-none"},[e._t("panel")],2)]):e._e()])],1)},Ne=[],ke=s(62041);const Pe=e=>({x:e.pageX,y:e.pageY});let Ue=1;const Le={components:{UiPortal:ke.Portal},props:{panelOffset:{type:Object,default(){return{x:10,top:0}}},autoWidth:{type:Boolean,default:!1},icon:{type:String,default:"pencil"}},data(){return{panelId:"panel"+Ue++,showPanel:!1,animatePanel:!1,panelPos:{x:0,y:0},panelDragOffset:{x:0,y:0},panelDragging:!1,panelHasFocus:!1}},computed:{panelClass(){const{animatePanel:e,panelHasFocus:t,autoWidth:s}=this;return{animate:e,focus:t,"width-auto":s}},panelStyle(){const{x:e,y:t}=this.panelPos;return{left:(0|e)+"px",top:(0|t)+"px"}}},created(){this.observer=null},destroyed(){this.destroyObserver(),this.removeMouseListeners(),this.removeWinListeners(),this.removeFocusListeners()},methods:{addFocusListeners(){document.addEventListener("focus",this.onDocFocusin),document.addEventListener("focusin",this.onDocFocusin)},removeFocusListeners(){document.removeEventListener("focus",this.onDocFocusin),document.removeEventListener("focusin",this.onDocFocusin)},addMouseListeners(){document.addEventListener("mousemove",this.onDocMouseMove),document.addEventListener("mouseup",this.onDocMouseUp)},removeMouseListeners(){document.removeEventListener("mousemove",this.onDocMouseMove),document.removeEventListener("mouseup",this.onDocMouseUp)},addWinListeners(){window.addEventListener("resize",this.onWinResize,{passive:!0})},removeWinListeners(){window.removeEventListener("resize",this.onWinResize)},createObserver(){if(this.observer)return;const e={attributes:!0,childList:!0,subtree:!0};this.observer=new MutationObserver(()=>this.$nextTick(this.fixPanelPos)),this.observer.observe(this.$refs.panelbody,e)},destroyObserver(){this.observer&&(this.observer.disconnect(),this.observer=null)},togglePanel(){this.showPanel=!this.showPanel,this.destroyObserver(),this.removeWinListeners(),this.showPanel?(this.animatePanel=!1,this.$nextTick(()=>{this.$nextTick(()=>{this.placePanelInitPos(),this.createObserver(),this.addFocusListeners(),this.panelHasFocus=!0})}),this.addWinListeners()):this.removeFocusListeners()},placePanelInitPos(){const e=this.$el.getBoundingClientRect(),t=this.$refs.panel.getBoundingClientRect();this.panelPos.x=e.x-t.width-this.panelOffset.x,this.panelPos.y=e.y+e.height/2-t.height/2,setTimeout(()=>{this.animatePanel=!0,this.fixPanelPos()})},fixPanelPos(){const e=this.$refs.panel.getBoundingClientRect(),{innerWidth:t,innerHeight:s}=window;e.x<0?this.panelPos.x=0:e.right>t&&(this.panelPos.x=t-e.width),e.y<0?this.panelPos.y=0:e.bottom>s&&(this.panelPos.y=s-e.height)},onPanelMouseDown(e){this.$refs.panel.focus()},onPanelDraggerMouseDown(e){const t=Pe(e),s=e.currentTarget.getBoundingClientRect();this.animatePanel=!1,this.panelDragOffset={x:s.x-t.x,y:s.y-t.y},this.panelDragging=!0,this.addMouseListeners()},onDocMouseMove(e){const t=Pe(e);this.panelPos={x:t.x+this.panelDragOffset.x,y:t.y+this.panelDragOffset.y}},onDocMouseUp(e){this.removeMouseListeners(),this.animatePanel=!0,this.panelDragging=!1,setTimeout(this.fixPanelPos)},onDocFocusin(e){this.panelHasFocus=this.$refs.panel.contains(e.target)},onWinResize(e){this.fixPanelPos()}}},$e=Le;s(23250);var je=(0,o.A)($e,Re,Ne,!1,null,"cbc6bf58",null);const qe=je.exports;var Fe=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row row-hgap-l1"},[t("div",{staticClass:"col col-vbot",class:`col-${e.left}-12`},[e._t("left")],2),t("div",{staticClass:"col col-vbot",class:`col-${e.right}-12`},[e._t("right")],2)])])},Be=[];const He={props:{left:{type:Number,default:6},right:{type:Number,default:6}}},Ve=He;var ze=(0,o.A)(Ve,Fe,Be,!1,null,null,null);const We=ze.exports;var Qe=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("ui-select",e._g(e._b({staticClass:"w-12-12",class:e.controlCl,attrs:{type:"text",size:"small"},scopedSlots:e._u([{key:"label",fn:function(t){return[e._t("select:label",null,null,t)]}},{key:"option-label",fn:function(t){return[e._t("select:option-label",null,null,t)]}}],null,!0)},"ui-select",e.selectAttrs,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},Ge=[];const Ye={components:{UiSelect:T.Select},mixins:[b.bo],props:{value:{type:[Number,String,Array,Object,Boolean],default:null},options:{type:Array,default(){return[]}},multiple:{type:Boolean,default:!1}},computed:{selectAttrs(){const{options:e,multiple:t,...s}=this.attrs,r=this.options.map(e=>e===Object(e)&&!1===Array.isArray(e)?e:{label:String(e??""),value:e});return{...s,options:r,multiple:this.multiple}}}},Ze=Ye;var Ke=(0,o.A)(Ze,Qe,Ge,!1,null,null,null);const Xe=Ke.exports;var Je=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({Label:s,getLabel:r}){return[t("label",{staticClass:"text-truncate u-select-none",attrs:{for:e.id}},[e._t("default",function(){return[t(s,{tag:"component"})]},null,{getLabel:r})],2)]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("input",e._g(e._b({staticClass:"switch switch-small pull-left",class:e.controlCl,attrs:{id:e.id,type:"checkbox"}},"input",e.attrsCb,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:"auto",labelSize:"small"},!1))],1)},et=[];let tt=0;const st={mixins:[b.bo],props:{value:{type:Boolean,default:!1},valuePath:{type:String,default:null}},computed:{id(){return"ui-switch-"+tt++},attrsCb(){const{value:e,...t}=this.attrs;return{...t,checked:e}}},methods:{valueExtract:e=>e.target.checked}},rt=st;var it=(0,o.A)(rt,Je,et,!1,null,null,null);const at=it.exports;var nt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"p d-flex pad-1"},[e.groups.length>1?e._l(e.groups,function(s,r){return t("div",{key:r,staticClass:"btn btn-small flex-grow",class:[r===e.activeIndex?"btn-primary":"btn-ghost"],style:{width:1/e.groups.length*100+"%"},on:{click:function(t){e.activeIndex=r}}},[t("div",{staticClass:"text-truncate"},[e._v(" "+e._s(s.name)+" ")])])}):[e._t("header",function(){return[e._v(" "+e._s(e.groups[0].name)+" ")]})]],2),t("div",{key:e.activeIndex,staticClass:"content pad-1"},[e._t(e.activeSlot)],2)])},ot=[];const lt={props:{groups:{type:Array,default(){return[]}}},data(){return{activeIndex:0}},computed:{activeSlot(){return this.groups[this.activeIndex].slot}}},dt=lt;s(6556);var ct=(0,o.A)(dt,nt,ot,!1,null,"64a355b6",null);const ut=ct.exports,pt={components:{UiInput:$,UiHasPanel:qe,UiHasTwoColumns:We,UiSelect:Xe,UiSwitch:at,UiPanel:ut,UiLabel:w["default"]},mixins:[b.bo],static(){const{Type:e}=Oe.NumberFormat,{Modifier:t,DIGITS_MAX:s}=Oe.NumberFormatPattern;return{Modifier:t,Types:[{value:e.DECIMAL,label:"Ð§Ð¸ÑÐ»Ð¾"},{value:e.CURRENCY,label:"Ð’Ð°Ð»ÑŽÑ‚Ð°"}],Modifiers:[{value:t.FIXED,label:"Ð¡ÐºÑ€Ñ‹Ð²Ð°Ñ‚ÑŒ Ð½ÑƒÐ»Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑÑ‚Ð¾Ð¹"},{value:t.PERCENT,label:"Ð ÐµÐ¶Ð¸Ð¼ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ñ‹"},{value:t.COMPACT,label:"ÐšÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼"}],DIGITS_MAX:s}},props:{value:{type:String,default:""},formatDefault:{type:String,default:""},numberDefault:{type:Number,default:12345.6789}},data:e=>({format:null,number:e.numberDefault}),computed:{numberFormatted(){return(0,Oe.formatNumber)(this.number,this.format)},numberFormatDefault(){try{return Oe.NumberFormat.fromString(this.formatDefault).toString()}catch{return(new Oe.NumberFormat).toString()}}},watch:{valueResolved:{handler(e){try{this.format=Oe.NumberFormat.fromString(e)}catch(t){this.format=Oe.NumberFormat.fromString(this.numberFormatDefault)}},immediate:!0}},methods:{saveModel(){let e=this.format.toString();e===this.numberFormatDefault&&(e=""),this.$emit("input",e),this.$emit("change",e)},hasModifier(e){const{Modifier:t}=Oe.NumberFormatPattern,s=this.format.pattern.modifiers.includes(e);return e===t.FIXED?!s:s},toggleModifier(e){const{modifiers:t}=this.format.pattern,s=t.indexOf(e);s>=0?t.splice(s,1):t.push(e),this.saveModel()}},setPropsDefault(e={}){const{props:t}=this;Object.entries(e).forEach(([e,s])=>{t[e].default=s})}},ht=pt;var mt=(0,o.A)(ht,Ce,Ae,!1,null,null,null);const ft=mt.exports;var gt=function(){var e=this,t=e._self._c;return t("div",[t("control-layout",e._b({scopedSlots:e._u([{key:"label",fn:function({getLabel:t}){return[e._t("default",null,null,{getLabel:t})]}},{key:"hint",fn:function({getHint:t}){return[e._t("hint",null,null,{getHint:t})]}},{key:"control",fn:function(){return[t("textarea",e._g(e._b({staticClass:"textarea textarea-small w-12-12",class:{...e.controlCl,resizable:e.resizeBoth}},"textarea",e.attrs,!1),e.listeners))]},proxy:!0}],null,!0)},"control-layout",{prop:e.prop,colSize:e.colSize},!1))],1)},yt=[];const vt={mixins:[b.bo],props:{resizeBoth:{type:Boolean,default:!1}},methods:{valueExtract:e=>e.target.value}},bt=vt;s(34814);var Et=(0,o.A)(bt,gt,yt,!1,null,"14cfa7f8",null);const _t=Et.exports;var St=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row row-collapse"},[t("div",{staticClass:"col col-vmid"},[t("div",{staticClass:"form-label form-label-small text-truncate"},[e._t("default")],2)]),t("div",{staticClass:"col col-auto col-vmid"},[t("div",{staticClass:"icon cursor-pointer color-grey",on:{click:function(t){e.isPopupOpen=!0}}},[t("i",{staticClass:"mdi mdi-pencil"})])])]),t("ui-popup",{attrs:{visible:e.isPopupOpen,fullscreen:""},on:{"update:visible":function(t){e.isPopupOpen=t}},scopedSlots:e._u([{key:"close",fn:function({close:s}){return[t("div",{staticClass:"d-flex flex-h-end pad-l2 pad-bot-none"},[t("button",{staticClass:"btn btn-ghost shadow mar-right-l1",on:{click:function(t){return e.onCancel(s)}}},[e._v("ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ")]),t("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.onSave(s)}}},[e._v("Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ")])])]}},{key:"body",fn:function(){return[t("div",{staticClass:"d-flex flex-col h-100"},[t("ul",{staticClass:"tabs mar-bot-l1"},[t("li",{class:{active:e.activeTab===e.Tab.WYSIWYG}},[t("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.activeTab=e.Tab.WYSIWYG}}},[e._v("Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€")])]),t("li",{class:{active:e.activeTab===e.Tab.RAW_HTML}},[t("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.activeTab=e.Tab.RAW_HTML}}},[e._v("HTML")])])]),t("keep-alive",[e.activeTab===e.Tab.WYSIWYG?t("ui-wysiwyg-editor",e._g(e._b({staticClass:"w-100 flex-grow",class:e.controlCl,scopedSlots:e._u([{key:"toolbar",fn:function({toolGroups:t,buildToolBinds:s}){return[e._t("toolbar",null,null,{toolGroups:t,buildToolBinds:s})]}},{key:"group-header",fn:function({groupIndex:t,title:s}){return[e._t("group-header",null,null,{groupIndex:t,title:s})]}},{key:"tool",fn:function(t){return[e._t("tool",null,null,t)]}}],null,!0)},"ui-wysiwyg-editor",e.editorOptions,!1),e.listeners)):t("textarea",e._b({ref:"textarea",staticClass:"textarea textarea-small h-100 w-100",on:{change:e.onTextareaChange}},"textarea",e.attrs,!1))],1)],1)]},proxy:!0}])})],1)},It=[];const Dt={WYSIWYG:"wysiwyg",RAW_HTML:"raw html"},Mt={components:{UiPopup:ke.Popup,UiWysiwygEditor:T.WysiwygEditor},mixins:[b.bo],props:{tools:{type:Array,default:()=>[]}},data:()=>({isPopupOpen:!1,valueOriginal:null,activeTab:Dt.WYSIWYG}),static:{Tab:Dt},computed:{editorOptions(){return{...this.attrs,getImageUrl:this.getImageUrl,editorContent:{class:["h-100","pad-3","scroll-y"]}}}},watch:{isPopupOpen(e){e&&(this.valueOriginal=this.value)},activeTab(e){e===Dt.RAW_HTML&&this.$nextTick(()=>{this.$refs.textarea.focus()})}},methods:{async getImageUrl(){const[e]=await Q.FileManager.instance.browse({selectEnabled:!0,selectMultiple:!1});return e?.url??null},onTextareaChange(e){const{value:t}=e.target;this.onInput(t),this.onChange(t)},onCancel(e){const{valueOriginal:t}=this;this.onInput(t),this.onChange(t),e()},onSave(e){const{value:t}=this;this.onInput(t),this.onChange(t),e()}}},xt=Mt;var Tt=(0,o.A)(xt,St,It,!1,null,null,null);const wt=Tt.exports;var Ct=function(e,t){return e("div",{staticClass:"elem-container"},[t._t("default")],2)},At=[],Ot=(s(36613),{}),Rt=(0,o.A)(Ot,Ct,At,!0,null,"bbf0ff68",null);const Nt=Rt.exports;var kt=function(e,t){return e("div",[e("div",{staticClass:"row row-hgap-l1"},[t.scopedSlots.label&&null!=t.scopedSlots.label()?e("div",{staticClass:"col col-vmid text-truncate"},[t._t("label")],2):t._e(),e("div",{staticClass:"col col-vmid col-auto"},[e(t.injections.tooltip,{tag:"component",scopedSlots:t._u([{key:"target",fn:function({binds:s,events:r}){return[e("div",t._g(t._b({staticClass:"icon cursor-help",class:t.$style.hint},"div",s,!1),r),[e("i",{staticClass:"mdi mdi-18px mdi-help-circle-outline"})])]}}])},[e("div",[t._t("default")],2)])],1)])])},Pt=[];const Ut={inject:{tooltip:{default:T.Tooltip}}},Lt=Ut;var $t=s(38627),jt=s.n($t);function qt(e){this["$style"]=jt().locals||jt()}var Ft=(0,o.A)(Lt,kt,Pt,!0,qt,null,null);const Bt=Ft.exports;var Ht=function(){var e=this,t=e._self._c;return t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:e.TooltipPanelGroups},scopedSlots:e._u([{key:"settings",fn:function(){return[t("ui-container",[t("ui-switch",{model:{value:e.model.isSlotShown,callback:function(t){e.$set(e.model,"isSlotShown",t)},expression:"model.isSlotShown"}},[e._v("ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚ÑŒ ÑÐ»Ð¾Ñ‚")]),t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°")]},proxy:!0}])},[t("ui-container",[t("ui-input",{model:{value:e.model.title.text,callback:function(t){e.$set(e.model.title,"text","string"===typeof t?t.trim():t)},expression:"model.title.text"}},[e._v("Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ñ‚ÑƒÐ»Ñ‚Ð¸Ð¿Ð°")]),t("ui-select",{attrs:{options:e.TextAlignOptions},model:{value:e.model.title.textAlign,callback:function(t){e.$set(e.model.title,"textAlign",t)},expression:"model.title.textAlign"}},[e._v(" Ð’Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ° ")]),t("ui-input-cp",{model:{value:e.model.title.color,callback:function(t){e.$set(e.model.title,"color",t)},expression:"model.title.color"}},[e._v("Ð¦Ð²ÐµÑ‚ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°")]),t("ui-input-units",{attrs:{units:e.SizeUnits},model:{value:e.model.title.fontSize,callback:function(t){e.$set(e.model.title,"fontSize",t)},expression:"model.title.fontSize"}},[e._v(" Ð Ð°Ð·Ð¼ÐµÑ€ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ° ")]),t("ui-input",{model:{value:e.model.title.fontFamily,callback:function(t){e.$set(e.model.title,"fontFamily",t)},expression:"model.title.fontFamily"}},[e._v("Ð¨Ñ€Ð¸Ñ„Ñ‚ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°")]),t("ui-select",{attrs:{options:e.FontWeightOptions},model:{value:e.model.title.fontWeight,callback:function(t){e.$set(e.model.title,"fontWeight",t)},expression:"model.title.fontWeight"}},[e._v(" ÐÐ°ÑÑ‹Ñ‰ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ÑˆÑ€Ð¸Ñ„Ñ‚Ð° Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ° ")])],1)],1),t("ui-collapse",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ‚ÑƒÐ»Ñ‚Ð¸Ð¿Ð°")]},proxy:!0}])},[t("ui-container",[t("ui-switch",{model:{value:e.model.shouldFollowPointer,callback:function(t){e.$set(e.model,"shouldFollowPointer",t)},expression:"model.shouldFollowPointer"}},[e._v("Ð¡Ð»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð° ÐºÑƒÑ€ÑÐ¾Ñ€Ð¾Ð¼")]),t("ui-switch",{model:{value:e.model.shouldRespondToPointerEvents,callback:function(t){e.$set(e.model,"shouldRespondToPointerEvents",t)},expression:"model.shouldRespondToPointerEvents"}},[t("span",{staticClass:"text-xsmall"},[e._v("Ð ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ ÐºÑƒÑ€ÑÐ¾Ñ€Ð°")])]),t("ui-select",{attrs:{options:e.TooltipPositionOptions},model:{value:e.model.position,callback:function(t){e.$set(e.model,"position",t)},expression:"model.position"}},[e._v(" ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ Ñ‚ÑƒÐ»Ñ‚Ð¸Ð¿Ð° ")]),t("ui-input",{attrs:{type:"number"},model:{value:e.model.positionOffsets[1],callback:function(t){e.$set(e.model.positionOffsets,1,e._n(t))},expression:"model.positionOffsets[1]"}},[e._v(" Ð’ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿ ")]),t("ui-input",{attrs:{type:"number"},model:{value:e.model.positionOffsets[0],callback:function(t){e.$set(e.model.positionOffsets,0,e._n(t))},expression:"model.positionOffsets[0]"}},[e._v(" Ð“Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿ ")]),t("ui-input-units",{attrs:{units:e.SizeUnits},model:{value:e.model.style.vPadding,callback:function(t){e.$set(e.model.style,"vPadding",t)},expression:"model.style.vPadding"}},[e._v(" Ð’ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ð¹ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿ ")]),t("ui-input-units",{attrs:{units:e.SizeUnits},model:{value:e.model.style.hPadding,callback:function(t){e.$set(e.model.style,"hPadding",t)},expression:"model.style.hPadding"}},[e._v(" Ð“Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ð¹ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿ ")]),t("ui-input-cp",{model:{value:e.model.style.backgroundColor,callback:function(t){e.$set(e.model.style,"backgroundColor",t)},expression:"model.style.backgroundColor"}},[e._v("Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°")]),t("ui-input-units",{attrs:{units:e.BorderWidthUnits},model:{value:e.model.style.borderWidth,callback:function(t){e.$set(e.model.style,"borderWidth",t)},expression:"model.style.borderWidth"}},[e._v(" Ð¢Ð¾Ð»Ñ‰Ð¸Ð½Ð° Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ ")]),t("ui-input-cp",{model:{value:e.model.style.borderColor,callback:function(t){e.$set(e.model.style,"borderColor",t)},expression:"model.style.borderColor"}},[e._v("Ð¦Ð²ÐµÑ‚ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹")]),t("ui-select",{attrs:{options:e.BorderStyleOptions},model:{value:e.model.style.borderStyle,callback:function(t){e.$set(e.model.style,"borderStyle",t)},expression:"model.style.borderStyle"}},[e._v(" Ð¡Ñ‚Ð¸Ð»ÑŒ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ ")]),t("ui-input-units",{attrs:{units:e.BorderWidthUnits},model:{value:e.model.style.borderRadius,callback:function(t){e.$set(e.model.style,"borderRadius",t)},expression:"model.style.borderRadius"}},[e._v(" Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ ÑƒÐ³Ð»Ð¾Ð² ")]),t("ui-input",{model:{value:e.model.style.boxShadow,callback:function(t){e.$set(e.model.style,"boxShadow",t)},expression:"model.style.boxShadow"}},[e._v("Ð¢ÐµÐ½ÑŒ")])],1)],1),e._t("default")],2)]},proxy:!0},{key:"data",fn:function(){return[e.model.data.length>0?t("ui-draggable",{staticClass:"p",attrs:{handle:".drag-handle"},model:{value:e.model.data,callback:function(t){e.$set(e.model,"data",t)},expression:"model.data"}},e._l(e.model.data,function(s,r){return t("ui-collapse",{key:r,staticClass:"p",scopedSlots:e._u([{key:"header",fn:function(){return[t("span",{staticClass:"icon drag-handle mar-right-3 cursor-move"},[t("i",{staticClass:"mdi mdi-drag mdi-18px"})]),t("span",[e._v(e._s(s.value))])]},proxy:!0}],null,!0)},[t("ui-container",[t("ui-select",{attrs:{options:e.options},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}},[e._v("Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ")]),t("ui-select",{attrs:{options:e.TooltipDataItemValueTypeOptions},model:{value:s.type,callback:function(t){e.$set(s,"type",t)},expression:"item.type"}},[e._v(" Ð¢Ð¸Ð¿ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ")]),t("ui-input",{model:{value:s.outputFormat,callback:function(t){e.$set(s,"outputFormat",t)},expression:"item.outputFormat"}},[t("ui-hint",{scopedSlots:e._u([{key:"label",fn:function(){return[e._v("Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð°")]},proxy:!0}],null,!0)},[t("div",[e._v("Ð“Ð´Ðµ:")]),t("div",[e._v("{n} - Ð½Ð°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ")]),t("div",[e._v("{v} - ÐµÐ³Ð¾ Ñ„Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ")])])],1),t("ui-select",{attrs:{options:e.TextAlignOptions},model:{value:s.style.textAlign,callback:function(t){e.$set(s.style,"textAlign",t)},expression:"item.style.textAlign"}},[e._v(" Ð’Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ ")]),t("ui-input-cp",{model:{value:s.style.color,callback:function(t){e.$set(s.style,"color",t)},expression:"item.style.color"}},[e._v("Ð¦Ð²ÐµÑ‚")]),t("ui-input-units",{attrs:{units:e.SizeUnits},model:{value:s.style.fontSize,callback:function(t){e.$set(s.style,"fontSize",t)},expression:"item.style.fontSize"}},[e._v("Ð Ð°Ð·Ð¼ÐµÑ€")]),t("ui-input",{model:{value:s.style.fontFamily,callback:function(t){e.$set(s.style,"fontFamily",t)},expression:"item.style.fontFamily"}},[e._v("Ð¨Ñ€Ð¸Ñ„Ñ‚")]),t("ui-select",{attrs:{options:e.FontWeightOptions},model:{value:s.style.fontWeight,callback:function(t){e.$set(s.style,"fontWeight",t)},expression:"item.style.fontWeight"}},[e._v(" ÐÐ°ÑÑ‹Ñ‰ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ÑˆÑ€Ð¸Ñ„Ñ‚Ð° ")]),s.type===e.TooltipDataItemValueType.NUMBER?[t("ui-number-format",{model:{value:s.valueFormat,callback:function(t){e.$set(s,"valueFormat",t)},expression:"item.valueFormat"}},[e._v("Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ñ‡Ð¸ÑÐ»Ð°")]),t("ui-switch",{model:{value:s.shouldShowSign,callback:function(t){e.$set(s,"shouldShowSign",t)},expression:"item.shouldShowSign"}},[e._v("ÐŸÐ¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‡Ð¸ÑÐ»Ð°")])]:e._e(),s.type===e.TooltipDataItemValueType.DATE?[t("ui-input",{model:{value:s.valueFormat,callback:function(t){e.$set(s,"valueFormat",t)},expression:"item.valueFormat"}},[e._v("Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð´Ð°Ñ‚Ñ‹")])]:e._e(),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:e.PrfPsfGroups},scopedSlots:e._u([e._l(e.PrfPsfGroups,function({slot:r,option:i}){return{key:r,fn:function(){return[t("ui-container",{key:i},[t("ui-input",{model:{value:s[i].value,callback:function(t){e.$set(s[i],"value",t)},expression:"item[option].value"}},[e._v("Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ")]),t("ui-input-cp",{model:{value:s[i].color,callback:function(t){e.$set(s[i],"color",t)},expression:"item[option].color"}},[e._v("Ð¦Ð²ÐµÑ‚")]),t("ui-input-units",{attrs:{units:e.SizeUnits},model:{value:s[i].fontSize,callback:function(t){e.$set(s[i],"fontSize",t)},expression:"item[option].fontSize"}},[e._v(" Ð Ð°Ð·Ð¼ÐµÑ€ ")]),t("ui-input",{model:{value:s[i].fontFamily,callback:function(t){e.$set(s[i],"fontFamily",t)},expression:"item[option].fontFamily"}},[e._v("Ð¨Ñ€Ð¸Ñ„Ñ‚")]),t("ui-select",{attrs:{options:e.FontWeightOptions},model:{value:s[i].fontWeight,callback:function(t){e.$set(s[i],"fontWeight",t)},expression:"item[option].fontWeight"}},[e._v(" ÐÐ°ÑÑ‹Ñ‰ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ÑˆÑ€Ð¸Ñ„Ñ‚Ð° ")]),t("ui-input-units",{attrs:{units:e.SizeUnits},model:{value:s[i].offset,callback:function(t){e.$set(s[i],"offset",t)},expression:"item[option].offset"}},[e._v(" ÐžÑ‚ÑÑ‚ÑƒÐ¿ ")])],1)]},proxy:!0}})],null,!0)})]},proxy:!0}],null,!0)},[t("div",{staticClass:"form-label form-label-small"},[e._v("ÐŸÑ€ÐµÑ„Ð¸ÐºÑ/ÐŸÐ¾ÑÑ‚Ñ„Ð¸ÐºÑ")])]),t("ui-button",{attrs:{type:"error"},on:{click:function(t){return e.removeTooltipDataItem(r)}}},[e._v("Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ")])],2)],1)}),1):e._e(),t("ui-button",{on:{click:e.addTooltipDataItem}},[e._v("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ")])]},proxy:!0},{key:"vars",fn:function(){return[e.hasWidgetDataset?t("ui-select",{attrs:{options:e.options,multiple:""},model:{value:e.tooltipVars,callback:function(t){e.tooltipVars=t},expression:"tooltipVars"}},[e._v(" Ð˜Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸Ñ/Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ ")]):t("ui-container",[e._l(e.tooltipVars,function(s,r){return t("div",{key:r,staticClass:"row row-gap-1"},[t("div",{staticClass:"col col-vmid"},[t("ui-input",{attrs:{value:r},on:{change:function(t){return e.setVariable(r,t)}}},[e._v("ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ")])],1),t("div",{staticClass:"col col-5-12 col-vmid"},[t("ui-select",{attrs:{value:s,options:e.options},on:{change:function(t){return e.setFieldName(r,t)}}},[e._v(" ÐŸÐ¾Ð»Ðµ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ð° ")])],1),t("div",{staticClass:"col col-auto col-vbot"},[t("ui-button",{attrs:{type:"error",icon:""},on:{click:function(t){return e.removeVariable(r)}}},[t("i",{staticClass:"mdi mdi-trash-can-outline mdi-18px"})])],1)])}),t("ui-button",{on:{click:e.addVariable}},[e._v("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ")])],2)]},proxy:!0}],null,!0)})]},proxy:!0}])},[t("ui-checkbox",{model:{value:e.model.isEnabled,callback:function(t){e.$set(e.model,"isEnabled",t)},expression:"model.isEnabled"}},[e._v("ÐÐ°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ð¹ Ñ‚ÑƒÐ»Ñ‚Ð¸Ð¿")])],1)},Vt=[],zt=s(10948),Wt=s.n(zt),Qt=s(20903),Gt=s(82433),Yt=s(74989),Zt=s(21587);const Kt=[{value:Yt.Zj.TOP,label:"Ð¡Ð²ÐµÑ€Ñ…Ñƒ (Ñ†ÐµÐ½Ñ‚Ñ€)"},{value:Yt.Zj.TOP_START,label:"Ð¡Ð²ÐµÑ€Ñ…Ñƒ (Ð½Ð°Ñ‡Ð°Ð»Ð¾)"},{value:Yt.Zj.TOP_END,label:"Ð¡Ð²ÐµÑ€Ñ…Ñƒ (ÐºÐ¾Ð½ÐµÑ†)"},{value:Yt.Zj.LEFT,label:"Ð¡Ð»ÐµÐ²Ð° (Ñ†ÐµÐ½Ñ‚Ñ€)"},{value:Yt.Zj.LEFT_START,label:"Ð¡Ð»ÐµÐ²Ð° (Ð½Ð°Ñ‡Ð°Ð»Ð¾)"},{value:Yt.Zj.LEFT_END,label:"Ð¡Ð»ÐµÐ²Ð° (ÐºÐ¾Ð½ÐµÑ†)"},{value:Yt.Zj.RIGHT,label:"Ð¡Ð¿Ñ€Ð°Ð²Ð° (Ñ†ÐµÐ½Ñ‚Ñ€)"},{value:Yt.Zj.RIGHT_START,label:"Ð¡Ð¿Ñ€Ð°Ð²Ð° (Ð½Ð°Ñ‡Ð°Ð»Ð¾)"},{value:Yt.Zj.RIGHT_END,label:"Ð¡Ð¿Ñ€Ð°Ð²Ð° (ÐºÐ¾Ð½ÐµÑ†)"},{value:Yt.Zj.BOTTOM,label:"Ð¡Ð½Ð¸Ð·Ñƒ (Ñ†ÐµÐ½Ñ‚Ñ€)"},{value:Yt.Zj.BOTTOM_START,label:"Ð¡Ð½Ð¸Ð·Ñƒ (Ð½Ð°Ñ‡Ð°Ð»Ð¾)"},{value:Yt.Zj.BOTTOM_END,label:"Ð¡Ð½Ð¸Ð·Ñƒ (ÐºÐ¾Ð½ÐµÑ†)"}],Xt=[{value:Yt.xo.LEFT,label:"Ð¡Ð»ÐµÐ²Ð°"},{value:Yt.xo.CENTER,label:"ÐŸÐ¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ"},{value:Yt.xo.RIGHT,label:"Ð¡Ð¿Ñ€Ð°Ð²Ð°"}],Jt=[{value:Yt.O2.STRING,label:"Ð¡Ñ‚Ñ€Ð¾ÐºÐ°"},{value:Yt.O2.NUMBER,label:"Ð§Ð¸ÑÐ»Ð¾"},{value:Yt.O2.DATE,label:"Ð”Ð°Ñ‚Ð°"}],es=[{name:"Ð’Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð²Ð¸Ð´",slot:"settings"},{name:"Ð”Ð°Ð½Ð½Ñ‹Ðµ",slot:"data"},{name:"ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ",slot:"vars"}],ts=[{name:"ÐŸÑ€ÐµÑ„Ð¸ÐºÑ",slot:"prf",option:"prefix"},{name:"ÐŸÐ¾ÑÑ‚Ñ„Ð¸ÐºÑ",slot:"psf",option:"postfix"}],ss={components:{UiHasPanel:qe,UiPanel:ut,UiCollapse:R,UiCheckbox:D,UiButton:g,UiInput:$,UiInputCp:ie,UiInputUnits:we,UiNumberFormat:ft,UiSelect:Xe,UiSwitch:at,UiDraggable:Wt(),UiContainer:Nt,UiHint:Bt},mixins:[b.bo,b.WQ],props:{options:{type:Array,default:()=>[]}},computed:{hasWidgetDataset(){return this.panel?.elementInstance?.hasDataset??null},tooltipVars:{get(){const{vars:e}=this.model;return null==this.hasWidgetDataset||Array.isArray(e)?e:Object.values(e)},set(e){this.model.vars=Array.isArray(e)?e.reduce((e,t)=>({...e,[t]:t}),{}):e}}},static:{...r,TooltipDataItemValueType:Yt.O2},methods:{createSettings(e=(0,Gt.XT)()){return(0,Qt.A)(e)},addTooltipDataItem(){this.model.data.push((0,Gt.Dc)())},removeTooltipDataItem(e){this.model.data.splice(e,1)},addVariable(){const e="newVar";this.canSetVariable(e)&&this.$set(this.model.vars,e,null)},canSetVariable(e){return!1===Object.keys(this.model.vars).some(t=>t===e)},setVariable(e,t){const{[e]:s}=this.model.vars;if(this.canSetVariable(t))return this.$set(this.model.vars,t,s),void this.removeVariable(e);this.model.vars={...this.model.vars}},setFieldName(e,t){this.$set(this.model.vars,e,t)},removeVariable(e){this.$delete(this.model.vars,e)}}},rs=ss;var is=(0,o.A)(rs,Ht,Vt,!1,null,null,null);const as=is.exports;var ns=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-nowrap flex-v-center flex-h-space-between"},e._l(e.options,function({value:s,label:r,icon:i},a){return t("button",{key:a,staticClass:"btn btn-icon",class:e.resolveClass(s),attrs:{title:r},on:{click:function(t){return e.onClick(s)}}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-account mdi-18px",class:i})])])}),0)},os=[];const ls={mixins:[b.bo],props:{options:{type:Array,default:()=>[]}},computed:{colSizeCl(){return`col-${this.colSize}`}},methods:{onClick(e){this.$emit("input",e),this.$emit("change",e)},resolveClass(e){return e===this.valueResolved?"btn-primary":"btn-ghost"}}},ds=ls;var cs=(0,o.A)(ds,ns,os,!1,null,null,null);const us=cs.exports;var ps=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col",class:e.colSizeCl},[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-cp",{attrs:{disabled:e.disabled},model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}},[e._v("Ð¦Ð²ÐµÑ‚")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.units,disabled:e.disabled},model:{value:e.model.fontSize,callback:function(t){e.$set(e.model,"fontSize",t)},expression:"model.fontSize"}},[e._v(" Ð Ð°Ð·Ð¼ÐµÑ€ ")])]},proxy:!0}])}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-auto",{attrs:{disabled:e.disabled},model:{value:e.model.fontFamily,callback:function(t){e.$set(e.model,"fontFamily",t)},expression:"model.fontFamily"}},[e._v("Ð¨Ñ€Ð¸Ñ„Ñ‚")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-select",{attrs:{options:e.fontWeightOptions,disabled:e.disabled},model:{value:e.model.fontWeight,callback:function(t){e.$set(e.model,"fontWeight",t)},expression:"model.fontWeight"}},[e._v(" ÐÐ°ÑÑ‹Ñ‰ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ")])]},proxy:!0}])})],1)],1)])},hs=[];const ms={components:{UiInputUnits:we,UiInputAuto:V,UiInputCp:ie,UiSelect:Xe,UiHasTwoColumns:We,UiContainer:Nt},mixins:[b.bo,b.WQ],props:{units:{type:Array,default:()=>Zt.SizeUnits},fontWeightOptions:{type:Array,default:()=>Zt.FontWeightOptions}},computed:{colSizeCl(){return`col-${this.colSize}`}},methods:{createSettings(e=(0,b.gt)()){return(0,b.gt)(e)}}},fs=ms;var gs=(0,o.A)(fs,ps,hs,!1,null,null,null);const ys=gs.exports;var vs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col",class:e.colSizeCl},[t("ui-container",[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-cp",{attrs:{disabled:e.disabled},model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}},[e._v("Ð¦Ð²ÐµÑ‚")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.units,disabled:e.disabled},model:{value:e.model.blur,callback:function(t){e.$set(e.model,"blur",t)},expression:"model.blur"}},[e._v(" Ð Ð°Ð·Ð¼Ñ‹Ñ‚Ð¸Ðµ ")])]},proxy:!0}])}),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-units",{attrs:{units:e.units,disabled:e.disabled},model:{value:e.model.shiftX,callback:function(t){e.$set(e.model,"shiftX",t)},expression:"model.shiftX"}},[e._v(" Ð¡Ð´Ð²Ð¸Ð³ Ð¿Ð¾ X ")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.units,disabled:e.disabled},model:{value:e.model.shiftY,callback:function(t){e.$set(e.model,"shiftY",t)},expression:"model.shiftY"}},[e._v(" Ð¡Ð´Ð²Ð¸Ð³ Ð¿Ð¾ Y ")])]},proxy:!0}])}),e.typeOptions.length>0?t("ui-select",{attrs:{options:e.typeOptions,disabled:e.disabled},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[e._v(" Ð¢Ð¸Ð¿ ")]):e._e()],1)],1)])},bs=[];const Es={components:{UiInputUnits:we,UiInputCp:ie,UiSelect:Xe,UiHasTwoColumns:We,UiContainer:Nt},mixins:[b.bo,b.WQ],props:{units:{type:Array,default:()=>Zt.SizeUnits},typeOptions:{type:Array,default:()=>Zt.ShadowTypeOptions}},computed:{colSizeCl(){return`col-${this.colSize}`}},methods:{createSettings(e=(0,b.bV)()){return(0,b.bV)(e)}}},_s=Es;var Ss=(0,o.A)(_s,vs,bs,!1,null,null,null);const Is=Ss.exports;var Ds=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col",class:e.colSizeCl},[t("ui-container",[t("ui-select",{attrs:{options:e.TypeOptions},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[e._v("Ð¢Ð¸Ð¿ Ð¾ÐºÑ€Ð°ÑˆÐ¸Ð²Ð°Ð½Ð¸Ñ")]),e.isDimensionType?[t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-cp",{model:{value:e.model.dimensions.color,callback:function(t){e.$set(e.model.dimensions,"color",t)},expression:"model.dimensions.color"}},[e._v("Ð¦Ð²ÐµÑ‚")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input",{attrs:{type:"number"},model:{value:e.model.dimensions.step,callback:function(t){e.$set(e.model.dimensions,"step",t)},expression:"model.dimensions.step"}},[e._v("Ð¨Ð°Ð³")])]},proxy:!0}],null,!1,437992666)}),t("ui-draggable",e._b({model:{value:e.resultDimensions,callback:function(t){e.resultDimensions=t},expression:"resultDimensions"}},"ui-draggable",e.DragOptions,!1),e._l(e.resultDimensions,function(s,r){return t("div",{key:r,staticClass:"row row-hgap-3 mar-bot-3"},[t("div",{staticClass:"col col-auto col-vbot"},[t("span",{staticClass:"icon mar-bot-2 cursor-pointer drag-handle"},[t("i",{staticClass:"mdi mdi-18px mdi-drag"})])]),t("div",{staticClass:"col col-vbot"},[t("ui-input-cp",{attrs:{value:e.getDimensionColor(s)},on:{change:function(t){return e.setDimensionColor(s,t)}}},[e._v(" "+e._s(s)+" ")])],1),t("div",{staticClass:"col col-auto col-vbot"},[t("span",{staticClass:"icon mar-bot-2 cursor-pointer",on:{click:function(t){return e.resetDimensionColor(s)}}},[t("i",{staticClass:"mdi mdi-18px mdi-refresh"})])])])}),0)]:e._e(),e.isMetricType?[t("ui-select",{attrs:{options:e.metrics},model:{value:e.model.metrics.metric,callback:function(t){e.$set(e.model.metrics,"metric",t)},expression:"model.metrics.metric"}},[e._v("ÐœÐµÑ‚Ñ€Ð¸ÐºÐ°")])]:e._e(),e.isIndexesType?[t("button",{staticClass:"btn btn-primary w-100 flex-h-space-between",on:{click:e.addIndexesColor}},[t("span",[e._v("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ")]),t("span",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-18px mdi-plus-box-outline"})])]),t("ui-draggable",e._b({model:{value:e.model.indexes.colors,callback:function(t){e.$set(e.model.indexes,"colors",t)},expression:"model.indexes.colors"}},"ui-draggable",e.DragOptions,!1),e._l(e.model.indexes.colors,function(s,r){return t("div",{key:r,staticClass:"row row-hgap-3 mar-bot-3"},[t("div",{staticClass:"col col-auto col-vbot"},[t("span",{staticClass:"icon mar-bot-2 cursor-pointer",on:{click:function(t){return e.copyIndexesColor(r)}}},[t("i",{staticClass:"mdi mdi-18px mdi-content-copy"})])]),t("div",{staticClass:"col col-auto col-vbot"},[t("span",{staticClass:"icon mar-bot-2 cursor-pointer drag-handle"},[t("i",{staticClass:"mdi mdi-18px mdi-drag"})])]),t("div",{staticClass:"col col-vbot"},[t("ui-input-cp",{model:{value:e.model.indexes.colors[r],callback:function(t){e.$set(e.model.indexes.colors,r,t)},expression:"model.indexes.colors[index]"}},[e._v("Ð¦Ð²ÐµÑ‚ "+e._s(r+1))])],1),t("div",{staticClass:"col col-auto col-vbot"},[t("span",{staticClass:"icon mar-bot-2 cursor-pointer",on:{click:function(t){return e.removeIndexesColor(r)}}},[t("i",{staticClass:"mdi mdi-18px mdi-minus-box-outline"})])])])}),0)]:e._e()],2)],1)])},Ms=[],xs=s(2520),Ts=s.n(xs),ws=s(50088);const Cs=({color:e,number:t})=>{try{const s=Ts()(e),{l:r}=s.hsl().object();return s.lightness(r+t).string()}catch{return e}},As=Object.freeze({DIMENSION:"",METRIC:"metric",INDEXES:"indexes"}),Os=Object.freeze([{label:"ÐŸÐ¾ Ð¸Ð·Ð¼ÐµÑ€ÐµÐ½Ð¸ÑŽ",value:As.DIMENSION},{label:"ÐŸÐ¾ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐµ",value:As.METRIC},{label:"ÐŸÐ¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ",value:As.INDEXES}]),Rs={handle:".drag-handle",animation:500},Ns={components:{UiInputCp:ie,UiInput:$,UiHasTwoColumns:We,UiSelect:Xe,UiContainer:Nt,UiDraggable:Wt()},mixins:[b.bo,b.WQ],static:{TypeOptions:Os,DragOptions:Rs},props:{dimensions:{type:Array,default:()=>[]},metrics:{type:Array,default:()=>[]}},computed:{colSizeCl(){return`col-${this.colSize}`},isDimensionType(){return this.model.type===As.DIMENSION},isMetricType(){return this.model.type===As.METRIC},isIndexesType(){return this.model.type===As.INDEXES},dimensionsStepColors(){const{model:{dimensions:{color:e,step:t}},resultDimensions:s}=this;return s.map((s,r)=>Cs({color:e,number:t*r}))},resultDimensions:{get(){const{dimensions:e,model:{dimensions:{dimensions:t}}}=this;return(0,ws.A)([...t.filter(t=>e.includes(t)),...e])},set(e){this.$set(this.model.dimensions,"dimensions",e)}}},methods:{createSettings(e=(0,b.mk)()){return(0,b.mk)(e)},getDimensionColor(e){const{colors:t}=this.model.dimensions,{resultDimensions:s}=this;return t?.[e]??this.dimensionsStepColors[s.findIndex(t=>t===e)]??""},setDimensionColor(e,t){this.$set(this.model.dimensions.colors,e,t)},resetDimensionColor(e){this.$set(this.model.dimensions,"colors",Object.fromEntries(Object.entries(this.model.dimensions.colors).filter(([t])=>t!==e)))},addIndexesColor(){this.model.indexes.colors.push("")},copyIndexesColor(e){const{model:{indexes:{colors:t}}}=this;t.splice(e,0,t[e])},removeIndexesColor(e){const{model:{indexes:{colors:t}}}=this;t.splice(e,1)}}},ks=Ns;var Ps=(0,o.A)(ks,Ds,Ms,!1,null,null,null);const Us=Ps.exports;var Ls=function(){var e=this,t=e._self._c;return t("div",[t("ui-draggable",e._b({model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"ui-draggable",e.DragOptions,!1),e._l(e.model,function(s,r){return t("ui-collapse",{key:r,staticClass:"collapse",scopedSlots:e._u([{key:"heading",fn:function({isOpen:i,toggle:a}){return[t("div",{staticClass:"row row-collapse row-hgap-1"},[t("div",{staticClass:"col col-auto col-vmid"},[t("div",{staticClass:"icon w-auto opacity-60 drag-handle"},[t("i",{staticClass:"mdi mdi-drag mdi-18px"})])]),t("div",{staticClass:"col col-auto col-vmid"},[t("div",{staticClass:"icon w-auto opacity-60"},[t("i",{staticClass:"mdi mdi-chevron-right",class:{"mdi-rotate-90":i}})])]),t("div",{staticClass:"col col-vmid text-small text-truncate"},[e._t("header",null,null,{isOpen:i,toggle:a,item:s,index:r})],2),t("div",{staticClass:"col col-auto col-vmid"},[e.isShownToolbox?t("div",{staticClass:"icon w-auto opacity-60",on:{click:function(t){return t.stopPropagation(),e.showPopoverState({target:t.target,index:r})}}},[t("i",{staticClass:"mdi mdi-dots-vertical mdi-18px"})]):e._e()])])]}}],null,!0)},[e._t("default",function(){return[t("pre",[e._v(e._s(s))])]},null,{item:s,index:r})],2)}),1),t("ui-popover",e._b({attrs:{show:e.isShownPopover},on:{"update:show":function(t){e.isShownPopover=t}}},"ui-popover",e.popovertBinds,!1),[t("div",{staticClass:"menu menu-small"},[t("ul",[e._l(e.toolbox,function({label:s,icon:r,handler:i},a){return[0!==a?t("li",{key:"hr"+a},[t("hr")]):e._e(),t("li",{key:a},[t("a",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),e.performPopoverHandler(i)}}},[t("i",{staticClass:"mdi mar-right-2",class:r}),t("span",[e._v(e._s(s))])])])]})],2)])])],1)},$s=[];const js={handle:".drag-handle",animation:500},qs={components:{UiDraggable:Wt(),UiCollapse:R,UiPopover:T.Popover},mixins:[b.bo,b.WQ],static:{DragOptions:js},props:{value:{type:Array,default:()=>[]},isShownToolbox:{type:Boolean,default:!0},toolboxControls:{type:Array,default:()=>[]}},data:()=>({popoverTarget:null,popoverIndex:null,isShownPopover:!1}),computed:{popovertBinds(){return{target:this.popoverTarget,appendToBody:!0,autoWidth:!1,position:"bottom-end"}},toolbox(){return this.toolboxControls.length>0?this.toolboxControls:[{icon:"mdi-minus-box-outline",label:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",handler:this.remove},{icon:"mdi-content-copy",label:"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",handler:this.copy}]}},methods:{createSettings(e=[]){return[...e]},showPopoverState({index:e,target:t}){this.popoverTarget=t,this.popoverIndex=e,this.isShownPopover=null!=e},performPopoverHandler(e){e(this.popoverIndex),this.isShownPopover=!1},remove(e){this.model.splice(e,1)},copy(e){this.model.splice(e,0,(0,Qt.A)(this.model[e]))}}},Fs=qs;s(47403);var Bs=(0,o.A)(Fs,Ls,$s,!1,null,"064906f5",null);const Hs=Bs.exports;var Vs=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-radio-buttons",{attrs:{options:e.borderSideOptions},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}}),t("ui-input-units",{attrs:{units:e.units},model:{value:e.activeSide.width,callback:function(t){e.$set(e.activeSide,"width",t)},expression:"activeSide.width"}},[e._v("Ð¢Ð¾Ð»Ñ‰Ð¸Ð½Ð°")]),t("ui-input-cp",{model:{value:e.activeSide.color,callback:function(t){e.$set(e.activeSide,"color",t)},expression:"activeSide.color"}},[e._v("Ð¦Ð²ÐµÑ‚")]),t("ui-select",{attrs:{options:e.styleOptions},model:{value:e.activeSide.style,callback:function(t){e.$set(e.activeSide,"style",t)},expression:"activeSide.style"}},[e._v("Ð¢Ð¸Ð¿")])],1)},zs=[],Ws=s(46996),Qs=s(6958),Gs=s(26064);const Ys=["top","right","bottom","left"],Zs={components:{UiInputUnits:we,UiRadioButtons:us,UiHasTwoColumns:We,UiSelect:Xe,UiInputCp:ie,UiContainer:Nt},mixins:[b.bo],props:{value:{type:Object,default:b.RR},sides:{type:Array,default:()=>["all","top","right","bottom","left"]},styleOptions:{type:Array,default:()=>Zt.BorderStyleOptions},units:{type:Array,default:()=>Zt.SizeUnits}},data:e=>({model:null,activeKey:e.sides[0]}),computed:{activeSide(){return this.model?.[this.activeKey]},borderSideOptions(){return Zt.BorderSideOptions.filter(({value:e})=>this.sides.includes(e))},stringedModelAll(){const{all:e}=this.model??{};return null==e?"":JSON.stringify(e)}},watch:{valueResolved:{deep:!0,immediate:!0,handler(){const{valueResolved:e,model:t}=this;if(null!=t&&(0,Ws.A)(this.collectBorder(t),e))return;const{color:s,width:r,style:i}=e,a=this.parseProp(s,"color"),n=this.parseProp(r,"width"),o=this.parseProp(i,"style");this.model=Ys.reduce((e,t,s)=>({...e,[t]:(0,b.RR)({color:a[s],width:n[s],style:o[s]})}),{}),this.updateModelAll()}},model:{deep:!0,immediate:!0,handler(){const{valueResolved:e,model:t}=this,s=this.collectBorder(t);(0,Ws.A)(s,e)||(this.updateModelAll(),this.emitModel(s))}},stringedModelAll:{handler(e,t){if(""===t)return;const[s,r]=[JSON.parse(e),JSON.parse(t)],i=this.findMismatchedKey(s,r),a=s[i];this.model=Object.fromEntries(Object.entries(this.model).map(([e,t])=>[e,{...t,...null!=a&&{[i]:a}}]))}}},methods:{collectBorder(e){const{sides:t}=this;if((0,Ws.A)(t.slice(),["all"]))return{...this.model.all};const s=this.getServiceElementStyle(),{color:r,width:i,style:a}=Ys.reduce((s,r)=>{const i=t.includes(r),a=i?e[r].color:"transparent",n=i?e[r].width:"0px",o=i?e[r].style:"none";return s.color+=(""===s.color?"":" ")+a,s.width+=(""===s.width?"":" ")+n,s.style+=(""===s.style?"":" ")+o,s},{color:"",width:"",style:""});s.borderColor=r,s.borderWidth=i,s.borderStyle=a;const{borderColor:n,borderWidth:o,borderStyle:l}=s;return{color:n,width:o,style:l}},getServiceElementStyle(){let e=document.createElement("div");const t=e.style;return e=null,t},parseProp(e,t){const s=this.getServiceElementStyle();return s[(0,Qs.A)(`border ${t}`)]=e,Ys.reduce((e,r)=>[...e,s[(0,Qs.A)(`border ${r} ${t}`)]],[])},updateModelAll(){const{all:e,...t}=this.model,s=Object.keys((0,b.RR)()).reduce((e,s)=>{const r=(0,Gs.A)(t,s);return e[s]=1===(0,ws.A)(r).length?r[0]:null,e},{});this.$set(this.model,"all",s)},findMismatchedKey(e,t){for(const s in e)if(e[s]!==t[s])return s;return null},emitModel(e){this.onInput(e),this.onChange(e)}}},Ks=Zs;var Xs=(0,o.A)(Ks,Vs,zs,!1,null,null,null);const Js=Xs.exports;var er=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col",class:e.colSizeCl},[t("ui-container",[t("div",{staticClass:"row row-hgap-l1 flex-nowrap"},[t("div",{staticClass:"col col-auto"},[t("button",{staticClass:"btn btn-icon",class:e.toggleButtonClass,attrs:{title:e.toggleButtonLabel},on:{click:e.toggle}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"mdi mdi-18px mdi-border-radius"})])])]),t("div",{staticClass:"col"},[e.isShownAll?t("ui-container",[t("div",{staticClass:"row row-hgap-l1 row-vgap-4"},[t("div",{staticClass:"col col-6-12 col-vbot"},[t("ui-input-units",e._b({model:{value:e.model.topLeft,callback:function(t){e.$set(e.model,"topLeft",t)},expression:"model.topLeft"}},"ui-input-units",e.binds,!1),[t("span",{staticClass:"icon color-primary rotate-icon-270"},[t("i",{staticClass:"mdi mdi-18px mdi-rounded-corner"})]),t("span",[e._v("Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ")])])],1),t("div",{staticClass:"col col-6-12 col-vbot"},[t("ui-input-units",e._b({model:{value:e.model.topRight,callback:function(t){e.$set(e.model,"topRight",t)},expression:"model.topRight"}},"ui-input-units",e.binds,!1),[t("span",{staticClass:"icon color-primary"},[t("i",{staticClass:"mdi mdi-18px mdi-rounded-corner"})]),t("span",[e._v("Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ")])])],1),t("div",{staticClass:"col col-6-12 col-vbot"},[t("ui-input-units",e._b({model:{value:e.model.bottomLeft,callback:function(t){e.$set(e.model,"bottomLeft",t)},expression:"model.bottomLeft"}},"ui-input-units",e.binds,!1),[t("span",{staticClass:"icon color-primary rotate-icon-180"},[t("i",{staticClass:"mdi mdi-18px mdi-rounded-corner"})]),t("span",[e._v("Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ")])])],1),t("div",{staticClass:"col col-6-12 col-vbot"},[t("ui-input-units",e._b({model:{value:e.model.bottomRight,callback:function(t){e.$set(e.model,"bottomRight",t)},expression:"model.bottomRight"}},"ui-input-units",e.binds,!1),[t("div",{staticClass:"icon color-primary rotate-icon-90"},[t("i",{staticClass:"mdi mdi-18px mdi-rounded-corner"})]),t("span",[e._v("Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ")])])],1)])]):t("ui-input-units",e._b({attrs:{value:e.model.topLeft},on:{change:e.updateAll}},"ui-input-units",e.binds,!1),[e._v(" Ð¡ÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ ")])],1)])])],1)])},tr=[];const sr={components:{UiInputUnits:we,UiContainer:Nt},mixins:[b.bo,b.WQ],props:{units:{type:Array,default:()=>[]}},data:()=>({isShownAll:!1}),computed:{binds(){const{units:e}=this;return{units:e}},toggleButtonClass(){const{isShownAll:e}=this;return{"btn-primary":e,"btn-ghost":!e}},toggleButtonLabel(){const{isShownAll:e}=this;return e?"Ð˜Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ð¾":"Ð’ÑÐµ ÑƒÐ³Ð»Ñ‹"},colSizeCl(){return`col-${this.colSize}`}},created(){this.isShownAll=Object.values((0,b.dU)(this.valueResolved)).some((e,t,s)=>0!==t&&s[t-1]!==e)},methods:{createSettings(e=(0,b.dU)()){return(0,b.dU)(e)},updateAll(e){const{model:t}=this;this.model=Object.fromEntries(Object.keys(t).map(t=>[t,e]))},toggle(){this.isShownAll=!this.isShownAll}}},rr=sr;s(49164);var ir=(0,o.A)(rr,er,tr,!1,null,"6d69eb35",null);const ar=ir.exports;var nr=function(){var e=this,t=e._self._c;return t("ui-container",[t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°",slot:"default"}]}},[t("ui-container",[t("ui-font",{attrs:{units:e.fontSizeUnits,"font-weight-options":e.fontWeightOptions},model:{value:e.model.active.font,callback:function(t){e.$set(e.model.active,"font",t)},expression:"model.active.font"}}),t("ui-input-cp",{model:{value:e.model.active.background,callback:function(t){e.$set(e.model.active,"background",t)},expression:"model.active.background"}},[e._v("Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°")])],1)],1)]},proxy:!0}])},[t("ui-label",{attrs:{"label-size":"small"}},[e._v("ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°")])],1),t("ui-has-panel",{scopedSlots:e._u([{key:"panel",fn:function(){return[t("ui-panel",{attrs:{groups:[{name:"ÐÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ð°Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°",slot:"default"}]}},[t("ui-container",[t("ui-font",{attrs:{units:e.fontSizeUnits,"font-weight-options":e.fontWeightOptions},model:{value:e.model.base.font,callback:function(t){e.$set(e.model.base,"font",t)},expression:"model.base.font"}}),t("ui-input-cp",{model:{value:e.model.base.background,callback:function(t){e.$set(e.model.base,"background",t)},expression:"model.base.background"}},[e._v("Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°")])],1)],1)]},proxy:!0}])},[t("ui-label",{attrs:{"label-size":"small"}},[e._v("ÐÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ð°Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°")])],1),t("ui-has-two-columns",{scopedSlots:e._u([{key:"left",fn:function(){return[t("ui-input-units",{attrs:{units:e.sizeUnits},model:{value:e.model.height,callback:function(t){e.$set(e.model,"height",t)},expression:"model.height"}},[e._v("Ð’Ñ‹ÑÐ¾Ñ‚Ð° ÐºÐ½Ð¾Ð¿ÐºÐ¸")])]},proxy:!0},{key:"right",fn:function(){return[t("ui-input-units",{attrs:{units:e.sizeUnits},model:{value:e.model.width,callback:function(t){e.$set(e.model,"width",t)},expression:"model.width"}},[e._v("Ð¨Ð¸Ñ€Ð¸Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÐ¸")])]},proxy:!0}])}),t("ui-input-units",{attrs:{units:e.sizeUnits},model:{value:e.model.gap,callback:function(t){e.$set(e.model,"gap",t)},expression:"model.gap"}},[e._v("ÐžÑ‚ÑÑ‚ÑƒÐ¿ Ð¼ÐµÐ¶Ð´Ñƒ ÐºÐ½Ð¾Ð¿ÐºÐ°Ð¼Ð¸")]),t("ui-select",{attrs:{options:e.positionOptions},model:{value:e.model.position,callback:function(t){e.$set(e.model,"position",t)},expression:"model.position"}},[e._v("Ð Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ")]),t("ui-input",{attrs:{type:"number",min:"0"},model:{value:e.model.pages,callback:function(t){e.$set(e.model,"pages",t)},expression:"model.pages"}},[e._v("Ð§Ð¸ÑÐ»Ð¾ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ð´Ð»Ñ Ð¿Ð¾ÐºÐ°Ð·Ð°")]),t("ui-border-radius",{attrs:{units:e.sizeUnits},model:{value:e.model.borderRadius,callback:function(t){e.$set(e.model,"borderRadius",t)},expression:"model.borderRadius"}})],1)},or=[];const lr={components:{UiHasPanel:qe,UiHasTwoColumns:We,UiFont:ys,UiBorderRadius:ar,UiSelect:Xe,UiInputUnits:we,UiInputCp:ie,UiInput:$,UiPanel:ut,UiLabel:w["default"],UiContainer:Nt},mixins:[b.bo,b.WQ],props:{fontSizeUnits:{type:Array,default:()=>Zt.SizeUnits},sizeUnits:{type:Array,default:()=>Zt.SizeUnits},positionOptions:{type:Array,default:()=>Zt.PaginationPositionOptions},fontWeightOptions:{type:Array,default:()=>Zt.FontWeightOptions}},methods:{createSettings(e=(0,b.qo)()){return(0,b.qo)(e)}}},dr=lr;var cr=(0,o.A)(dr,nr,or,!1,null,null,null);const ur=cr.exports},84689:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>c});var i,a,n=s(80383),o=s(81656),l=e([n]);n=(l.then?(await l)():l)[0];var d=(0,o.A)(n.A,i,a,!1,null,null,null);const c=d.exports;r()}catch(c){r(c)}})},84940:(e,t,s)=>{var r=s(22369);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("63068fbe",r,!0,{sourceMap:!1,shadowMode:!1})},85042:(e,t,s)=>{var r=s(78975);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("1291625e",r,!0,{sourceMap:!1,shadowMode:!1})},85088:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".drilldown-panel[data-v-2bad619c]{width:22rem}.entity[data-v-2bad619c],.grid[data-v-2bad619c]{display:grid;gap:.5rem}.entity[data-v-2bad619c]{grid-template-columns:auto 1fr;-webkit-box-align:center;align-items:center}",""]);const l=o},85592:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{A:()=>d});var i=s(21587),a=s(97290),n=s(18705),o=s(85790),l=s(6381);const{default:e}=await(0,i.VariablePanelAsync)(),d={extends:e,components:{UiBadge:n.A,UiHeaderActions:o.A},mixins:[a.A],data:()=>({hasRestore:!0}),methods:{resolveBadge(e){return{is:this.$options.components.UiBadge,text:e.name,description:this.$t(e.description),type:this.resolveType(e)}},resolveScopeTitle(e){const t="undefined"!==e&&this.scopes.length>1;return t?{is:this.$options.components.UiScopeTitle,title:e,icon:"database"}:null},resolveType(e){const{scopes:t,name:s}=e;return void 0===t?"default":this.variables.includes(s)?l.ck.VARIABLE:this.metrics.includes(s)?l.ck.METRIC:this.dimensions.includes(s)?l.ck.DIMENSION:this.fields.includes(s)?l.ck.FIELD:"default"},createSortVariableInfos(e){return"undefined"===e?()=>0:this.$createVarAliasSortForDatasetRequest(e)},onRestore(){this.$restoreAutoMapVarAliases()}}};r()}catch(d){r(d)}},1)},85790:(e,t,s)=>{s.d(t,{A:()=>c});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column flex-h-space-between gap-4 mar-bot-l1"},[t("ui-button",{staticClass:"w-100 btn-action",attrs:{outline:""},on:{click:function(t){return e.$emit("restore")}}},[t("div",{staticClass:"icon mar-right-2"},[t("i",{staticClass:"mdi mdi-18px mdi-refresh"})]),e._v(" ÐÐ²Ñ‚Ð¾Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ")]),t("ui-button",{staticClass:"w-100 btn-action",attrs:{outline:""},on:{click:function(t){return e.$emit("clear")}}},[t("div",{staticClass:"icon mar-right-2"},[t("i",{staticClass:"mdi mdi-18px mdi-delete-outline"})]),e._v(" ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ ")])],1)},i=[],a=s(18878);const n={name:"HeaderActionsDataset",components:{UiButton:a.UiButton}},o=n;s(95867);var l=s(81656),d=(0,l.A)(o,r,i,!1,null,"038df654",null);const c=d.exports},86419:(e,t,s)=>{var r=s(66282);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("66ebcc60",r,!0,{sourceMap:!1,shadowMode:!1})},87264:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".filter-item[data-v-579b7db5]{display:grid;grid-template-columns:1fr auto auto;-webkit-box-align:start;align-items:start}.filter-item__def[data-v-579b7db5]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-align:center;align-items:center}",""]);const l=o},87725:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".content[data-v-64a355b6]{max-height:50vh;overflow:auto}",""]);const l=o},87730:(e,t,s)=>{var r=s(12792);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("9b7fe1e0",r,!0,{sourceMap:!1,shadowMode:!1})},88487:(e,t,s)=>{s.d(t,{bv:()=>b,pF:()=>k,Sr:()=>P,Ah:()=>L,v3:()=>c,ZA:()=>p,c4:()=>u,Xq:()=>m,Dr:()=>d,Hf:()=>$,iU:()=>j,a2:()=>h,tw:()=>E,vW:()=>W,wB:()=>A,uG:()=>R,BM:()=>O,aU:()=>Q,Tu:()=>G,PL:()=>N,lw:()=>U,AG:()=>q,D2:()=>_,RH:()=>I,l_:()=>M,xD:()=>F,W5:()=>B,m7:()=>D,cY:()=>V,Fz:()=>C,t3:()=>T,So:()=>x,dO:()=>w,bu:()=>z,iZ:()=>H,aX:()=>S});var r=s(20903),i=s(81644),a=s(73663);class n extends a.InfrastructureError{constructor(e,{code:t,data:s,reason:r}={}){super(e,{code:t,data:s,reason:r}),this.name="DatasetQuerySyntaxError"}}const o=e=>Object.keys(e)[0]??null,l=e=>[e].flat(),d=({operator:e,value:t})=>{const s=i.QueryFilterOperatorValidator[e];return void 0!==s&&s(l(t))},c=({name:e,operator:t,value:s})=>{const r=d({operator:t,value:s});if(r)return{[e]:{[t]:l(s)}};throw new n(`Dataset query filter is not valid: "${e} ${t} ${s}"`,{data:{name:e,operator:t,value:s}})},u=({query:e,filter:t})=>{const s="string"===typeof t?t:o(t);return e[i.QueryKey.FILTERS].findIndex(e=>o(e)===s)},p=({query:e,filter:t})=>u({query:e,filter:t})>=0,h=({query:e,filter:t})=>{const s=u({query:e,filter:t}),a=(0,r.A)(e);return s>=0&&a[i.QueryKey.FILTERS].splice(s,1,t),a},m=e=>{const t=o(e),s=e[t],r=o(s),i=s[r];return{name:t,operator:r,value:i}},f=e=>{const t="null"===String(e).toLowerCase(),s=""!==e&&!Number.isNaN(Number(String(e)))&&!String(e).match(/^(0\d|\+|\.|0x)/i),r=["true","false"].includes(String(e).toLocaleLowerCase());return t||s||r},g=e=>"string"===typeof e&&null!==e.match(/^'(.*)'/),y=e=>"string"===typeof e&&null!==e.match(/^\{\{(.+)\}\}$/),v=e=>y(e)?e.replace(/^\{\{(.+)\}\}$/,"$1"):null,b=e=>f(e)?String(e):g(e)?e:y(e)?v(e):`'${e}'`,E=({query:e})=>{const t=(0,r.A)(e);return t[i.QueryKey.FILTERS]=t[i.QueryKey.FILTERS].map(e=>{const t=m(e);return t.value=t.value.map(b),c(t)}),t},_=({name:e,direction:t})=>({[e]:t}),S=({query:e,sort:t})=>{const s="string"===typeof t?t:o(t);return e[i.QueryKey.SORT].findIndex(e=>o(e)===s)},I=({query:e,sort:t})=>S({query:e,sort:t})>=0,D=({query:e,sort:t})=>{const s=S({query:e,sort:t});if(s>=0){const a=(0,r.A)(e);return a[i.QueryKey.SORT].splice(s,1,t),a}return e},M=e=>{const t=o(e),s=e[t];return{name:t,direction:s}},x=({query:e,variable:t})=>{const s="string"===typeof t?t:o(t);return e[i.QueryKey.VARIABLES].findIndex(e=>o(e)===s)},T=({query:e,variable:t})=>x({query:e,variable:t})>=0,w=e=>{const t=o(e),s=e[t];return{name:t,value:null==s?null:s.value}},C=e=>{const{name:t,value:s=null}=e;return{[t]:{value:s}}},A=({name:e,func:t,field:s})=>({name:e,definition:`${t}("${s}")`}),O=({query:e,metric:t})=>{const s=t?.name??t;return e[i.QueryKey.METRICS_CUSTOM].findIndex(({name:e})=>e===s)},R=({query:e,metric:t})=>O({query:e,metric:t})>=0,N=({query:e,metric:t})=>{const s=O({query:e,metric:t}),a=(0,r.A)(e);return s>=0&&a[i.QueryKey.METRICS_CUSTOM].splice(s,1,t),a},k=({[i.QueryKey.FROM]:e="",[i.QueryKey.FIELDS]:t=[],[i.QueryKey.METRICS]:s=[],[i.QueryKey.DIMENSIONS]:r=[],[i.QueryKey.FILTERS]:a=[],[i.QueryKey.VARIABLES]:n=[],[i.QueryKey.METRICS_CUSTOM]:o=[],[i.QueryKey.ORDER]:l=[],[i.QueryKey.SORT]:d=[],[i.QueryKeyRuntime.DRILLDOWNS]:c=[]}={})=>({[i.QueryKey.FROM]:e,[i.QueryKey.FIELDS]:t,[i.QueryKey.METRICS]:s,[i.QueryKey.DIMENSIONS]:r,[i.QueryKey.FILTERS]:a,[i.QueryKey.VARIABLES]:n,[i.QueryKey.METRICS_CUSTOM]:o,[i.QueryKey.ORDER]:l,[i.QueryKey.SORT]:d,[i.QueryKeyRuntime.DRILLDOWNS]:c}),P=({datasetName:e,query:t={}}={})=>k({...t,...e&&{$from:e}}),U=({query:e})=>{const t=Object.entries(i.QueryFilterPlaceholder),s=(0,r.A)(e);return s[i.QueryKey.FILTERS]=s[i.QueryKey.FILTERS].map(e=>{const s=m(e);return s.value=s.value.map(e=>t.reduce((e,[t,s])=>{const r=i.QueryFilterPlaceholderHandler[t];return e.replaceAll(s,r?r():s)},e)),c(s)}),s},L=({query:e,filter:t},s=!0)=>{if(!1===p({query:e,filter:t})){const s=(0,r.A)(e);return s[i.QueryKey.FILTERS].push(t),s}return s?h({query:e,filter:t}):e},$=({query:e,filter:t})=>{const s=u({query:e,filter:t});if(s>=0){const t=(0,r.A)(e);return t[i.QueryKey.FILTERS].splice(s,1),t}return e},j=({query:e})=>{const t=(0,r.A)(e);return t[i.QueryKey.FILTERS]=[],t},q=({query:e,sort:t},s=!0)=>{if(!1===I({query:e,sort:t})){const s=(0,r.A)(e);return s[i.QueryKey.SORT].push(t),s}return s?D({query:e,sort:t}):e},F=({query:e,sort:t})=>{const s=S({query:e,sort:t});if(s>=0){const t=(0,r.A)(e);return t[i.QueryKey.SORT].splice(s,1),t}return e},B=({query:e})=>{const t=(0,r.A)(e);return t[i.QueryKey.SORT]=[],t},H=({query:e,variable:t})=>{const s=x({query:e,variable:t});if(s>=0){const a=(0,r.A)(e);return a[i.QueryKey.VARIABLES].splice(s,1,t),a}return e},V=({query:e,variable:t},s=!0)=>{if(!1===T({query:e,variable:t})){const s=(0,r.A)(e);return s[i.QueryKey.VARIABLES].push(t),s}return s?H({query:e,variable:t}):e},z=({query:e,variable:t})=>{const s=x({query:e,variable:t});if(s>=0){const t=(0,r.A)(e);return t[i.QueryKey.FILTERS].splice(s,1),t}return e},W=({query:e,metric:t},s=!0)=>{if(!1===R({query:e,metric:t})){const s=(0,r.A)(e);return s[i.QueryKey.METRICS_CUSTOM].push(t),s}return s?N({query:e,metric:t}):e},Q=({query:e,metric:t})=>{const s=O({query:e,metric:t});if(s>=0){const t=(0,r.A)(e);return t[i.QueryKey.METRICS_CUSTOM].splice(s,1),t}return e},G=({query:e})=>{const t=(0,r.A)(e);return t[i.QueryKey.METRICS_CUSTOM]=[],t}},89643:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".layout[data-v-7a839268]{position:absolute;top:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;height:100%}.layout__header[data-v-7a839268]{display:grid;grid-template-columns:1fr auto;-webkit-box-align:center;align-items:center}.layout__content[data-v-7a839268]{-webkit-box-flex:1;flex:1 0 auto}.layout-controls[data-v-7a839268]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;gap:var(--spacer3)}.layout-controls__dataproviders[data-v-7a839268]{min-width:15rem}.debug-info[data-v-7a839268]{min-width:60vw;min-height:40vh}.debug-info__code[data-v-7a839268]{max-height:40vh;overflow:auto}",""]);const l=o},90229:(e,t,s)=>{var r=s(49782);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("72e9a3bc",r,!0,{sourceMap:!1,shadowMode:!1})},90431:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,'.color-mode-icon[data-v-9c3b2cea]{line-height:1;float:right;margin-right:var(--spacer1)}.color-constant-label-before[data-v-9c3b2cea]{min-height:calc(var(--line-height)*1rem);padding-bottom:var(--spacer2)}.color-constant-label[data-v-9c3b2cea],.color-constant-label__part[data-v-9c3b2cea]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.color-constant-label[data-v-9c3b2cea]{max-width:calc(100% - 1rem)}.color-constant-label__part[data-v-9c3b2cea]:not(:first-child):before{content:"â€“";padding:0 var(--spacer2)}.color-preview[data-v-9c3b2cea]{width:1em;height:1em;border:.0625rem solid var(--color-border)}',""]);const l=o},91780:(e,t,s)=>{s.d(t,{e:()=>c,_M:()=>u,tR:()=>l,U5:()=>p,Fk:()=>d,fl:()=>y.QueryAggregateFunctionName,Jc:()=>y.QueryFilterOperator,z9:()=>y.QueryFilterOperatorLabel,Bu:()=>y.QueryFilterOperatorValidator,m3:()=>y.QueryFilterPlaceholder,wC:()=>y.QueryFilterPlaceholderHandler,kE:()=>y.QueryKey,qX:()=>y.QueryKeyRuntime,oD:()=>y.QuerySortDirection,Sh:()=>y.QuerySortDirectionLabel,z8:()=>h,bv:()=>o.bv,pF:()=>o.pF,Sr:()=>o.Sr,Ah:()=>o.Ah,v3:()=>o.v3,ZA:()=>o.ZA,c4:()=>o.c4,Xq:()=>o.Xq,Dr:()=>o.Dr,Hf:()=>o.Hf,iU:()=>o.iU,a2:()=>o.a2,tw:()=>o.tw,vW:()=>o.vW,wB:()=>o.wB,uG:()=>o.uG,BM:()=>o.BM,aU:()=>o.aU,Tu:()=>o.Tu,PL:()=>o.PL,lw:()=>o.lw,AG:()=>o.AG,D2:()=>o.D2,RH:()=>o.RH,l_:()=>o.l_,xD:()=>o.xD,W5:()=>o.W5,m7:()=>o.m7,cY:()=>o.cY,Fz:()=>o.Fz,t3:()=>o.t3,So:()=>o.So,dO:()=>o.dO,bu:()=>o.bu,iZ:()=>o.iZ,aX:()=>o.aX,w$:()=>g});var r=s(37364),i=s(21587),a=s(21230),n=s(34198),o=s(88487);const l=Object.freeze({GET_BY_PATH:{name:"$",func:e=>e,get summary(){return`Ð˜Ð·Ð²Ð»ÐµÐºÐ°ÐµÑ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð¸Ð½Ð´ÐµÐºÑÑƒ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ° Ð¸ Ð¸Ð¼ÐµÐ½Ð¸ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ñ: ${this.name}('0.ÐœÐµÑ‚Ñ€Ð¸ÐºÐ°')`}},ABS:{name:"ÐÐ‘Ð¡",func:e=>Math.abs(e),get summary(){return`Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ: ${this.name}(-12)`}},SQUARE:{name:"ÐšÐ’Ð”Ð¢",func:e=>e**2,get summary(){return`Ð’Ð¾Ð·Ð²Ð¾Ð´Ð¸Ñ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð² ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚: ${this.name}(12)`}},SQRT:{name:"ÐšÐ Ð",func:e=>Math.sqrt(e),get summary(){return`Ð˜Ð·Ð²Ð»ÐµÐºÐ°ÐµÑ‚ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½Ñ‹Ð¹ ÐºÐ¾Ñ€ÐµÐ½ÑŒ Ð¸Ð· Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ: ${this.name}(12)`}},PCT:{name:"ÐŸÐ Ð¦Ð¢",func:(e,t)=>100*Math.abs((e-t)/t),get summary(){return`Ð Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð½Ð¾Ðµ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ðµ: ${this.name}(12, 34)`}}}),d=Object.freeze({[`${a.R}.refDatasetIndex`]:"Ð­Ñ‚Ð°Ð»Ð¾Ð½Ð½Ñ‹Ð¹ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº",[`${a.R}.refDatasetKey`]:"ÐšÐ»ÑŽÑ‡ ÑÑ‚Ð°Ð»Ð¾Ð½Ð½Ð¾Ð³Ð¾ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°",[`${a.R}.datasets`]:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð²",[`${a.R}.datasets.index`]:"Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº",[`${a.R}.datasets.key`]:"ÐšÐ»ÑŽÑ‡ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°",[`${a.R}.rules`]:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ð¹",[`${a.R}.rules.name`]:"ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ",[`${a.R}.rules.formula`]:"Ð¤Ð¾Ñ€Ð¼ÑƒÐ»Ð° Ñ€Ð°ÑÑ‡ÐµÑ‚Ð°"}),c=0,u="ÐžÑ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ðµ",p=["\\+","-","\\/","\\*","\\(","\\)","'","\\s","\\d","\\.",","],h=({name:e="",dataProviderId:t=null,query:s}={})=>({name:e,dataProviderId:t,query:(0,o.Sr)({query:s}),limit:50}),m=({name:e=""})=>({name:e,formula:""}),f=()=>({index:null,key:null}),g=(e,{prop:t=a.r,deviations:s=!1,panel:o={}}={})=>({...e,panels:[...!1===o?[]:(0,n.Zr)({prop:t,...o}),...!1===s?[]:[n.X6],...e.panels??[]],panelsDefault:[i.StylePanelAsync,i.EventPanelAsync,n.Fv],descriptor:()=>(0,r.A)({props:{[t]:{type:Array,default:()=>[],options:{create:h}},...s&&{[a.R]:{type:Object,default:()=>({refDatasetIndex:null,refDatasetKey:null,datasets:[],rules:[]}),options:{createRule:m,createDatasetProps:f},label:d}}}},e.descriptor?.()??{})});var y=s(81644)},91934:(e,t,s)=>{var r=s(80969);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("3dd6b7e0",r,!0,{sourceMap:!1,shadowMode:!1})},92274:(e,t,s)=>{s.r(t),s.d(t,{Elem:()=>r.A,ElemEvent:()=>a.U2,ElemRoot:()=>i["default"],StoreOperation:()=>n.Fp,default:()=>r.A,getDescriptorDefaultProps:()=>o.fS,getElemDomId:()=>o.np,mergeWidgetMetaComponentOptionsStrategy:()=>o.eM,normalizeDescriptorFormat:()=>o.af});var r=s(99960),i=s(42906),a=s(97165),n=s(30104),o=s(7178)},93313:(e,t,s)=>{var r=s(35052);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("63d279b2",r,!0,{sourceMap:!1,shadowMode:!1})},93650:(e,t,s)=>{s.r(t),s.d(t,{Destruct:()=>u,PanelUi:()=>i,Popup:()=>r.Popup,Portal:()=>r.Portal,Tooltip:()=>r.Tooltip,TooltipDefaultFactory:()=>r.TooltipDefaultFactory,TooltipItemRender:()=>r.TooltipItemRender,Ui:()=>r,UiButton:()=>i.UiButton,UiButtonBase:()=>r.UiButtonBase,UiCheckbox:()=>i.UiCheckbox,UiCollapse:()=>i.UiCollapse,UiComplexBorder:()=>i.UiComplexBorder,UiComplexBorderRadius:()=>i.UiComplexBorderRadius,UiComplexFont:()=>i.UiComplexFont,UiComplexShadow:()=>i.UiComplexShadow,UiContainer:()=>i.UiContainer,UiContainerBase:()=>r.UiContainerBase,UiCustomizableColor:()=>i.UiCustomizableColor,UiDraggableAccordion:()=>i.UiDraggableAccordion,UiGroup:()=>r.UiGroup,UiHasPanel:()=>i.UiHasPanel,UiHasTwoColumns:()=>i.UiHasTwoColumns,UiHeroPlaceholder:()=>r.UiHeroPlaceholder,UiHint:()=>i.UiHint,UiIcon:()=>r.UiIcon,UiInput:()=>i.UiInput,UiInputAuto:()=>i.UiInputAuto,UiInputBrowse:()=>i.UiInputBrowse,UiInputCp:()=>i.UiInputCp,UiInputDp:()=>i.UiInputDp,UiInputTags:()=>i.UiInputTags,UiInputTp:()=>i.UiInputTp,UiInputUnits:()=>i.UiInputUnits,UiInputUrl:()=>i.UiInputUrl,UiLabel:()=>i.UiLabel,UiNumberFormat:()=>i.UiNumberFormat,UiPagination:()=>i.UiPagination,UiPanel:()=>i.UiPanel,UiPanelContainer:()=>i.UiPanelContainer,UiPreloader:()=>r.UiPreloader,UiRadioButtons:()=>i.UiRadioButtons,UiSelect:()=>i.UiSelect,UiShim:()=>r.UiShim,UiSidebar:()=>r.UiSidebar,UiSidebarCollapse:()=>r.UiSidebarCollapse,UiSwitch:()=>i.UiSwitch,UiTextarea:()=>i.UiTextarea,UiTooltip:()=>i.UiTooltip,UiWysiwyg:()=>i.UiWysiwyg,WPanel:()=>i.WPanel,Wysiwyg:()=>r.Wysiwyg});var r=s(62041),i=s(84286);const a={functional:!0,props:{of:{type:Object,default:()=>null}},render(e,t){const{props:{of:s},scopedSlots:{is:r},children:i}=t;return null==s||null==r?i:r(s)}},n=a;var o,l,d=s(81656),c=(0,d.A)(n,o,l,!1,null,null,null);const u=c.exports},93898:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".filter-item[data-v-2d8db9f6]{display:grid;grid-template-columns:1fr auto auto;-webkit-box-align:start;align-items:start}.filter-item__def[data-v-2d8db9f6]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-align:center;align-items:center;gap:.25rem}",""]);const l=o},94032:(e,t,s)=>{s.r(t),s.d(t,{DEVIATION_DEFAULT_VALUE:()=>n.e,DEVIATION_RULE_NAME_PREFIX:()=>n._M,DataClient:()=>o.Qq,DataClientRequestError:()=>o.rq,DataClientService:()=>o.FG,DatasetClientFactory:()=>o.Ue,DatasetClientName:()=>o.HY,DatasetClientSymbol:()=>o.QH,DatasetEditorMessages:()=>l.WP,DatasetEntityType:()=>o.W6,DatasetPanel:()=>r.ri,DatasetQueryFilterInfoStoreable:()=>i.kf,DatasetQueryModelFactory:()=>i.O4,DatasetRequestFactory:()=>i._N,DatasetType:()=>o.DE,DatasetVariableTypeIdEnum:()=>o.Nh,DeviationContext:()=>n.tR,DeviationFormulaAllowedTokens:()=>n.U5,DeviationsLabelMap:()=>n.Fk,DeviationsPanelAsync:()=>r.X6,ElemDatasetBaseMixin:()=>a.KW,ElemDatasetBaseMixinTypes:()=>a.PP,ElemDatasetMixin:()=>a.ry,ElemDatasetMixinTypes:()=>a.q,MaterializationPlannerCronType:()=>o.ug,MaterializationStatus:()=>o.OX,MaterializationType:()=>o.qi,Messages:()=>l.B2,PanelDatasetMixin:()=>a.uQ,PanelDatasetMixinTypes:()=>a.xs,ProjectDataProviderRepository:()=>d.ProjectDataProviderRepository,QueryAggregateFunctionName:()=>n.fl,QueryFilterOperator:()=>n.Jc,QueryFilterOperatorLabel:()=>n.z9,QueryFilterOperatorValidator:()=>n.Bu,QueryFilterPlaceholder:()=>n.m3,QueryFilterPlaceholderHandler:()=>n.wC,QueryKey:()=>n.kE,QueryKeyRuntime:()=>n.qX,QueryModel:()=>i.YD,QueryModelBase:()=>i.bf,QueryModelExtended:()=>i.xA,QueryModelValidatorMessages:()=>l.sI,QuerySortDirection:()=>n.oD,QuerySortDirectionLabel:()=>n.Sh,Request:()=>i.Kd,VariablePanelAsync:()=>r.Fv,compareEntityType:()=>o.DC,createDataClientService:()=>o.L7,createDataset:()=>n.z8,createDatasetClient:()=>o.y6,createDatasetQueryFilterStoreable:()=>i.Y7,formatFilterValue:()=>n.bv,lang:()=>l.vV,queryCreate:()=>n.pF,queryCreateFromRequestProps:()=>n.Sr,queryFilterAdd:()=>n.Ah,queryFilterCreate:()=>n.v3,queryFilterExists:()=>n.ZA,queryFilterFindIndex:()=>n.c4,queryFilterGetInfo:()=>n.Xq,queryFilterIsValidInfo:()=>n.Dr,queryFilterRemove:()=>n.Hf,queryFilterRemoveAll:()=>n.iU,queryFilterUpdate:()=>n.a2,queryFormatFiltersValues:()=>n.tw,queryMetricCustomAdd:()=>n.vW,queryMetricCustomCreate:()=>n.wB,queryMetricCustomExists:()=>n.uG,queryMetricCustomFindIndex:()=>n.BM,queryMetricCustomRemove:()=>n.aU,queryMetricCustomRemoveAll:()=>n.Tu,queryMetricCustomUpdate:()=>n.PL,queryReplaceFilterPlaceholders:()=>n.lw,querySortAdd:()=>n.AG,querySortCreate:()=>n.D2,querySortExists:()=>n.RH,querySortGetInfo:()=>n.l_,querySortRemove:()=>n.xD,querySortRemoveAll:()=>n.W5,querySortUpdate:()=>n.m7,queryVariableAdd:()=>n.cY,queryVariableCreate:()=>n.Fz,queryVariableExists:()=>n.t3,queryVariableFindIndex:()=>n.So,queryVariableGetInfo:()=>n.dO,queryVariableRemove:()=>n.bu,queryVariableUpdate:()=>n.iZ,sortFindIndex:()=>n.aX,useDatasetMeta:()=>n.w$,useDatasetPanel:()=>r.m$,useDatasetPanels:()=>r.Zr,useDatasetVariablesPanel:()=>r.rP,useElemDatasetBaseMixin:()=>a.NM,useElemDatasetMixin:()=>a.g0,usePanelDatasetMixin:()=>a.TA});var r=s(34198),i=s(79581),a=s(35941),n=s(91780),o=s(58189),l=s(16542),d=s(30213)},94813:(e,t,s)=>{var r=s(73404);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("5166d515",r,!0,{sourceMap:!1,shadowMode:!1})},95867:(e,t,s)=>{var r=s(51861);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("4fa28802",r,!0,{sourceMap:!1,shadowMode:!1})},96047:(e,t,s)=>{s.r(t),s.d(t,{BaseError:()=>r,CoreError:()=>i,CoreWarning:()=>c,ExtendedInfoError:()=>a,InfrastructureError:()=>n,PresentableError:()=>d,RequestCancel:()=>l,SilentError:()=>o,WidgetDebugMessage:()=>u,WidgetPresentableError:()=>p,throwGlobal:()=>h});class r extends Error{constructor(e){super(e),this.name="BaseError",this.captureStackTrace(this.constructor)}captureStackTrace(e){Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack=(new Error).stack}}class i extends r{_reason;constructor(e,{reason:t}={}){super(e,{reason:t}),this.name="CoreError",this._reason=t}get reason(){return this._reason}}class a extends r{_code;_data;_reason;scope;constructor(e,{code:t,data:s,reason:r}={}){super(e),this.name="ExtendedInfoError",null!=t&&(this._code=t),this._data=s,this._reason=r}get data(){return this._data}get code(){return this._code}get reason(){return this._reason}toJSON(){const{name:e,code:t,data:s,reason:r,message:i}=this;return{name:e,message:i,code:t,data:s,reason:r}}}class n extends a{constructor(...e){super(...e),this.name="InfrastructureError"}}class o extends Error{constructor(...e){super(...e),this.name="SilentError"}}class l extends o{isCancel=!0;constructor(...e){super(...e),this.name="RequestCancel"}}class d extends o{constructor(...e){super(...e),this.name="PresentableError"}}class c extends o{_reason;constructor(e,{reason:t}={}){super(e),this.name="CoreWarning",this._reason=t}get reason(){return this._reason}}class u extends a{type="warning";scope=null;constructor(e,{code:t,data:s,reason:r}={},{type:i,scope:a}={}){super(e,{code:t,data:s,reason:r}),["error","warning","info","debug"].includes(i)&&(this.type=i),this.scope=a,this.name="WidgetDebugMessage"}}class p extends d{constructor(...e){super(...e),this.name="WidgetPresentableError"}}const h=(e,{context:t}={})=>{e instanceof o||(null!=t&&Error.captureStackTrace?.(e,t),e.scope="global",setTimeout(()=>{throw e}))}},96154:(e,t,s)=>{var r=s(87264);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("dedd056a",r,!0,{sourceMap:!1,shadowMode:!1})},96578:(e,t,s)=>{s.d(t,{H6:()=>r,Hv:()=>i,IN:()=>a});const r="fetchData",i="fetchDataEvent",a={type:String,default:"fetch-data",label:"Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð´Ð»Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ"}},96970:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".grid[data-v-39fba15c]{display:grid;gap:1rem}",""]);const l=o},97165:(e,t,s)=>{s.d(t,{$4:()=>a,Kz:()=>o,U2:()=>r,q1:()=>i,wy:()=>n});const r=Object.freeze({CREATED:"elem-created",MOUNTED:"elem-mounted",DESTROYED:"elem-destroyed",PROPS_CHANGE:"props-change"}),i="--w",a="data-elem",n="elem",o=new Map([["marginT","mar-top"],["marginR","mar-right"],["marginB","mar-bot"],["marginL","mar-left"],["paddingT","pad-top"],["paddingR","pad-right"],["paddingB","pad-bot"],["paddingL","pad-left"]])},97290:(e,t,s)=>{s.d(t,{A:()=>r});const r={computed:{dimensions(){const{elementInstance:{dimensions:e,$drilldown:t={dimensions:[]}}}=this;return[...e,...t.dimensions]},metrics(){const{elementInstance:{metrics:e}}=this;return e},fields(){const{elementInstance:{fields:e}}=this;return e},variables(){const{elementInstance:{variables:e}}=this;return e}},methods:{$createVarAliasSortForDatasetRequest(e){const{elementInstance:{requests:t}}=this,{dimensions:s,metrics:r,variableNames:i,order:a}=t.filter(Boolean).find(({name:t})=>t===e).query,n=[...s,...r],o=({name:e})=>i.includes(e)?Number.NEGATIVE_INFINITY:n.includes(e)?a.indexOf(e):Number.POSITIVE_INFINITY;return(e,t)=>o(e)-o(t)},$restoreAutoMapVarAliases(){const{descriptor:e}=this,t=e.dataset?.vars;if(null==t&&this.$storeAutoMapVarAliases(this.dimensions,this.StoreOperation.ALL),null!=t){const{metric:{operation:e=[]}={},dimension:{operation:s=[]}}=t;e.length>0&&this.$storeAutoMapVarAliases(this.metrics,e),s.length>0&&this.$storeAutoMapVarAliases(this.dimensions,s)}},$storeAutoMapVarAliases(e,t){e.forEach(e=>{this.$storeMeta.setVar({varAlias:e,operation:t})}),this.$storeMeta.saveVars()}}}},97945:(e,t,s)=>{s.d(t,{bo:()=>u,UO:()=>m,WQ:()=>h,RR:()=>y,dU:()=>v,mk:()=>I,gt:()=>g,qo:()=>M,bV:()=>b,QP:()=>f,o1:()=>x});var r=s(29565),i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row row-hgap-3"},[t("div",{staticClass:"col col-vmid text-truncate"},[t("ui-label",{attrs:{prop:e.prop,"label-size":e.labelSize},scopedSlots:e._u([{key:"default",fn:function({Label:t,getLabel:s}){return[e._t("label",null,null,{Label:t,getLabel:s})]}},{key:"hint",fn:function({Hint:t,getHint:s=()=>{}}){return[e._t("hint",null,null,{Hint:t,getHint:s})]}}],null,!0)})],1),e.$slots.helper?t("div",{staticClass:"col col-auto col-vmid"},[e._t("helper")],2):e._e(),t("div",{staticClass:"col col-vmid",class:[e.colSizeCl]},[e._t("control")],2)])},a=[];const n={components:{UiLabel:()=>s.e(4110).then(s.bind(s,73086))},props:{prop:{type:String,default:""},colSize:{type:String,default:"12-12"},labelSize:{type:String,default:"xsmall",validation(e){return["xsmall","small"].includes(e)}}},computed:{colSizeCl(){return`col-${this.colSize}`}}},o=n;var l=s(81656),d=(0,l.A)(o,i,a,!1,null,null,null);const c=d.exports,u={inheritAttrs:!1,components:{ControlLayout:c},inject:{panel:{name:"panel",default:null}},beforeCreate(){this.$emitOriginal=this.$emit},props:{value:{type:String,default:""},prop:{type:String,default:""},colSize:{type:String,default:"12-12",validation(e){const t=e.match(/^(\d+)-(\d+)$/);return!!t&&(t.shift(),t.every(e=>e>=1||e<=12))}},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{prop:{handler(e){!1!==this.hasPropName&&this.panel?.validatePropExist(this.prop)},immediate:!0},hasPropName:{handler(e){const t=["input","change"],s=["change"];this.$emit=e?function(e,r,...i){t.includes(e)&&this.setPropAuto(r,s.includes(e)),this.$emitOriginal.call(this,e,r,...i)}:this.$emitOriginal.bind(this)},immediate:!0}},computed:{attrs(){const{colSize:e,value:t,disabled:s,...r}=this.$attrs;return{...r,disabled:this.disabled,value:this.valueResolved}},hasPropName(){return""!==this.prop},valueResolved(){return this.hasPropName&&"value"in this.$options.propsData===!1?this.panel?.getProp(this.prop):this.value},listeners(){const{input:e,change:t,...s}={...this.$listeners};return{...s,input:this.onInput,change:this.onChange}},controlCl(){return{invalid:this.invalid,disabled:this.disabled}}},methods:{valueExtract:e=>e,onInput(e){this.$emit("input",this.valueExtract(e))},onChange(e){this.$emit("change",this.valueExtract(e))},setPropAuto(e,t=!0){this.panel?.setProp(this.prop,this.ensurePropValueType(e),t)},ensurePropValueType(e){return"number"===this.attrs.type?""===e?null:Number(e):e}}};var p=s(46996);const h={props:{value:{type:Object,default:()=>({})}},data:e=>({model:e.createSettings()}),watch:{valueResolved:{deep:!0,immediate:!0,handler(e){(0,p.A)(e,this.model)||(this.model=this.createSettings(e))}},model:{deep:!0,handler(e){(0,p.A)(e,this.valueResolved)||this.emitChanges(e)}}},methods:{createSettings(e={}){return{...e}},emitChanges(e){const t=this.createSettings(e);this.$emit("input",t),this.$emit("change",t)}}},m={inject:{panel:{name:"panel",default:null}},props:{prop:{type:String,default:""}},computed:{hasPropName(){return""!==this.prop},Label(){return this.hasPropName?{functional:!0,render:e=>e("span",this.label)}:null},Hint(){return this.hasPropName?{functional:!0,render:e=>e("span",this.hint)}:null},label(){return!1===this.hasPropName?"":this.panel?.getLabel(this.prop)},hint(){return!1===this.hasPropName?null:this.panel?.getHint(this.prop)},hasHint(){return null!=this.hint||null!=this.$scopedSlots.hint?.()}},methods:{getLabel(e){return this.panel?.getLabel(e)},getHint(e){return this.panel?.getHint(e)}}},f=()=>Object.keys(r.ConstManager.instance.getConstantsHash()),g=({color:e="",fontSize:t="",fontFamily:s="",fontWeight:r="",...i}={})=>({color:e,fontSize:t,fontFamily:s,fontWeight:r,...i}),y=({color:e="rgba(238, 238, 238, 1)",width:t="1px",style:s="none",...r}={})=>({color:e,width:t,style:s,...r}),v=({topLeft:e="",topRight:t="",bottomRight:s="",bottomLeft:r="",...i}={})=>({topLeft:e,topRight:t,bottomRight:s,bottomLeft:r,...i}),b=({color:e="",blur:t="",shiftX:s="",shiftY:r="",type:i="",...a}={})=>({color:e,blur:t,shiftX:s,shiftY:r,type:i,...a}),E=({color:e="",step:t=0,colors:s={},dimensions:r=[]}={})=>({color:e,step:t,colors:s,dimensions:r}),_=({colors:e=[]}={})=>({colors:e}),S=({metric:e=""}={})=>({metric:e}),I=({type:e="",dimensions:t=E(),metrics:s=S(),indexes:r=_(),...i}={})=>({type:e,dimensions:E(t),metrics:S(s),indexes:_(r),...i}),D=({background:e="",font:t=g()}={})=>({font:g(t),background:e}),M=({active:e=D(),base:t=D(),height:s="",width:r="",position:i="",gap:a="",pages:n=0,borderRadius:o=v(),...l}={})=>({active:D(e),base:D(t),height:s,width:r,position:i,gap:a,pages:n,borderRadius:v(o),...l}),x=e=>CSS.supports("background",e)},98074:(e,t,s)=>{var r=s(4336);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("06d0b799",r,!0,{sourceMap:!1,shadowMode:!1})},99165:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".dataset[data-v-0cb732c6]{display:grid;grid-template-columns:1fr 1fr 12rem;gap:1rem;padding:1rem;-webkit-transition:outline .1s ease;transition:outline .1s ease;cursor:pointer;outline:.1rem solid transparent}.dataset.selected[data-v-0cb732c6],.dataset[data-v-0cb732c6]:hover{outline-color:var(--color-primary-focus)}",""]);const l=o},99184:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(31601),i=s.n(r),a=s(76314),n=s.n(a),o=n()(i());o.push([e.id,".dataset-grid[data-v-4faef032]{display:grid;gap:1rem}.dataset-grid__item[data-v-4faef032]{display:grid;grid-template-columns:auto 1fr auto;gap:.5rem}.dataset-grid__head[data-v-4faef032]{display:grid;grid-template-columns:1fr auto;gap:.5rem}.toast[data-v-4faef032]{z-index:10000}.toast-enter-active[data-v-4faef032],.toast-leave-active[data-v-4faef032]{-webkit-transition:opacity .2s ease;transition:opacity .2s ease}.toast-enter[data-v-4faef032],.toast-leave-to[data-v-4faef032]{opacity:0}.toast.error[data-v-4faef032]{background-color:var(--color-red);color:#fff}",""]);const l=o},99219:(e,t,s)=>{var r=s(43157);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var i=s(99548).A;i("96da864a",r,!0,{sourceMap:!1,shadowMode:!1})},99960:(e,t,s)=>{s.d(t,{A:()=>h});var r=s(20330),i=s.n(r),a=s(71193),n=s(52681);const o=!1===i().config.silent?a["default"]:n["default"],l=o;var d,c,u=s(81656),p=(0,u.A)(l,d,c,!1,null,null,null);const h=p.exports}};