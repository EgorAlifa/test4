export const __webpack_id__=8088;export const __webpack_ids__=[8088];export const __webpack_modules__={21586:(l,n,t)=>{t.d(n,{c:()=>e,z:()=>s});const e=void 0,s=void 0},71010:(l,n,t)=>{t.r(n),t.d(n,{default:()=>P});var e=function(){var l=this,n=l._self._c;return n("w-elem",{attrs:{placeholder:l.$placeholder}},[n("div",{staticClass:"d-flex gap-1 mar-bot-1 mar-top-1"},[n("button",{staticClass:"btn btn-secondary btn-small",class:{disabled:!l.drilldownCanPush},attrs:{disabled:!l.drilldownCanPush},on:{click:l.drilldownPush}},[l._v(" push: "+l._s(l.drilldownCanPush)+" ")]),n("button",{staticClass:"btn btn-secondary btn-small",class:{disabled:!l.drilldownCanPop},attrs:{disabled:!l.drilldownCanPop},on:{click:l.drilldownPop}},[l._v(" pop: "+l._s(l.drilldownCanPop)+" ")])]),l.result?n("div",l._l(l.result.rows,function(t,e){return n("pre",{key:e},[l._v(l._s({...t}))])}),0):l._e(),l.isLoading?n("div",[l._v("loading...")]):l._e(),l.error?n("div",[l._v(l._s(l.error))]):l._e(),l.pages>1?n("ul",{staticClass:"pagination"},l._l(l.pages,function(t){return n("li",{key:t,class:{active:t===l.page}},[n("button",{on:{click:function(n){return n.stopPropagation(),l.loadDataPage(t)}}},[l._v(l._s(t))])])}),0):l._e()])},s=[],i=t(93423),d=t(5021);const a={watch:{queryModel:{handler(l,n){}},queryModels:{handler(l,n){}},metrics:{handler(l,n){}},dimensionsMetrics:{handler(l,n){}},dimensions:{handler(l){!1===l.includes(this.props.dimension)&&(this.props.dimension=l[0]??"",this.propChanged("dimension"))},immediate:!0}}},o=[()=>Promise.all([t.e(3371),t.e(1613)]).then(t.bind(t,38942))],r=()=>({props:{metric:{type:String,default:null,label:"Метрика"},dimension:{type:String,default:null,label:"Измерение"},dimensionOrMetric:{type:String,default:null,label:"Измерение/метрика"},field:{type:String,default:null,label:"Поле"},drilldownName:{type:String,default:null,label:"Дриллдаун"}}}),p={descriptor:r,panels:o,isChildAllowed:!1},c=(0,d.useDatasetMeta)(p,{panel:{mixins:[a]}});var u=t(21586);const h=(0,d.useElemDatasetMixin)({drilldown:!0,panel:!1}),m={extends:i.Elem,mixins:[h],meta:c,hooks:{before(l){},then(l){},catch(l){},finally(){}},data:()=>({}),computed:{drilldownState(){return{canPop:!1,canPush:!1,...this.$drilldown.state[this.props.drilldownName]}},drilldownCanPop(){return this.drilldownState.canPop},drilldownCanPush(){return this.drilldownState.canPush},drilldownDimension(){return this.drilldownState.dimension}},methods:{...u.c,...d.ElemDatasetMixinTypes,loadDataPage(l){this.page=l,this.loadData()},drilldownPush(){const{drilldownName:l}=this.props;if(this.drilldownCanPush){const n=this.result.rows[0][l];this.$storeCommit({[l]:n}),this.$drilldown.push(l,n)}},drilldownPop(){const{drilldownName:l}=this.props;this.drilldownCanPop&&(this.$drilldown.pop(l),this.$storeCommit({[l]:null}))}}},w=m;var _=t(81656),b=(0,_.A)(w,e,s,!1,null,null,null);const P=b.exports}};