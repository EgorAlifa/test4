export const __webpack_id__=5364;export const __webpack_ids__=[5364];export const __webpack_modules__={89552:(e,t,n)=>{n.d(t,{z:()=>u});var r=n(14413),o=n(42845),i=n(42225),l=n(1575);class s extends o.LN{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return s.valid(n)?new s(n):o.LN.near(n)}content(){return i.Ji.empty}eq(e){return e instanceof s&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new s(e.resolve(t.pos))}getBookmark(){return new c(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!a(e)||!d(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&s.valid(e))return e;let r=e.pos,i=null;for(let n=e.depth;;n--){let o=e.node(n);if(t>0?e.indexAfter(n)<o.childCount:e.index(n)>0){i=o.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let l=e.doc.resolve(r);if(s.valid(l))return l}for(;;){let l=t>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!o.nh.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),n=!1;continue e}break}i=l,r+=t;let c=e.doc.resolve(r);if(s.valid(c))return c}return null}}}s.prototype.visible=!1,s.findFrom=s.findGapCursorFrom,o.LN.jsonID("gapcursor",s);class c{constructor(e){this.pos=e}map(e){return new c(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return s.valid(t)?new s(t):o.LN.near(t)}}function a(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function d(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function u(){return new o.k_({props:{decorations:v,createSelectionBetween(e,t,n){return t.pos==n.pos&&s.valid(n)?new s(n):null},handleClick:h,handleKeyDown:p,handleDOMEvents:{beforeinput:m}}})}const p=(0,r.K)({ArrowLeft:f("horiz",-1),ArrowRight:f("horiz",1),ArrowUp:f("vert",-1),ArrowDown:f("vert",1)});function f(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){let l=e.selection,c=t>0?l.$to:l.$from,a=l.empty;if(l instanceof o.U3){if(!i.endOfTextblock(n)||0==c.depth)return!1;a=!1,c=e.doc.resolve(t>0?c.after():c.before())}let d=s.findGapCursorFrom(c,t,a);return!!d&&(r&&r(e.tr.setSelection(new s(d))),!0)}}function h(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!s.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&o.nh.isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new s(r))),!0)}function m(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof s))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let l=i.FK.empty;for(let o=r.length-1;o>=0;o--)l=i.FK.from(r[o].createAndFill(null,l));let c=e.state.tr.replace(n.pos,n.pos,new i.Ji(l,0,0));return c.setSelection(o.U3.near(c.doc.resolve(n.pos+1))),e.dispatch(c),!1}function v(e){if(!(e.selection instanceof s))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",l.zF.create(e.doc,[l.NZ.widget(e.selection.head,t,{key:"gapcursor"})])}}};